00:17 <@deen> eeeee: i put the total download statistics up https://www.teeworlds.com/forum/viewtopic.php?pid=112846#p112846
00:17 <@deen> Maybe 1-2 TBs per month
00:18 <@deen> If anyone wants to code something: https://github.com/def-/ddnet/issues/126
00:18 < eeeee> hows the website 207 gb per month
00:18 < eeeee> is that all updates?
00:21 <@deen> updates, map testers, forum is really heavy with images
00:22 <@deen> and lots of visitors
00:22 <@deen> oh, it also hosts my weblog, which had a pretty popular post, but i don't think that made much traffic
00:22 <@deen> since it's text only
00:22 <@deen> and the website got ddosed, maybe a bit got through? but 200 GB doesn't look like much
00:47 < eeeee> Learath2: looked into cdn a bit more, if deen's estimate is correct then its too expensive to buy one ($40 per TB)
00:48 < eeeee> so we'll have to stick to hosting it on 1-2 vps, or try cloudflare (would require some h4x to make it work though https://support.cloudflare.com/hc/en-us/articles/200172516-Which-file-extensions-does-CloudFlare-cache-for-static-content- )
00:51 <@deen> or we host it on all of ddnet!
00:52 < eeeee> could do that but that could theoretically add more jitter to the gameserver traffic
00:53 < eeeee> well i guess we could serve the maps from the underloaded regions only
00:53 < eeeee> like usa
00:54 <@deen> hm, yeah, you're right about the jitter
00:55 < eeeee> like imagine what a map release on a full 64p server would do to another server running on the same host :D
01:01 < Learath2> amazon cloud stuff could be pretty cheap actually
01:03 < eeeee> http://aws.amazon.com/cloudfront/pricing/
01:03 < eeeee> way more expensive than $40/TB (which is what keycdn.com offers)
01:04 < Learath2> how do you even read that ? :P
01:04 < Learath2> its such a weird pricing table
01:04 < ochristi> aws 8.5$/TB/month
01:05 < eeeee> prooflink or didnt happen
01:05 < ochristi> this is what I read, first 10TB/month @0.085/GB
01:06 < eeeee> 0.085*1000 = 85 :)
01:06 < ochristi> oh wait I mistakenly divided by 10, but that was incorrect :(
01:06 < Learath2> could also spawn many micro spot instances on EC2
01:07 < Learath2> should cost around 2.3$ per month 
01:07 < eeeee> Learath2: it's a pita to manage, all the caching and storage. you'll also have to set up geo dns
01:07 < eeeee> and you have to pay separate for traffic anyway
01:09 < ochristi> as far as I remember edis got couple of TB for around 10â‚¬ on KVMs in multiple locations
01:10 <@deen> I'm not planning to buy anything for map downloads btw
01:12 < eeeee> i guess we could start with hosting it on one server
01:12 < eeeee> like website or CAN or sth
01:13 < eeeee> i could get you another ger nfoserver for mapdl later
01:13 < eeeee> not sure if we should bother with geodns
01:14 < Learath2> i could also get a server 
01:14 <@deen> yes, website should be fine
01:14 <@deen> adding other locations is not that easy
01:14 <@deen> how would you do it so you get the right server?
01:15 < eeeee> geodns
01:15 < eeeee> set up your dns server to return the ip depending on client's ip
01:15 < eeeee> (in this case client would be not the actual player but rather his upstream dns server)
01:16 < eeeee> usually that's close enough
01:17 < Learath2> could get one for usa and one in germany which should give most of the people good speeds and geodns shouldnt be too hard
01:18 <@deen> Learath2: not sure about that since we have very few north american players
01:19 < eeeee> yeah just website server would be a good start
01:19 <@deen> except the website is not reachable if you have a certain fritzbox model and use wifi
01:19 < ochristi> lol
01:19 < eeeee> i think the goal here is mostly to relieve the gameservers and get rid of the hacky fastdl which causes problems for some players
01:20 <@deen> they have a bug in their software, it's fixed, but the fix is still beta and if you have a loaned fritzbox you're not allowed to update
01:20 <@deen> eeeee: yep
01:20 <@deen> fritzbox doesn't only have this problem with ddnet.tw though, twitter.com doesn't work as well for example
01:21 < ochristi> I read that today, sounded quite surreal
01:21 < eeeee> can you share a link to the bug?
01:21 <@deen> ochristi: yeah, i didn't believe it either when someone reported it
01:21 <@deen> then i tried it on my own fritbox and i actually can't access ddnet.tw through wifi
01:21 <@deen> http://avm.de/nc/service/fritzbox/fritzbox-7390/wissensdatenbank/publication/show/1551_Nach-FRITZ-OS-Update-mit-einzelner-Anwendung-kein-Internetzugriff-moeglich/
01:22 <@deen> ssh doesn't work either, really great!
01:22 < eeeee> also as i mentioned we could try cloudflare but we'll have to rename all the .map to sth else (like .pls) to make cloudflare cache it
01:23 < eeeee> doesn't sound like a very robust solution but since we'd have udp fallback it should be fine
01:23 < eeeee> if it doesn't work we can always swap out the dns and serve directly
01:23 < Learath2> deen: where are most of the players anyways
01:24 <@deen> Learath2: europe and chile
01:24 <@deen> http://ddnet.tw/stats
01:24 < ochristi> deen does it block hostnames with "tw" in the name?
01:25 <@deen> ochristi: that would be interesting, but no idea
01:25 <@deen> i updated the firmware already, now i have other bugs
01:25 <@deen> (traffic shaping doesn't work anymore)
01:25 <@deen> i should just go back to my openbsd router...
01:25 < Learath2> one CHL one europe and maybe one CHN should cover all the player base
01:25 <@deen> but hey, openbsd had a kernel memory leak!
01:26 <@deen> CHN?!
01:26 <@deen> that down there is South Africa
01:26 < ochristi> hm, I got a fb in my other flat, not sure if I have installed the broken update, will see tomorrow
01:27 < Learath2> oic yeah why do they have the same color :D
01:28 <@deen> not enough colors!
01:29 < Learath2> brown :P
03:34 < ddnet-commits> [ddnet] def- pushed 1 new commit to DDRace64: http://git.io/seM_3g
03:34 < ddnet-commits> ddnet/DDRace64 191dca3 def: No more static linking
03:34 < eeeee> duh
03:35 < eeeee> and i just found out i can simply use OptTestCompileC to detect if that flag is available
03:42 < ddnet-commits> [ddnet] eeeee opened pull request #128: fix mac os build (DDRace64...mac_build) http://git.io/EaFEHg
03:49 < ddnet-commits> [ddnet] def- closed pull request #128: fix mac os build (DDRace64...mac_build) http://git.io/EaFEHg
07:07 < baklava-tee> Hello! Do I need to download the client to play on ddnet?
07:09 < baklava-tee> I just entered a server, nvm ^^
09:21 < eeeee> baklava-tee: you should still download the client, it works better than the original one
10:14 < baklava-tee> Ok, I will
10:15 < baklava-tee> And I guess the list of the official servers is a bit hidden. I got the IPs from the status page ^^
11:12 < Nimda> DDNet CHN went down!
11:13 < Nimda> DDNet CHN went back online!
12:31 < Nimda> DDNet CHN went down!
12:32 < Nimda> DDNet CHN went back online!
13:22 < ddnet-commits> [ddnet] def- pushed 2 new commits to DDRace64: http://git.io/kVMS0A
13:22 < ddnet-commits> ddnet/DDRace64 fcbe0f5 def: Add cl_show_broadcasts, but don't save it
13:22 < ddnet-commits> ddnet/DDRace64 788f560 def: Merge branch 'DDRace64' of github.com:def-/ddnet into DDRace64
13:22 <@deen> baklava-tee: there's a list right on http://ddnet.tw at the top
13:23 <@deen> "he official servers are located in Germany, USA, Canada, Russia, China, Chile, Brazil and South Africa"
13:23 <@deen> and ingame you can find the servers by searching for DDNet
13:56 < Savander> hello guys
14:29 <@deen> hi
15:13 < laxa> deen: meskalin came on TS : said : talk to me now or I'll crash your server and then crashed it
15:18 <@EastByte> how did he do it?
15:19 <@EastByte> what kind of server? ts or tw?
15:19 <@EastByte> laxa: 
15:19 < laxa> TS3
15:19 < laxa> I just upgraded to last version
15:19 <@EastByte> update it
15:19 <@EastByte> there was a new exploit some days ago
15:20 < laxa> I just saw that on changelog
15:20 <@EastByte> good
15:20 < laxa> hope he can't crash it anymore :(
15:20 < laxa> but still, I don't know what he wanted
15:20 <@EastByte> he can't
15:20 < laxa> he said : <15:03:38> "Meskalin": you better stay here for a sek
15:20 < laxa> <15:03:58> "Meskalin": Rules: - you dont ban me, or i will crash ur shiny ts server
15:20 < laxa> <15:04:01> "Meskalin": ok?
15:20 < laxa> <15:04:07> "Meskalin": heres a little proof
15:22 < laxa> any of you know if meskalin is playing ?
15:22 < laxa> !twp Meskalin
15:22 < Nimda> No Meskalin found online.
15:22 < laxa> !twp meskalin
15:22 < Nimda> No meskalin found online.
15:27 < laxa> ah, he is back on TS
15:31 < laxa> well, he wanted to have fun by crashing the server
15:31 < laxa> I banned him for life, I hope he won't become mad and ddos me :D
15:59 <@EastByte> laxa: probably he will :p
16:20 < Savander> laxa: 
16:20 < Savander> which version you had?
16:21 < Savander> ?
16:21 < Savander> when meskalin crashed you?
16:56 < laxa> 3.0.11.0
16:56 < laxa> I upgraded to 3.0.11.2
16:56 < laxa> now it's fine :)
17:05 < Savander> os?
17:23 <@deen> linux i guess
17:47 < laxa> Ubuntu 12.04 LTS
17:54 <@deen> Finally uploaded all my old code somewhere and cleaned up my website
17:54 <@deen> I still like this one: http://felsin9.de/nnis/software/#gifstream-(2012)
19:06 < Nimda> DDNet CHN went down!
19:07 < Nimda> DDNet CHN went back online!
19:09 < Nimda> DDNet CHN went down!
19:10 < Nimda> DDNet CHN went back online!
19:14 < baklava-tee> @deen: Ok, thanks! I didn't notice that "official servers" is a link ^^
19:15 < Nimda> DDNet CHN went down!
19:16 < Nimda> DDNet CHN went back online!
19:16 <@deen> so many heated discussions in the forum
19:16 <@deen> can't even read them all...
19:17 <@deen> mainly it's about whetherto release more maps or fewer
19:23 < ddnet-commits> [ddnet] trml opened pull request #129: Client side prediction of weak/strong hook (DDRace64...predict_hookstrength) http://git.io/ce9jwA
19:44 <@deen> hi nuborn
19:44 < nuborn> hi deen
19:44 < nuborn> I sent the stuff I talked about it earlier
19:45 < nuborn> about*
19:45 <@deen> yes, i see
19:46 <@deen> but i don't have time to look at it now and test it
19:46 < nuborn> thats ok
19:46 < nuborn> will you have time later? :)
19:47 <@deen> not sure, really busy week coming
19:51 < nuborn> no problem
19:57 <@deen> if someone else wants to review and test, feel free
20:15 < Nimda> DDNet CHN went down!
20:16 < Nimda> DDNet CHN went back online!
20:21 < Nimda> DDNet CHN went down!
20:22 < Nimda> DDNet CHN went back online!
22:11 <@deen> Someone renamed a DDNet USA server to "Torneo de Mexico" and there's a bunch of mexicans holding a Vanilla tournament
22:55 < Savander> It changing something in perfomence if cpu scaling_governor is setted to "perfomence" instead of "ondemand"?
22:55 < Savander> on linux
22:56 < eeeee> migth improve latency a tiny bit
22:56 < eeeee> most likely not noticeable. the power consumption will skyrocket though
22:57 < Savander> i had onemand on kimsufi server.
22:57 < eeeee> yeah if it's on rented server then you don't have to care much about power i guess
22:58 < Savander> btw. where can be a problem. On teeworlds server, sometimes we got lags. Not ping jumping, just micro-freezes
22:58 < Savander> Yes, and I'm not worried ;P
22:58 < eeeee> also in some edge cases performance could perform worse than ondemand when using intel cpus because they consider their temperature when they decide if they should turbo boost or not
22:59 < Savander> AMD cpu
22:59 < Savander> or not, wait i don't remember i checked it on vps and on dedicated
22:59 < eeeee> on vps setting likely has no effect anyway
22:59 < Savander> ye, it  not exists
22:59 < Savander> scaling_governor
23:00 < eeeee> on dedicated you should just try setting to performance
23:00 < eeeee> and look up the temperature
23:00 < eeeee> if temp is fine just leave it like that
23:01 < eeeee> you could also do some hack to make it "performance" when someone is playing on your server and "powersave" otherwise, that would be so green and eco :)
23:03 < Savander> i'm unskilled, don't know how, so i can't do this :p.
23:12 < Savander> temps are okay, 30-32 *C
23:12 < Savander> good :)
