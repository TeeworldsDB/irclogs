00:05 <+bridge> [ddnet] <louis> yeah i was using it and its rly helpful if u want to spec a team far away
00:06 <+bridge> [ddnet] <louis> but took a while to get used to
10:51 <+ChillerDragon> wow when did the spec speed changed? I did not notice anything o.O maybe because i prefer to play over spectating :D
11:18 <+ChillerDragon> 1;3A
11:18 <+ChillerDragon> oop
11:32 <+ChillerDragon> @heinrich5991 can you explain your motivation for f8277267a0a8a4d2ac296cdf4b22cab00047c5e3 and why it is not in vanilla?
12:47 <+bridge> [ddnet] <Im 'corneum> now that the percentage thing is shown at the rank. wouldnt it make sense to reform the rankpoints system?  so you get rankpoints for every finish and it doesnt need to be in the top10
12:49 <+bridge> [ddnet] <deen> That would mean we have to clean out all duplicate ranks, instead of just in the top 10, way too much work
12:49 <+bridge> [ddnet] <deen> (by duplicate I mean same person finishing with multiple names)
12:50 <+bridge> [ddnet] <Im 'corneum> ah right...
12:51 <+bridge> [ddnet] <Im 'corneum> but still its hard to get in the top10 on many maps and its not a good motivation to do a speedrun
12:54 <+bridge> [ddnet] <deen> Could measure it as % slower than top time, but I'm not that motivated to change it
14:16 <+bridge> [ddnet] <Ryozuki> i did the stupid thing of shutting down while updating and it was updating kernel related stuff
14:16 <+bridge> [ddnet] <Ryozuki> lucky i had a live usb near
14:16 <+bridge> [ddnet] <Ryozuki> on windows u would be fucked, lucky on linux u have full control
14:18 <+bridge> [ddnet] <ScReeNy> Ryozuki too stupid for windows
14:21 <+bridge> [ddnet] <Ryozuki> not stupid
14:21 <+bridge> [ddnet] <Ryozuki> its simply that on windows u wouldnt be able to fix it
14:23 <+bridge> [ddnet] <heinrich5991> ChillerDragon: less unused code. that should be enough
14:23 <+bridge> [ddnet] <heinrich5991> ChillerDragon: I didn't want to engage in discussions whether an obviously unused feature should be removed or not, tw usually seems skeptical of changes like that
15:02 <+ChillerDragon> ok thanks
15:03 <+ChillerDragon> Ryozuki: i wouldnt be able to fix it on linux either and would have to buy a new linux xd
15:20 <+bridge> [ddnet] <Ryozuki> Cuz u nobo
15:31 <+bridge> [freenode] <Ryozuki> ChillerDragon do u have a rpi with raspbian?
15:32 <+bridge> [freenode] <Ryozuki> Heads up: In a significant screw-up, the Raspberry PI foundation pushed an update installing Microsoft GPG keys and repo secretly all Raspberry PIs running Raspbian Linux. They are currently silencing everyone on their forum who is pointing out this issue. https://t.co/wF6eUCoaOn
15:42 <+bridge> [ddnet] <Skyrx> mac book pro 2020 44fps ingame
15:42 <+bridge> [ddnet] <Skyrx> is it normal?
15:48 <@deen> nope, should be much higher
15:48 <@deen> maybe it renders at 4x resolution and then gets scaled down?
15:50 <+ChillerDragon> wtf Ryozuki yes i use it as router
15:50 <+ChillerDragon> that sounds fucked up
15:50 <+bridge> [ddnet] <Skyrx> how 2 fix that btw
15:50 <+bridge> [ddnet] <Skyrx> ?
15:50 <+bridge> [freenode] <Ryozuki> Install arch
15:52 <+bridge> [ddnet] <Skyrx> n1 advice
15:52 <+ChillerDragon> it actually is
15:52 <+ChillerDragon> but its some work yikes
15:52 <+ChillerDragon> https://zillyhuhn.com/cs/.1612450328.png
15:52 <+ChillerDragon> that sounds easier
15:52 <+ChillerDragon> but for the furture i might try arch
15:53 <+bridge> [ddnet] <louis> what are u graphics settings
15:53 <+ChillerDragon> cl_max_fps 44
15:53 <+ChillerDragon> xd
15:54 <+ChillerDragon> thanks a lot for the info Ryozuki 
15:54 <+bridge> [ddnet] <Skyrx> https://cdn.discordapp.com/attachments/293493549758939136/806900594044305408/IMG_20210204_175430.jpg
15:55 <+ChillerDragon> my try without opengl3
15:55 <+ChillerDragon> but thats just a random guess
15:55 <+bridge> [ddnet] <Skyrx> already tried
15:55 <+bridge> [ddnet] <Skyrx> nothin changed
15:55 <+ChillerDragon> how does the vanilla teeworlds client perform?
15:56 <+bridge> [ddnet] <Skyrx> lemme test
15:58 <+ChillerDragon> hmm ``sudo apt-mark hold raspberrypi-sys-mods`` does not look good to me
15:58 <+ChillerDragon> also i want my router to not break so i have internet :D and debian based stuff is nice for not breaking
15:58 <+ChillerDragon> maybe i should run vanilla debian on my pi then
15:59 <+bridge> [ddnet] <heinrich5991> I run archlinuxarm on my router pi ðŸ˜‰
15:59 <+bridge> [ddnet] <heinrich5991> no breaks so far
15:59 <+ChillerDragon> arent u even running arch on ur vps
15:59 <+ChillerDragon> and u didnt brick ur system in 8 yrs or somthing
15:59 <+ChillerDragon> i cant rly compare myself to u
16:03 <+bridge> [ddnet] <Skyrx> 300 fps
16:03 <+bridge> [ddnet] <Skyrx> default client
16:05 <+bridge> [ddnet] <Skyrx> 300-400 fps default client
16:05 <+bridge> [ddnet] <Skyrx> why wtf
16:05 <+ChillerDragon> yea i think vanilla does some things different and i also usually have higher fps there
16:05 <+ChillerDragon> but ddnet should still be higher im sure there is a fix for u but dont ask me how
16:05 <+bridge> [ddnet] <louis> try high dpi off i heard some ppl had issues with that
16:06 <+bridge> [ddnet] <Skyrx> already tried
16:06 <+bridge> [ddnet] <Skyrx> still nothin
16:07 <+ChillerDragon> did you try turning ur device off and on again?
16:07 <+ChillerDragon> joke ^^dont do it xd
16:08 <+ChillerDragon> maybe try linux
16:08 <+ChillerDragon> best gaming os
16:08 <+bridge> [ddnet] <Skyrx> "facepalm"
16:08 <+ChillerDragon> its actually worth a try
16:09 <+ChillerDragon> in the meantime u can use F-Client which is a vanilla based client with ddr features
16:09 <+bridge> [ddnet] <Skyrx> no antpiping i guess?
16:09 <+ChillerDragon> well vanilla has some antipingish thingys
16:10 <+ChillerDragon> https://fokkonaut.github.io/F-Client/
16:10 <+ChillerDragon> its not that advanced as ddnet tho
16:13 <+ChillerDragon> yikes that fucks with my OCD now it alsays says ``2 packages can be upgraded. Run 'apt list --upgradable' to see them.`` and then does not installed them cuz i blocked ms :D
16:14 <+ChillerDragon> i guess that is the downside of linux getting more used is that companys like ms want to enter the market
16:18 <+bridge> [ddnet] <heinrich5991> companies*
18:03 <+bridge> [ddnet] <Ryozuki> U can use any other distro
18:38 <+ChillerDragon> what is this black magic? https://github.com/ddnet/ddnet/blob/cbf5aa6e36be1f1a28f7da64df6a5ef8b2ad1f21/src/game/client/components/menus_browser.cpp#L580
18:38 <+ChillerDragon> changing ui_server_address has no affect on the ui?
18:38 <+ChillerDragon> is the ui somehow constructed after connect and then stored?
18:40 <+ChillerDragon> i leaked my fokin password because i clicked a server in the ingame browser :/ and my pw manager thought i changed server
18:50 <+bridge> [ddnet] <Ryozuki> Mobo
18:50 <+bridge> [ddnet] <Ryozuki> Nobo
18:51 <+ChillerDragon> @QshaR how to reset pw on kog?
18:52 <+ChillerDragon> also why is /login not in /cmdlist
18:54 <+bridge> [ddnet] <Souly> @qshar ^
18:56 <+bridge> [ddnet] <qshar> https://qshar.com/reset_password.php
19:03 <+ChillerDragon> ty
19:03 <+ChillerDragon> omg google
19:03 <+ChillerDragon> how does the average user find this?
19:03 <+ChillerDragon> i could not find it on qshar.com and as i reported cmdlist was even worse
19:04 <+ChillerDragon> https://zillyhuhn.com/cs/.1612461826.png
19:04 <+ChillerDragon> also fuck google
19:05 <+ChillerDragon> but thanks for the fast response :) when kog irc or open forum again
19:08 <+bridge> [ddnet] <qshar> we have all info on discord now
19:09 <+bridge> [ddnet] <gerdoe> open irc chillerbridge
19:18 <+ChillerDragon> oof i forgot the email of my dummy
19:19 <+ChillerDragon> oh lol one mail can setup both names? ah nice
19:27 <+ChillerDragon> omg failed to login is it possible that you have bad special character support? @qshar
19:27 <+ChillerDragon> or did i mess something up
19:29 <+ChillerDragon> if some passwords do not work maybe add a filter on the password reset form if the password wont work for login
19:41 <+bridge> [ddnet] <SollyBunny> how to get id of player from the
19:41 <+bridge> [ddnet] <SollyBunny> m_pCient
19:43 <+bridge> [ddnet] <SollyBunny> oh wait nvm its ClientID
19:45 <+bridge> [ddnet] <SollyBunny> wait no its not
19:46 <+bridge> [ddnet] <Learath2> Eh? Are you on the client or on the server? Which class are you coding in?
20:01 <+bridge> [ddnet] <SollyBunny> uhh different question
20:01 <+bridge> [ddnet] <SollyBunny> is there a better way to do this
20:01 <+bridge> [ddnet] <SollyBunny> ```cpp
20:01 <+bridge> [ddnet] <SollyBunny> m_pClient->m_aClients[m_pClient->m_Snap.m_LocalClientID].m_Predicted.m_ActiveWeapon != WEAPON_GUN
20:01 <+bridge> [ddnet] <SollyBunny> ```
20:01 <+bridge> [ddnet] <SollyBunny> in players.cpp
20:01 <+bridge> [ddnet] <SollyBunny> cleint
20:25 <+bridge> [ddnet] <plsplsplslol> m_Snap.m_pLocalCharacter ?
20:28 <+bridge> [ddnet] <Chairn> got a 100% crash with 15.2.5 when joining right now ger1:8305 with Back In Time 2
20:28 <+bridge> [ddnet] <Chairn> on win32
20:32 <+bridge> [ddnet] <Chairn> voting the map on empty server also crash
20:34 <+ChillerDragon> win32 oof
20:34 <+ChillerDragon> can u reproduce consitantly?
20:34 <+bridge> [ddnet] <Chairn> 100%
20:34 <+ChillerDragon> thats a good start i guess :D
20:34 <+bridge> [ddnet] <Chairn> nah its win64 but the client is 32 bits
20:35 <+ChillerDragon> why do u run 32 bit?
20:35 <+bridge> [ddnet] <heinrich5991> (it's still a bug)
20:35 <+ChillerDragon> ah ye sure
20:35 <+ChillerDragon> just wondering
20:35 <+bridge> [ddnet] <Chairn> 64 bit client does not trigger graphic card switch on laptop
20:36 <+bridge> [ddnet] <Ryozuki> im trying to implement some derive macro and my brain is melting
20:36 <+bridge> [ddnet] <Ryozuki> @heinrich5991 have u ever tried this magic?
20:36 <+bridge> [ddnet] <heinrich5991> no
20:36 <+bridge> [ddnet] <Ryozuki> im trying to implement a trait Form which outputs a struct as a html form
20:36 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/806971497259991071/unknown.png
20:36 <+bridge> [ddnet] <Ryozuki> :monkalaugh:
20:37 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/806971644647047268/unknown.png
20:37 <+bridge> [ddnet] <Ryozuki> im there
20:37 <+bridge> [ddnet] <Ryozuki> but its hard
20:37 <+bridge> [ddnet] <Ryozuki> (this is the expanded macro)
20:38 <+bridge> [ddnet] <Ryozuki> im sure i can even avoid the for loop
20:38 <+bridge> [ddnet] <Ryozuki> #(#field),*
20:38 <+bridge> [ddnet] <Ryozuki> or some weird magic
20:38 <+bridge> [ddnet] <heinrich5991> can't help you rn, in a lesson
20:38 <+bridge> [ddnet] <Ryozuki> np
20:38 <+bridge> [ddnet] <Ryozuki> just wanted to show u
20:38 <+bridge> [ddnet] <heinrich5991> in 30min ðŸ™‚
20:38 <+bridge> [ddnet] <Chairn> ehm, gdb on windows doesnt show anything...
20:38 <+bridge> [ddnet] <Chairn> just say it exited with code 3...
20:39 <+bridge> [ddnet] <heinrich5991> what does that mean? it doesn't crash when running in gdb?
20:39 <+bridge> [ddnet] <heinrich5991> ah
20:39 <+bridge> [ddnet] <Chairn> it crashes, but doesnt give a backtrace or anything
20:39 <+bridge> [ddnet] <heinrich5991> maybe it doesn't crash but actually just exits for some reason
20:39 <+bridge> [ddnet] <heinrich5991> idk how to debug that in a good way though
20:39 <+bridge> [ddnet] <Chairn> nah, outside gdb i got window saying app has crashed
20:39 <+bridge> [ddnet] <heinrich5991> ah
20:39 <+bridge> [ddnet] <heinrich5991> hm
20:39 <+bridge> [ddnet] <Chairn> is there a win version with debug symbols?
20:40 <+bridge> [ddnet] <Chairn> This application has requested the Runtime to terminate it in an unusual way.
20:40 <+bridge> [ddnet] <Chairn> Please contact the application's support team for more information.
20:40 <+bridge> [ddnet] <Chairn> [Inferior 1 (process 4312) exited with code 03]
20:42 <+ChillerDragon> try building from source with visual studio and run it from there
20:42 <+bridge> [ddnet] <Chairn> Code de lâ€™exception:    40000015
20:42 <+bridge> [ddnet] <Chairn> According to internet this means: STATUS_FATAL_APP_EXIT
20:43 <+bridge> [ddnet] <Chairn> no way i install this big factory, my disk is almost full
20:43 <+ChillerDragon> xd
20:43 <+ChillerDragon> fair
20:43 <+bridge> [ddnet] <Chairn> i use mingw
20:43 <+ChillerDragon> im not sure how to debug with mingw
20:43 <+bridge> [ddnet] <Chairn> long time i haven't build ddnet on my computer
20:44 <+bridge> [ddnet] <Ryozuki> i think we dont compile in mingw
20:44 <+bridge> [ddnet] <Ryozuki> so it may be bugged
20:44 <+bridge> [ddnet] <Ryozuki> or maybe deen knows
20:44 <+bridge> [ddnet] <heinrich5991> releases are compiled with mingw I think
20:45 <+bridge> [ddnet] <Chairn> trying to compile tag 15.2.5 right now
20:45 <+bridge> [ddnet] <Ryozuki> make sure to pull submodules
20:45 <+bridge> [ddnet] <Chairn> rofl cmake error
20:45 <+bridge> [ddnet] <Ryozuki> make sure to pull submodules
20:45 <+bridge> [ddnet] <Chairn> git submodule update?
20:45 <+bridge> [ddnet] <heinrich5991> `git submodule update --init --recursive`
20:46 <+bridge> [ddnet] <heinrich5991> fixes all your submodules woes
20:46 <+bridge> [ddnet] <Ryozuki> master and 15.2.5 changed ddnet-libs iirc
20:46 <+bridge> [ddnet] <Ryozuki> due to discord
20:49 <+bridge> [ddnet] <Chairn> '''shell
20:49 <+bridge> [ddnet] <Chairn> E:\Teeworlds_DDNet\ddnet\src\base\system.c:3392:10: error: 'uintptr_t' undeclared (first use in this function); did you mean 'intptr_t'?
20:49 <+bridge> [ddnet] <Chairn>  3392 |  return (uintptr_t)ShellExecuteA(NULL, "open", link, NULL, NULL, SW_SHOWDEFAULT) > 32;
20:49 <+bridge> [ddnet] <Chairn>       |          ^~~~~~~~~
20:49 <+bridge> [ddnet] <Chairn>       |          intptr_t
20:49 <+bridge> [ddnet] <Chairn> E:\Teeworlds_DDNet\ddnet\src\base\system.c:3392:10: note: each undeclared identifier is reported only once for each function it appears in
20:49 <+bridge> [ddnet] <Chairn> E:\Teeworlds_DDNet\ddnet\src\base\system.c:3392:20: error: expected ';' before 'ShellExecuteA'
20:49 <+bridge> [ddnet] <Chairn>  3392 |  return (uintptr_t)ShellExecuteA(NULL, "open", link, NULL, NULL, SW_SHOWDEFAULT) > 32;
20:49 <+bridge> [ddnet] <Chairn> '''
20:49 <+bridge> [ddnet] <Chairn> well, seems like some typedef are missing in mingw
20:50 <+bridge> [ddnet] <heinrich5991> #include <stdint.h>
20:50 <+bridge> [ddnet] <Ryozuki> only on mingw i guess
20:50 <+bridge> [ddnet] <Chairn> ```shell
20:50 <+bridge> [ddnet] <Chairn> E:\Teeworlds_DDNet\ddnet\src\base\system.c:3392:10: error: 'uintptr_t' undeclared (first use in this function); did you mean 'intptr_t'?
20:50 <+bridge> [ddnet] <Chairn>  3392 |  return (uintptr_t)ShellExecuteA(NULL, "open", link, NULL, NULL, SW_SHOWDEFAULT) > 32;
20:50 <+bridge> [ddnet] <Chairn>       |          ^~~~~~~~~
20:50 <+bridge> [ddnet] <Chairn>       |          intptr_t
20:50 <+bridge> [ddnet] <Chairn> E:\Teeworlds_DDNet\ddnet\src\base\system.c:3392:10: note: each undeclared identifier is reported only once for each function it appears in
20:50 <+bridge> [ddnet] <Chairn> E:\Teeworlds_DDNet\ddnet\src\base\system.c:3392:20: error: expected ';' before 'ShellExecuteA'
20:50 <+bridge> [ddnet] <Chairn>  3392 |  return (uintptr_t)ShellExecuteA(NULL, "open", link, NULL, NULL, SW_SHOWDEFAULT) > 32;
20:50 <+bridge> [ddnet] <Chairn> ```
20:50 <+bridge> [ddnet] <Ryozuki> rip iirc
20:50 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/806975060182564864/unknown.png
20:50 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/806975067250360340/unknown.png
20:50 <+bridge> [ddnet] <Ryozuki> :monkalaugh:
20:51 <+bridge> [ddnet] <Chairn> works ðŸ˜‰
20:54 <+ChillerDragon> omg it took me 10 sec to realize thats a build err not a crashlog xd
20:54 <+bridge> [ddnet] <Chairn> /src/base/tl/base.h(14): assert!
20:55 <+bridge> [ddnet] <Chairn> wait, i transfer my config for this one
20:56 <+ChillerDragon> assert o.O that should be catched in the log
20:56 <+ChillerDragon> no need to debug that
20:57 <+ChillerDragon> i mean yea debug helps to see why it breaks tho xd
20:58 <+bridge> [ddnet] <Chairn> how do i get gdb prompt when it crashes, it doesn't accept any command, seems just like to hang
20:59 <+ChillerDragon> u should get one instantly
20:59 <+bridge> [ddnet] <heinrich5991> normally it should give you a prompt when it crashes, yes
21:02 <+bridge> [ddnet] <Chairn> #0  0x77239962 in msvcrt!memcpy () from C:\Windows\syswow64\msvcrt.dll
21:02 <+bridge> [ddnet] <Chairn> #1  0x005a96e8 in mem_copy (dest=0x0, source=0x4a9d0020, size=8)
21:02 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\base\system.c:262
21:02 <+bridge> [ddnet] <Chairn> #2  0x004633a1 in mem_copy_special (pDest=0x0, pSource=0x4a9d0020, Size=8,
21:02 <+bridge> [ddnet] <Chairn>     Count=14952016, Steps=12)
21:02 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\game\client\components\maplayers.cpp:397
21:02 <+bridge> [ddnet] <Chairn> #3  0x004652ac in CMapLayers::OnMapLoad (
21:02 <+bridge> [ddnet] <Chairn>     this=0x8d5620 <gs_MapLayersBackGround>)
21:02 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\game\client\components\maplayers.cpp:843
21:02 <+bridge> [ddnet] <Chairn> #4  0x004c63ad in CGameClient::OnConnected (this=0x76cfc0 <g_GameClient>)
21:02 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\game\client\gameclient.cpp:511
21:02 <+bridge> [ddnet] <Chairn> #5  0x00419589 in CClient::ProcessServerPacket (this=0x3bb0020,
21:02 <+bridge> [ddnet] <Chairn>     pPacket=0x28d6f0)
21:02 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\engine\client\client.cpp:1794
21:02 <+bridge> [ddnet] <Chairn> #6  0x0041c63d in CClient::PumpNetwork (this=0x3bb0020)
21:02 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\engine\client\client.cpp:2591
21:02 <+bridge> [ddnet] <Chairn> #7  0x0041d557 in CClient::Update (this=0x3bb0020)
21:02 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\engine\client\client.cpp:2858
21:02 <+bridge> [ddnet] <Chairn> #8  0x0041ea78 in CClient::Run (this=0x3bb0020)
21:02 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\engine\client\client.cpp:3242
21:02 <+bridge> [ddnet] <Chairn> #9  0x0042399f in main (argc=1, argv=0x1c71d78)
21:02 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\engine\client\client.cpp:4355
21:02 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/1
21:02 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/2
21:02 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/3
21:02 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/4
21:02 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/5
21:02 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/6
21:03 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/pull/7
21:03 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/pull/8
21:03 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/9
21:03 <+bridge> [ddnet] <Chairn> ```shell
21:03 <+bridge> [ddnet] <Chairn> #0  0x77239962 in msvcrt!memcpy () from C:\Windows\syswow64\msvcrt.dll
21:03 <+bridge> [ddnet] <Chairn> #1  0x005a96e8 in mem_copy (dest=0x0, source=0x4a9d0020, size=8)
21:03 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\base\system.c:262
21:03 <+bridge> [ddnet] <Chairn> #2  0x004633a1 in mem_copy_special (pDest=0x0, pSource=0x4a9d0020, Size=8,
21:03 <+bridge> [ddnet] <Chairn>     Count=14952016, Steps=12)
21:03 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\game\client\components\maplayers.cpp:397
21:03 <+bridge> [ddnet] <Chairn> #3  0x004652ac in CMapLayers::OnMapLoad (
21:03 <+bridge> [ddnet] <Chairn>     this=0x8d5620 <gs_MapLayersBackGround>)
21:03 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\game\client\components\maplayers.cpp:843
21:03 <+bridge> [ddnet] <Chairn> #4  0x004c63ad in CGameClient::OnConnected (this=0x76cfc0 <g_GameClient>)
21:03 <+bridge> [ddnet] <Chairn>     at E:\Teeworlds_DDNet\ddnet\src\game\client\gameclient.cpp:511
21:03 <+bridge> [ddnet] <Chairn> #5  0x00419589 in CClient::ProcessServerPacket (this=0x3bb0020,
21:03 <+bridge> [ddnet] <Chairn>     pPacket=0x28d6f0)
21:03 <+bridge> [ddnet] <Chairn> Program received signal SIGSEGV, Segmentation fault.
21:03 <+bridge> [ddnet] <Chairn> 0x77239962 in msvcrt!memcpy () from C:\Windows\syswow64\msvcrt.dll
21:03 <+bridge> [ddnet] <heinrich5991> ah, good old backtraces triggering github issue linking, now also on discord
21:03 <+bridge> [ddnet] <Learath2> Oh the bot got confused :P
21:03 <+bridge> [ddnet] <Chairn> soryr, wanted to do shift+enter to add a newline, just pressed enter ðŸ˜¦
21:03 <+bridge> [ddnet] <Ryozuki> epic bot
21:03 <+bridge> [ddnet] <Ryozuki> @Learath2 i remember u saying to blacklist the first 10 issues
21:04 <+bridge> [ddnet] <Ryozuki> irc must be overloaded
21:04 <+bridge> [ddnet] <Ryozuki> + 1 edit
21:04 <+bridge> [ddnet] <Chairn> so can reproduce 100% only on back in time 2 right now
21:04 <+bridge> [ddnet] <heinrich5991> mem_copy_special?
21:04 <+bridge> [ddnet] <Learath2> Sounds like a jank solution I'd indeed come up with :P
21:04 <+bridge> [ddnet] <heinrich5991> do we ahve that function? oO
21:04 <+bridge> [ddnet] <Chairn> with release from ddnet website and debug build from mingw
21:04 <+bridge> [ddnet] <Ryozuki> syswow64
21:04 <+bridge> [ddnet] <Ryozuki> much wow
21:04 <+ChillerDragon> im ded Ryozuki 
21:04 <+bridge> [ddnet] <Learath2> I dont remember a mem_copy_special
21:04 <+bridge> [ddnet] <Chairn> can someone delete the bot message maybe?
21:04 <+Ryozuki> ChillerDragon hi ded im dad
21:05 <+bridge> [ddnet] <jao> fix bot
21:05 <+bridge> [ddnet] <Ryozuki> is the github up to date
21:05 <+bridge> [ddnet] <Ryozuki> repo
21:05 <+bridge> [ddnet] <heinrich5991> https://github.com/ddnet/ddnet/blob/1c750a73ff329197ed7661b11ba7aa7ebff33f20/src/game/client/components/maplayers.cpp#L392-L400
21:05 <+bridge> [ddnet] <Chairn> yes, did a pull before building
21:05 <+ChillerDragon> its not a bot issue
21:05 <+ChillerDragon> its non format as code issue
21:06 <+bridge> [ddnet] <Ryozuki> ah ye
21:06 <+bridge> [ddnet] <Ryozuki> he forgot first time
21:06 <+ChillerDragon> the name ``mem_copy_special`` is big meme
21:06 <+bridge> [ddnet] <Chairn> my bad
21:06 <+bridge> [ddnet] <jao> ``#1``
21:06 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/1
21:06 <+ChillerDragon> oh 
21:06 <+bridge> [ddnet] <jao> still
21:06 <+ChillerDragon> nvm 
21:06 <+Ryozuki> @jao u used 2 backsticks
21:06 <+Ryozuki> try 3
21:06 <+ChillerDragon> then actually bot issue
21:06 <+bridge> [ddnet] <Learath2> Looks like a very dangerous function :P
21:06 <+ChillerDragon> ```#2```
21:06 <+bridge> [ddnet] <jao> ```#1```
21:06 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/1
21:06 <+Ryozuki> gg
21:06 <+ChillerDragon> an no its discord issue
21:06 <+ChillerDragon> xd
21:06 <+ChillerDragon> :D
21:06 <+bridge> [ddnet] <Ryozuki> $info
21:07 <+bridge> [ddnet] <Ryozuki> how was it
21:07 <+bridge> [ddnet] <Ryozuki> to get the url of the bot repo
21:07 <+ChillerDragon> not here i guess
21:07 <+bridge> [ddnet] <Ryozuki> $about
21:07 <+ChillerDragon> $help
21:07 <+bridge> [ddnet] <Ryozuki> its about
21:07 <+bridge> [ddnet] <Learath2> Anyway, Count looks way too high
21:08 <+bridge> [ddnet] <Learath2> That would be where I start investigating, the source of that count
21:09 <+bridge> [ddnet] <Ryozuki> 95 Guilds
21:09 <+bridge> [ddnet] <Ryozuki> this bot is in lot of places
21:10 <+ChillerDragon> its going places
21:11 <+bridge> [ddnet] <jao> at 100 it will get banned
21:11 <+bridge> [ddnet] <Ryozuki> ??
21:11 <+bridge> [ddnet] <Ryozuki> why
21:11 <+bridge> [ddnet] <heinrich5991> personal ID required by discord or so?
21:12 <+bridge> [ddnet] <Ryozuki> does this bot use sharding
21:12 <+bridge> [ddnet] <jao> after that u need verification
21:12 <+bridge> [ddnet] <Learath2> Spy on the guilds with it
21:12 <+bridge> [ddnet] <Patiga> ow i guess i can rls mine ^^
21:12 <+bridge> [ddnet] <Patiga> or can you just deactive the invite process?
21:12 <+ChillerDragon> did you try not using discord?
21:12 <+bridge> [ddnet] <jao> ðŸ¥´
21:12 <+bridge> [ddnet] <heinrich5991> you have a discord bot @Patiga?
21:13 <+bridge> [ddnet] <louis> someone invite ddnet to 6 random discords :justatest:
21:13 <+bridge> [ddnet] <Patiga> nah i got a server where i invited the bot
21:13 <+bridge> [ddnet] <Ryozuki> > Therefore, we are making verification a requirement for bots in 100 or more servers. Until your bot is verified, you will not be able to grow past 100 servers. If your bot is already in more than 100 servers, it will not be able to join any more.
21:13 <+bridge> [ddnet] <Ryozuki> u wont get banned
21:13 <+bridge> [ddnet] <Ryozuki> ppl will simply be unable to invite it
21:13 <+bridge> [ddnet] <Patiga> ah
21:13 <+bridge> [ddnet] <jao> ye
21:13 <+bridge> [ddnet] <Patiga> nice
21:13 <+bridge> [ddnet] <jao> but how to get it verified
21:13 <+bridge> [ddnet] <jao> they will decline it like they declined server verification
21:13 <+bridge> [ddnet] <heinrich5991> send personal data to discord I think
21:14 <+ChillerDragon> server is not verified?
21:14 <+bridge> [ddnet] <Ryozuki> maybe deen can do it
21:14 <+bridge> [ddnet] <Ryozuki> if he doesnt care
21:14 <+ChillerDragon> isnt owning ddnet.tw enought?
21:14 <+bridge> [ddnet] <louis> server can definitely get verified
21:14 <+bridge> [ddnet] <Ryozuki> we are not talking about the server
21:14 <+bridge> [ddnet] <jao> server got declined 2 times
21:14 <+bridge> [ddnet] <louis> lol when 2 times
21:14 <+bridge> [ddnet] <jao> or 3
21:15 <+bridge> [ddnet] <louis> that sucks i saw some 500 member server verified
21:15 <+bridge> [ddnet] <heinrich5991> half a year ago and 1 month ago
21:15 <+bridge> [ddnet] <jao> member count isnt the only requirement
21:16 <+bridge> [ddnet] <heinrich5991> I think they want social media presence and third-party sources
21:16 <+bridge> [ddnet] <heinrich5991> I could only find one third party src I think
21:17 <+bridge> [ddnet] <Ryozuki> python supports lookaheads right
21:19 <+bridge> [ddnet] <heinrich5991> yes
21:19 <+bridge> [ddnet] <Ryozuki> hmm idk if regex is the best way
21:19 <+bridge> [ddnet] <heinrich5991> lookaheads are bad because they make the language non-regular and thus no guarantees about performance anymore
21:20 <+bridge> [ddnet] <Ryozuki> `r'(?:(?P<owner>\w+)/)?(?P<repo>[\w-]*)#(?P<id>[1-9]\d*)\b'`
21:20 <+bridge> [ddnet] <Ryozuki> this is the current regex
21:23 <+bridge> [ddnet] <Ryozuki> 32bit :monkalaugh:
21:24 <+bridge> [ddnet] <Chairn> 64 bit client doesn't use graphic card
21:24 <+bridge> [ddnet] <Chairn> so i have to use the 32 bits one
21:24 <+bridge> [ddnet] <Chairn> maybe this would help: https://stackoverflow.com/questions/10535950/forcing-nvidia-gpu-programmatically-in-optimus-laptops/14041061#14041061
21:25 <+bridge> [ddnet] <Chairn> 64 bit client doesn't use graphic card even if i force into nvidia control panel
21:25 <+bridge> [ddnet] <Chairn> 64 bit client doesn't use graphic card even if i force it into nvidia control panel
21:27 <+bridge> [ddnet] <Learath2> Optimus is awful at deciding when to turn on
21:27 <+bridge> [ddnet] <Learath2> Maybe try opengl3.3 that might get it going
21:27 <+bridge> [ddnet] <Chairn> nah, nothing got it working
21:27 <+bridge> [ddnet] <Chairn> it starts the GPU then fall backs to intel integrated graphics
21:28 <+bridge> [ddnet] <Chairn> whatever option i set in ddnet, and even if i force it into nvidia control panel
21:28 <+bridge> [ddnet] <heinrich5991> client uses too few resources so it falls back to intel?
21:28 <+bridge> [ddnet] <heinrich5991> is integrated too bad for ddnet?
21:28 <+bridge> [ddnet] <Chairn> but it works for 32 bits version, so i guess it might be a nvidia bug as well
21:29 <+bridge> [ddnet] <Chairn> 64 bits client always use intel graphic whatever i do, 32 bits client does whatever i tell him to do (intel or nvidia)
21:29 <+bridge> [ddnet] <Jupstar âœª> the max allocation i see is 80mb at once
21:29 <+bridge> [ddnet] <Jupstar âœª> doesnt sound too horrible
21:30 <+bridge> [ddnet] <Chairn> should i also open an issue for graphic card selection (it's a minor defect that i work around)?
21:30 <+bridge> [ddnet] <Jupstar âœª> can u even do that in opengl?
21:30 <+bridge> [ddnet] <Chairn> apparently, you need to export a symbol in the binary
21:31 <+bridge> [ddnet] <Jupstar âœª> on windows?
21:31 <+bridge> [ddnet] <Chairn> yup
21:31 <+bridge> [ddnet] <Jupstar âœª> cant u rightclick ddnet.exe and select the GPU at start?
21:31 <+bridge> [ddnet] <Chairn> it ignores it on the 64bit, not on the 32bit
21:31 <+bridge> [ddnet] <Jupstar âœª> strange
21:31 <+bridge> [ddnet] <Learath2> We should probably debug the client with an allocator that randomly fails
21:32 <+bridge> [ddnet] <Chairn> that's why i believe its probably non ddnet related
21:32 <+bridge> [ddnet] <Jupstar âœª> well malloc is allowed to return NULL
21:32 <+bridge> [ddnet] <Jupstar âœª> i just dont understand why it should for 80mb
21:33 <+bridge> [ddnet] <heinrich5991> on 32 bit there might not be enough address space
21:33 <+bridge> [ddnet] <Learath2> Maybe it's allocating way too much due to a bug?
21:33 <+bridge> [ddnet] <heinrich5991> contiguous
21:34 <+bridge> [ddnet] <Learath2> @Chairn can you add a dbg_msg before the malloc to see what `UploadDataSize` is?
21:34 <+bridge> [ddnet] <Chairn> what file?
21:34 <+bridge> [ddnet] <Jupstar âœª> but why shouldnt there, what does the compiler do
21:34 <+bridge> [ddnet] <Jupstar âœª> so the heap is soo small
21:34 <+bridge> [ddnet] <Learath2> maplayers.cpp
21:34 <+bridge> [ddnet] <Jupstar âœª> already did @Learath2
21:34 <+bridge> [ddnet] <heinrich5991> it's 80 MB is 1/25 of the address space of a 32bit application
21:34 <+bridge> [ddnet] <heinrich5991> 80 MB is 1/25 of the address space of a 32bit application
21:35 <+bridge> [ddnet] <Learath2> @Jupstar âœª you did, can you even reproduce the issue?
21:35 <+bridge> [ddnet] <Jupstar âœª> no
21:35 <+bridge> [ddnet] <Jupstar âœª> for me the allocation doesnt fail
21:35 <+bridge> [ddnet] <Jupstar âœª> pdest is null so it must be the allocation
21:35 <+bridge> [ddnet] <Learath2> Yes, and how can an allocation fail?
21:36 <+bridge> [ddnet] <Jupstar âœª> no heap space
21:36 <+bridge> [ddnet] <heinrich5991> or not enough contiguous address space
21:36 <+bridge> [ddnet] <Jupstar âœª> as heinrich said, i just cannot imagine for a rather small allocation like this xd
21:36 <+bridge> [ddnet] <heinrich5991> 80MB? that's 1/25 of the address space
21:36 <+bridge> [ddnet] <heinrich5991> that's quite a lot
21:36 <+bridge> [ddnet] <Jupstar âœª> mhh i dunno
21:36 <+bridge> [ddnet] <Jupstar âœª> doesnt sound alot
21:36 <+bridge> [ddnet] <Learath2> So I assumed the first one, I thought to myself how that could happen and one theory I came up with is UB leading to a massive UploadDataSize
21:37 <+bridge> [ddnet] <heinrich5991> imagine loading 25 shared libraries at random addresses
21:37 <+bridge> [ddnet] <heinrich5991> that will give you no remaining space for 80MB on the heap
21:37 <+bridge> [ddnet] <heinrich5991> idk how ASLR works on 32bit windows
21:37 <+bridge> [ddnet] <Jupstar âœª> we could use LARGEADDRESSAWARE flag
21:37 <+bridge> [ddnet] <Jupstar âœª> then its only 2.6% of the address space
21:37 <+bridge> [ddnet] <Chairn> UploadDataSize is 299040320
21:38 <+bridge> [ddnet] <Chairn> then it crashes
21:38 <+bridge> [ddnet] <heinrich5991> that's 280MB
21:38 <+bridge> [ddnet] <Chairn> previous size are 1006320 and 184160
21:38 <+bridge> [ddnet] <Jupstar âœª> oh then i usedw the wrong map appearently
21:39 <+bridge> [ddnet] <Chairn> okay, that"s a lot of memory, but should still not crash
21:39 <+bridge> [ddnet] <Chairn> there's enough memory available
21:39 <+bridge> [ddnet] <heinrich5991> a single 32bit process can only see 2GB of RAM
21:39 <+bridge> [ddnet] <Jupstar âœª> oh yeah that map is gigantic ðŸ˜„
21:39 <+bridge> [ddnet] <Jupstar âœª> it can use 3GB with largeaddressaware
21:40 <+bridge> [ddnet] <Learath2> largeaddressaware comes with some drawbacks
21:40 <+bridge> [ddnet] <Jupstar âœª> yeah cannot remember
21:40 <+bridge> [ddnet] <Chairn> ill print malloc return value
21:40 <+bridge> [ddnet] <Jupstar âœª> but i think i had a patch for a 32bit game that then could use more RAM
21:40 <+bridge> [ddnet] <Chairn> is there a perror function like on linux you think?
21:41 <+bridge> [ddnet] <Learath2> Are we even using 2g?
21:41 <+bridge> [ddnet] <Chairn> well, obviously malloc returns 0 ðŸ˜„
21:41 <+bridge> [ddnet] <Chairn> when it crashes, memory usage is around 180MB
21:42 <+bridge> [ddnet] <Chairn> so it should be able to get 280MB more
21:42 <+bridge> [ddnet] <Learath2> As @heinrich5991 pointed out it might be just a ridiculous amount of fragmentation
21:42 <+bridge> [ddnet] <Jupstar âœª> btw thats the upload data, so i dont think it can be minimized
21:42 <+bridge> [ddnet] <Jupstar âœª> it shouldnt contain any 0 vertices anymore
21:43 <+bridge> [ddnet] <Learath2> So if we aren't using 2g (which sounds like way too much, we shouldn't be using even close to that) then it's likely we have fragmentation
21:43 <+bridge> [ddnet] <Jupstar âœª> maybe it could be uploaded in chunks ðŸ˜„
21:43 <+bridge> [ddnet] <Jupstar âœª> does it also crash in release mode @Chairn ?
21:43 <+bridge> [ddnet] <Chairn> Permission denied: Not enough space
21:43 <+bridge> [ddnet] <Learath2> We can optimize our heap usage, maybe use a different allocator
21:43 <+bridge> [ddnet] <Chairn> so, weirs
21:43 <+bridge> [ddnet] <Chairn> so, weird
21:44 <+bridge> [ddnet] <Chairn> yeah, it crashes as well using the build from ddnet.tw
21:44 <+bridge> [ddnet] <Jupstar âœª> i mean 250mb is already nearly 3 times 80mb so i could understand it more xd
21:44 <+bridge> [ddnet] <Jupstar âœª> and still its not too much
21:44 <+bridge> [ddnet] <Jupstar âœª> i wonder if the compiler can just sort the heap address better
21:44 <+bridge> [ddnet] <heinrich5991> that's the runtime
21:44 <+bridge> [ddnet] <heinrich5991> and the allocator
21:45 <+bridge> [ddnet] <heinrich5991> and possibly the kernel
21:45 <+bridge> [ddnet] <Jupstar âœª> ok
21:45 <+bridge> [ddnet] <heinrich5991> probably the kernel
21:45 <+bridge> [ddnet] <Chairn> is there a way to see memory maps of process in windows?
21:45 <+bridge> [ddnet] <Learath2> You know what else could cause this? a corrupted heap
21:45 <+bridge> [ddnet] <Jupstar âœª> but would sanitizer show it?
21:46 <+bridge> [ddnet] <Jupstar âœª> or do u mean inside the kernel?
21:46 <+bridge> [ddnet] <Learath2> Would have to be quite unlucky but I've overwritten the stack return with a pointer to _start once
21:46 <+bridge> [ddnet] <Learath2> I believe everything is possible
21:46 <+bridge> [ddnet] <Chairn> maybe an out of bound array?
21:46 <+bridge> [ddnet] <Learath2> @Jupstar âœª could be that it never happens on linux due to the way malloc lays it out there
21:47 <+bridge> [ddnet] <Jupstar âœª> but yeah @heinrich5991 u might be right, on linux 32bit it works
21:47 <+bridge> [ddnet] <Learath2> I'm not very familiar with memory debugging on windows, let me read up a bit to see what tools there are to observe allocations
21:48 <+bridge> [ddnet] <Learath2> Actually let me see if it happens for me
21:48 <+bridge> [ddnet] <Jupstar âœª> oh on wine it crashes in 32bit
21:49 <+bridge> [ddnet] <Chairn> vmmap seems to be the tool
21:49 <+bridge> [ddnet] <Jupstar âœª> i dunno how well wine emulates the win kernel xd
21:49 <+bridge> [ddnet] <Chairn> seems like a fidel reproduction ðŸ˜„
21:49 <+bridge> [ddnet] <Jupstar âœª> @Learath2 ^
21:49 <+bridge> [ddnet] <Jupstar âœª> i dunno if malloc layout wrapped in wine ðŸ˜„
21:52 <+bridge> [ddnet] <Learath2> yep consistently crashes, cool
21:53 <+bridge> [ddnet] <Jupstar âœª> we could just use non moved pointers for 32bit as workaround
21:53 <+bridge> [ddnet] <Jupstar âœª> i implemented both, uploading small chunks and big chunks
21:53 <+bridge> [ddnet] <Learath2> non moved pointers?
21:53 <+bridge> [ddnet] <Jupstar âœª> yeah, so you can delete the pointer directly
21:53 <+bridge> [ddnet] <Jupstar âœª> instead of keeping it alive for GPU upload
21:54 <+bridge> [ddnet] <Chairn> Using VMMap from windows, address space is not that fragmented
21:54 <+bridge> [ddnet] <Chairn> white is free
21:54 <+bridge> [ddnet] <Chairn> https://cdn.discordapp.com/attachments/293493549758939136/806991119958933574/unknown.png
21:54 <+bridge> [ddnet] <Jupstar âœª> @Chairn wanna test quickly if 
21:54 <+bridge> [ddnet] <Jupstar âœª> changing 
21:54 <+bridge> [ddnet] <Jupstar âœª> int BufferObjectIndex = Graphics()->CreateBufferObject(UploadDataSize, pUploadData, true);
21:54 <+bridge> [ddnet] <Jupstar âœª> to 
21:54 <+bridge> [ddnet] <Jupstar âœª> int BufferObjectIndex = Graphics()->CreateBufferObject(UploadDataSize, pUploadData, false);
21:54 <+bridge> [ddnet] <Jupstar âœª> free(pUploadData);
21:54 <+bridge> [ddnet] <Jupstar âœª> works
21:55 <+bridge> [ddnet] <Chairn> what line?
21:55 <+bridge> [ddnet] <Chairn> oh found 850
21:55 <+bridge> [ddnet] <Jupstar âœª> yeah
21:56 <+bridge> [ddnet] <Chairn> no, still crash
21:56 <+bridge> [ddnet] <Jupstar âœª> ok so its the single allocation
21:56 <+bridge> [ddnet] <Jupstar âœª> not the previous ones
21:57 <+bridge> [ddnet] <Jupstar âœª> i wonder if the driver wouldnt crash
21:57 <+bridge> [ddnet] <Jupstar âœª> since it probs has to allocate the same amount of VRAM
21:58 <+bridge> [ddnet] <Learath2> What is this even? `Windows headers require the default packing option. Changing this can lead to memory corruption. This diagnostic can be disabled by building with WINDOWS_IGNORE_PACKING_MISMATCH defined`
21:58 <+bridge> [ddnet] <Jupstar âœª> ah
21:58 <+bridge> [ddnet] <Jupstar âœª> its probs #pragma pack(...)
21:58 <+bridge> [ddnet] <Jupstar âœª> so you can ignore alignment for e.g. 64bit variables
21:59 <+bridge> [ddnet] <Jupstar âœª> or increase alignment for variables that dont use such high alignments normally
21:59 <+bridge> [ddnet] <Learath2> This is what happens if I try to build with msvc btw
21:59 <+bridge> [ddnet] <Learath2> didn't touch anything
21:59 <+bridge> [ddnet] <Jupstar âœª> oh thats strange tho
22:00 <+bridge> [ddnet] <Jupstar âœª> we dont use such stuff 
22:00 <+bridge> [ddnet] <Jupstar âœª> maybe a broken header?
22:00 <+bridge> [ddnet] <Learath2> not surprised for even a second that something about building on windows is broken
22:00 <+bridge> [ddnet] <Jupstar âœª> LTO would warn about mismatches i structures
22:01 <+bridge> [ddnet] <Jupstar âœª> LTO would warn about mismatches in structures
22:01 <+bridge> [ddnet] <Ryozuki> u want to implement a new allocator to fix some 32bit client issues from the 2000s?
22:02 <+bridge> [ddnet] <Learath2> Here I go diving into the stupidities of MSVC again when I try to debug a small allocation issue
22:02 <+bridge> [ddnet] <Jupstar âœª> @Ryozuki i dont even know if thats fixable, since it has to be a single buffer on the GPU anyway
22:02 <+bridge> [ddnet] <Jupstar âœª> so even if its fixable on the software side we'd need to see if it works on GPU side
22:02 <+bridge> [ddnet] <Learath2> There is absolutely no way we can't fit a 280M buffer in the ram
22:03 <+bridge> [ddnet] <Jupstar âœª> ^^
22:03 <+bridge> [ddnet] <Chairn> actually, this is what i got with VMmap when it segfaults without crashing vmmap as well
22:03 <+bridge> [ddnet] <Learath2> It being un-fixable is absurd
22:03 <+bridge> [ddnet] <Chairn> https://cdn.discordapp.com/attachments/293493549758939136/806993282823094292/unknown.png
22:03 <+bridge> [ddnet] <Jupstar âœª> @Learath2 i'd say the same, but windows proofes me wrong
22:03 <+bridge> [ddnet] <Ryozuki> > DX Calls: Any 3D game engine or DirectX application will trigger these calls
22:03 <+bridge> [ddnet] <Ryozuki> directx
22:03 <+bridge> [ddnet] <Ryozuki> windows at its best
22:03 <+bridge> [ddnet] <Chairn> so it definetely use way more data than process manager shows
22:04 <+bridge> [ddnet] <Learath2> There was a tool for high frequency sampling like perf on linux I remember that guy from chromium project with the nice blog was using it
22:04 <+bridge> [ddnet] <Learath2> Having trouble remembering the guys name
22:04 <+bridge> [ddnet] <Ryozuki> Learath2
22:04 <+bridge> [ddnet] <Ryozuki> :trollet:
22:04 <+bridge> [ddnet] <Jupstar âœª> @Chairn if u want to play that map u have to use opengl 1.x for now ^^
22:05 <+bridge> [ddnet] <Chairn> meh ðŸ˜¦
22:05 <+bridge> [ddnet] <plsplsplslol> not using opengl 3.3 :justatest:
22:05 <+bridge> [ddnet] <Ryozuki> using 32bits in 2021 is just ridiculous
22:05 <+bridge> [ddnet] <Chairn> not using graphic card for a game is ridiculous as well
22:05 <+bridge> [ddnet] <Jupstar âœª> @Ryozuki believe me in south america everyone uses 32bit xD
22:06 <+bridge> [ddnet] <Learath2> Us not being able to fit a game that should work on a gameboy into the 32bit address space is what's ridiculous
22:06 <+bridge> [ddnet] <Ryozuki> i wonder if > DX Calls: Any 3D game engine or DirectX application will trigger these calls
22:06 <+bridge> [ddnet] <Ryozuki> means that it doesnt recognize opengl
22:06 <+bridge> [ddnet] <Chairn> intel graphics are not as stable, sometimes fps goes down and game is not really fluid
22:06 <+bridge> [ddnet] <Ryozuki> to trigger that
22:06 <+bridge> [ddnet] <Jupstar âœª> @Chairn can u just disable intel completly?
22:06 <+bridge> [ddnet] <Chairn> now the real question is why does it work for the 32 bit and not the 64 bit?
22:06 <+bridge> [ddnet] <Chairn> how i do that?
22:06 <+bridge> [ddnet] <Ryozuki> ðŸ™ˆ
22:06 <+bridge> [ddnet] <Jupstar âœª> in device manager
22:06 <+bridge> [ddnet] <Jupstar âœª> u can disable components
22:07 <+bridge> [ddnet] <Chairn> well, intel graphics is used all the time except when i launch a game
22:07 <+bridge> [ddnet] <Jupstar âœª> i think i did that too some day
22:07 <+bridge> [ddnet] <Jupstar âœª> i just know that i could set opengl configs in the nvidia control panel
22:07 <+bridge> [ddnet] <Jupstar âœª> back then
22:08 <+bridge> [ddnet] <Chairn> memory view from vmmap when it crashes
22:08 <+bridge> [ddnet] <Chairn> https://cdn.discordapp.com/attachments/293493549758939136/806994523359412254/unknown.png
22:08 <+bridge> [ddnet] <Jupstar âœª> https://www.computerbase.de/forum/attachments/zwischenablage01-jpg.891455/
22:08 <+bridge> [ddnet] <Jupstar âœª> like this
22:08 <+bridge> [ddnet] <Jupstar âœª> but dunno if that still exists
22:08 <+bridge> [ddnet] <Jupstar âœª> havent had nvidia since a longer time ^^
22:09 <+bridge> [ddnet] <Learath2> See that looks more reasonable
22:10 <+bridge> [ddnet] <Learath2> I swear this thing requires more upkeep than a bleeding edge linux system
22:10 <+bridge> [ddnet] <Learath2> I don't touch it for a week and compilation breaks
22:11 <+bridge> [ddnet] <Jupstar âœª> but for some reason i never have problems with MSVC XD
22:11 <+bridge> [ddnet] <Jupstar âœª> its only ur setup
22:11 <+bridge> [ddnet] <Learath2> I literally have no setup
22:11 <+bridge> [ddnet] <Learath2> I downloaded VS, I cloned ddnet
22:12 <+bridge> [ddnet] <Learath2> I wouldn't want to set anything up on this sad excuse for a "stable" "ecosystem" atleast apple supports their single ecosystem perfectly
22:12 <+bridge> [ddnet] <Chairn> just had to reboot after this ðŸ˜„
22:12 <+bridge> [ddnet] <Chairn> it turned off the screen with no way to turn it back on
22:12 <+bridge> [ddnet] <Jupstar âœª> ah too bad
22:13 <+bridge> [ddnet] <Learath2> Use Metal and develop apps like they want you to and you will never have a single issue. You can compile for x86_64 and it runs perfectly under M1, you can do fat binaries, you can compile for ios and run it under macOS
22:13 <+bridge> [ddnet] <Chairn> yeah, that's what i do, but no change on 64 bit client
22:13 <+bridge> [ddnet] <Chairn> only works on the 32 bit one
22:13 <+bridge> [ddnet] <Jupstar âœª> its really strange
22:13 <+bridge> [ddnet] <Jupstar âœª> did u install intel drivers manually?
22:13 <+bridge> [ddnet] <Chairn> yup
22:13 <+bridge> [ddnet] <Learath2> @Chairn you sure it's not using the gpu?
22:13 <+bridge> [ddnet] <Jupstar âœª> i better say nothing about MacOS ^^
22:13 <+bridge> [ddnet] <Chairn> yes, power led changes color when using GPU
22:14 <+bridge> [ddnet] <Chairn> blue for intel, orange for Nvidia. 64 bit client start, led goes to orange then fall back to blue
22:14 <+bridge> [ddnet] <Chairn> when looking at the log, it says intel graphic
22:14 <+bridge> [ddnet] <Chairn> 32 bit client, says nvidia
22:14 <+bridge> [ddnet] <Jupstar âœª> btw i think newer clients also output the version of the driver capabilities
22:14 <+bridge> [ddnet] <Jupstar âœª> [opengl]: Version string
22:14 <+bridge> [ddnet] <Jupstar âœª> then u should see if its nvidia
22:15 <+bridge> [ddnet] <Chairn> ypu
22:15 <+bridge> [ddnet] <Learath2> I'll probably be able to take a look after the 2gb update to my 20gb installation of visual studio downloads
22:16 <+bridge> [ddnet] <Chairn> ```shell
22:16 <+bridge> [ddnet] <Chairn> [2021-02-04 22:15:47][client]: starting...
22:16 <+bridge> [ddnet] <Chairn> [2021-02-04 22:15:47][sdl]: SDL version 2.0.8 (compiled = 2.0.8)
22:16 <+bridge> [ddnet] <Chairn> [2021-02-04 22:15:47][gfx]: Created OpenGL zu.zu context.
22:16 <+bridge> [ddnet] <Chairn> [2021-02-04 22:15:48][opengl]: Vendor string: NVIDIA Corporation
22:16 <+bridge> [ddnet] <Chairn> [2021-02-04 22:15:48][opengl]: Version string: 4.6.0 NVIDIA 425.31
22:16 <+bridge> [ddnet] <Chairn> ```
22:16 <+bridge> [ddnet] <Learath2> Vendor string being NVIDIA strongly suggests it's running on the gpu
22:17 <+bridge> [ddnet] <Learath2> Though optimus does weird things, who knows maybe there is a shim reporting the version?
22:17 <+bridge> [ddnet] <Learath2> Ah yes, I need to restart my computer to finish installing software updates that are completely unrelated to the OS
22:17 <+bridge> [ddnet] <Learath2> brb
22:19 <+bridge> [ddnet] <Jupstar âœª> xDDDDD
22:19 <+bridge> [ddnet] <Jupstar âœª> created opengl zu.zu context
22:19 <+bridge> [ddnet] <Jupstar âœª> is that mingw?
22:19 <+bridge> [ddnet] <Jupstar âœª> maybe we should use mingw stdio instead of mSvc broken c98 thing
22:19 <+bridge> [ddnet] <Chairn> nah, release build from ddnet.tw
22:20 <+bridge> [ddnet] <Jupstar âœª> yeah that should be mingw
22:20 <+bridge> [ddnet] <Learath2> That should never happen
22:20 <+bridge> [ddnet] <Learath2> smells very much like UB
22:20 <+bridge> [ddnet] <Chairn> ```shell
22:20 <+bridge> [ddnet] <Chairn> [2021-02-04 22:20:14][sdl]: SDL version 2.0.8 (compiled = 2.0.8)
22:20 <+bridge> [ddnet] <Chairn> [2021-02-04 22:20:14][gfx]: Created OpenGL zu.zu context.
22:20 <+bridge> [ddnet] <Chairn> [2021-02-04 22:20:15][opengl]: Vendor string: Intel
22:20 <+bridge> [ddnet] <Chairn> [2021-02-04 22:20:15][opengl]: Version string: 3.0.0 - Build 10.18.14.5162```
22:20 <+bridge> [ddnet] <Jupstar âœª> its bcs c98 didnt had it, and MSVC doesnt care about C
22:21 <+bridge> [ddnet] <Chairn> mingw build because i did not configure nvidia to turn on for this one
22:21 <+bridge> [ddnet] <Jupstar âœª> atleast not C std
22:21 <+bridge> [ddnet] <Learath2> Ah true we need to compile to ancientC
22:21 <+bridge> [ddnet] <Learath2> and ofc an update to vs completely broke the project in which I just cloned ddnet so I need to clone again
22:22 <+bridge> [ddnet] <Chairn> there are a lot of warning to fix then ^^
22:23 <+bridge> [ddnet] <Jupstar âœª> we can just use c++ for system.c
22:23 <+bridge> [ddnet] <Jupstar âœª> just as we wanted always
22:23 <+bridge> [ddnet] <Jupstar âœª> why struggle with C
22:23 <+bridge> [ddnet] <Ryozuki> system.rs
22:23 <+bridge> [ddnet] <Learath2> iirc the idea was to keep compatible with tw
22:23 <+bridge> [ddnet] <Jupstar âœª> yeah but our codebase isnt really compatible anyway
22:24 <+bridge> [ddnet] <Learath2> deen did convert to C++ but closed his pr
22:24 <+bridge> [ddnet] <Jupstar âœª> we could just copy paste if they ever have smth useful ðŸ˜„
22:24 <+bridge> [ddnet] <Learath2> don't remember his reason but he said it here
22:24 <+bridge> [ddnet] <Jupstar âœª> yeah i know
22:24 <+bridge> [ddnet] <Jupstar âœª> i think its mainly heinrich being against it xd
22:24 <+bridge> [ddnet] <heinrich5991> I don't remember this guy's blog name either ðŸ˜¦
22:26 <+bridge> [ddnet] <Jupstar âœª> i think _mingw.h
22:26 <+bridge> [ddnet] <Jupstar âœª> 
22:26 <+bridge> [ddnet] <Jupstar âœª> changes behaviour of c98 stuff
22:26 <+bridge> [ddnet] <Jupstar âœª> https://github.com/mirror/mingw-w64/blob/master/mingw-w64-headers/crt/_mingw.h.in#L420
22:26 <+bridge> [ddnet] <Learath2> https://randomascii.wordpress.com/
22:27 <+bridge> [ddnet] <Learath2> ETW is the name of the tool
22:27 <+bridge> [ddnet] <Learath2> Windows Performance Toolkit (xperf) is the thing it's part of
22:28 <+bridge> [ddnet] <Learath2> It's about as intuitive to use as radare2 though
22:28 <+bridge> [ddnet] <Learath2> Okay ddnet does not compile on MSVC
22:29 <+bridge> [ddnet] <Jupstar âœª> mingw emulates most windows stuff tho
22:29 <+bridge> [ddnet] <Jupstar âœª> so msvcrt is compatible
22:29 <+bridge> [ddnet] <Jupstar âœª> or does it compile in some instructions?
22:31 <+bridge> [ddnet] <Learath2> ?
22:31 <+bridge> [ddnet] <heinrich5991> error message?
22:32 <+bridge> [ddnet] <Jupstar âœª> thought it was related to the xperf stuff
22:32 <+bridge> [ddnet] <Jupstar âœª> but u just meant i doesnt compile ^^
22:34 <+bridge> [ddnet] <Learath2> First of all it's not generating the protocol so let me figure that out but the main issue is: `WINDOWS_IGNORE_PACKING_MISMATCH` this thing
22:36 <+bridge> [ddnet] <Learath2> Okay it is generating just fine
22:36 <+bridge> [ddnet] <Learath2> I guess it's just intellisense failing to find them
22:37 <+bridge> [ddnet] <Learath2> Yeah it's `error C2338: Windows headers require the default packing option. Changing this can lead to memory corruption. This diagnostic can be disabled by building with WINDOWS_IGNORE_PACKING_MISMATCH defined.`
22:37 <+bridge> [ddnet] <Learath2> while compiling backend_sdl.cpp
22:37 <+bridge> [ddnet] <heinrich5991> that sounds bad
22:39 <+bridge> [ddnet] <Learath2> Okay figured it out, how this compiles with anyone else is beyond me, but apparently including SDL_syswm.h messes with the packing
22:40 <+bridge> [ddnet] <Learath2> it's fixed in SDL 2.0.12
22:41 <+bridge> [ddnet] <Jupstar âœª> u should create an issue for that then
22:41 <+bridge> [ddnet] <Jupstar âœª> if we dont use 2.0.12
22:41 <+bridge> [ddnet] <Learath2> including syswm after windows.h "fixes" it
22:41 <+bridge> [ddnet] <Learath2> I'm eager to find what it breaks though
22:43 <+bridge> [ddnet] <Learath2> Let us all come together and invent the ideal OS
22:43 <+bridge> [ddnet] <Learath2> I'm sure between us we can come up with something that's not as shit as every option available right now
22:44 <+bridge> [ddnet] <heinrich5991> let's call it systemdos
22:45 <+bridge> [ddnet] <Jupstar âœª> teeworlds-os
22:46 <+bridge> [ddnet] <Ryozuki> microkernel?
22:46 <+bridge> [ddnet] <Ryozuki> lets build it with rust
22:47 <+bridge> [ddnet] <Learath2> I must say the CRTs heap debugging functions are quite nice
22:47 <+bridge> [ddnet] <heinrich5991> link/explanation?
22:48 <+bridge> [ddnet] <Learath2> https://cdn.discordapp.com/attachments/293493549758939136/807004764775645204/unknown.png
22:49 <+bridge> [ddnet] <Learath2> I can see what kinds of objects are on the heap, I can see where the allocations happened, I can see the call stack leading to each allocation
22:49 <+bridge> [ddnet] <heinrich5991> nice ðŸ™‚
22:56 <+bridge> [ddnet] <Learath2> Okay, the heap seems completely fine, so no heap corruptio
22:56 <+bridge> [ddnet] <Learath2> n
23:05 <+bridge> [ddnet] <Learath2> vmmap really seems like the tool to look at this but ofc it can't do high frequency
23:09 <+bridge> [ddnet] <Learath2> In other news we seem to leak a bit
23:10 <+bridge> [ddnet] <Learath2> Depending on the map size joining and leaving a server leaks some heap
23:14 <+bridge> [ddnet] <Learath2> I don't get it we don't use nearly enough heap for address space to become an issue :/
23:25 <+bridge> [ddnet] <Learath2> Well the error is `ERROR_NOT_ENOUGH_MEMORY` so I guess it is an issue
23:45 <+bridge> [ddnet] <Learath2> I managed to make it crash earlier, amazing
23:51 <+bridge> [ddnet] <Learath2> Preallocating an entire gb of heap memory doesn't seem to help either wtf
23:53 <+bridge> [ddnet] <Jupstar âœª> are the vectors maybe too big?
23:53 <+bridge> [ddnet] <Jupstar âœª> i think it allocates width * height, and then prepares the buffers for GPU upload
23:54 <+bridge> [ddnet] <Jupstar âœª> tho it "only" uses 700mb on that map
23:54 <+bridge> [ddnet] <Jupstar âœª> so in worst case it shouldnt be much higher than 1400MB
23:55 <+bridge> [ddnet] <Jupstar âœª> ah yeah it works on 32bit linux anyway
23:55 <+bridge> [ddnet] <Learath2> The tooling looks pretty but it's quite shit, VS snapshots quickly seems to be well integrated with the crt, but it has no fragmentation view. VMMap has the fragmentation view but it can only snap at 1 second intervals
23:55 <+bridge> [ddnet] <Jupstar âœª> forgot already ðŸ˜„
23:55 <+bridge> [ddnet] <Learath2> I don't know why/where we are hitting the boundry because I can't see the whole memory map because there is no way to make vmmap snap when I want
23:56 <+bridge> [ddnet] <Learath2> I guess people just abandoned 32bit
23:56 <+bridge> [ddnet] <Learath2> in 64 bit out of memory is just a joke anyway
23:56 <+bridge> [ddnet] <Learath2> atleast the address space kind
23:56 <+bridge> [ddnet] <Jupstar âœª> thats true, i just wonder what gcc does differently when compiling / or if wine actually simulates windows that accurate xD
23:56 <+bridge> [ddnet] <Jupstar âœª> when compiling for windows*
23:57 <+bridge> [ddnet] <Learath2> My theory is that our shared libs land in a shitty position in the address space so that there is no contiguous block of memory of 290m after the first shared lib
23:58 <+bridge> [ddnet] <Jupstar âœª> possibly
23:58 <+bridge> [ddnet] <Ryozuki> ðŸ‘€
23:58 <+bridge> [ddnet] <Jupstar âœª> then heinrichs first guess would be right already ðŸ˜„
23:58 <+bridge> [ddnet] <Jupstar âœª> i wonder if we can tell gcc to try to maximize heap or smth
23:59 <+bridge> [ddnet] <Learath2> look at my gigantic heap
23:59 <+bridge> [ddnet] <Learath2> https://cdn.discordapp.com/attachments/293493549758939136/807022618405503027/unknown.png
23:59 <+bridge> [ddnet] <Learath2> Still didn't save me ðŸ˜› fails on a smaller allocation
