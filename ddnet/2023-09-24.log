04:33 < bridge> <_gwendal> #0 :owo:
04:33 < bridge> <_gwendal> https://cdn.discordapp.com/attachments/293493549758939136/1155331112327987250/Discord_OGF6x9Riro.png
09:10 < bridge> <matodor> fixed in 17.3? it is impossible to control the character when this window pops up
09:10 < bridge> <matodor> https://cdn.discordapp.com/attachments/293493549758939136/1155400808737804298/bandicam_2023-09-24_11-09-04-931.mp4
09:11 < bridge> <Jupstar âœª> that never was a bug in the client.. 
09:11 < bridge> <Jupstar âœª> 
09:11 < bridge> <Jupstar âœª> if ppl still get this, i can only imagine it's cloudflare's fault
09:13 < bridge> <matodor> sure, but why this skin not removed?
09:14 < bridge> <Jupstar âœª> it was fixed months ago actually
09:14 < bridge> <Jupstar âœª> where ever u live.. it apparently is still cached wrongly
09:14 < bridge> <matodor> some CDN's cached it? Russia
09:14 < bridge> <Jupstar âœª> at least that is what i assume
09:14 < bridge> <Jupstar âœª> i can't imagine another reason
09:16 < bridge> <matodor> not a client bug, but you can't play when the window is displayed) I think it should not be displayed during the game.
09:16 < bridge> <Jupstar âœª> @murpi can u like, tell cloudflare to clear the caches or smth
09:54 < bridge> <totar> I can't belive it was this easy to fix the entire time, I assumed this was a technical limitation and never checked
09:54 < bridge> <totar> I can't believe it was this easy to fix the entire time, I assumed this was a technical limitation and never checked
10:23 < bridge> <robyt3> The whole point of this popup is to be annoyingly shown during the game, else the players would not know why some textures in maps and skins are missing
10:32 < bridge> <matodor> As a player it's not my problem that I get a cached version of the skin in the wrong format, why should I for example fail a map I've been playing for a long time because of this bug?
10:35 < bridge> <robyt3> The popup wasn't really designed to be shown in the middle of gameplay I guess. It being show for skins from the database is a bug (because the skins should all be compatible) and this popup is likely the only way we would have caught it.
10:35 < bridge> <robyt3> Maybe it could be shown only when you open the menu
10:36 < bridge> <matodor> check skins before inserting them into the database?)
10:36 < bridge> <Jupstar âœª> it sucks
10:36 < bridge> <robyt3> Yes, the skin in the database is and has always been correct though
10:36 < bridge> <Jupstar âœª> but question is wtf is happening here anyway
10:36 < bridge> <robyt3> As far as we understand it, either the webserver or some cache changes the image in transit
10:38 < bridge> <matodor> So the original skin in the database is in the correct format? 
10:38 < bridge> <matodor> i mean skin first version
10:39 < bridge> <robyt3> Yeah, but when the client downloads it, it sometimes ends up in a different format
10:40 < bridge> <Jupstar âœª> i think murpi already confirmed the original upload was wrong
10:40 < bridge> <Jupstar âœª> back then we uploaded the skins manually
10:40 < bridge> <Jupstar âœª> now the download bot converts them
10:40 < bridge> <Jupstar âœª> that's why i assume it must be some cloudflare cache
10:41 < bridge> <Jupstar âœª> the upload bot*
10:41 < bridge> <Jupstar âœª> @SkinDB my fellow
10:44 < bridge> <Jupstar âœª> also let's face it. we shouldnt ever have added that libpng doesn't load these skins. pnglite simply failed (it didnt crash the client)
10:44 < bridge> <Jupstar âœª> 
10:44 < bridge> <Jupstar âœª> so this still would have been kinda backward compatible in a sense that it doesnt break old clients
10:44 < bridge> <Jupstar âœª> then we could use any format we want
10:45 < bridge> <Jupstar âœª> this whole backward compability argument is just flawed
10:45 < bridge> <robyt3> Do we have statistics how many players are still using versions before we added libpng (anything older than 16.3)?
10:45 < bridge> <murpi> @jupeyy_keks Can you clear the metadata from the skins before uploading them?
10:45 < bridge> <Jupstar âœª> deen can generate it
10:45 < bridge> <Jupstar âœª> i really doubt they are saved at all
10:45 < bridge> <murpi> AFAIK that solved the issue ssen in the screenshot
10:45 < bridge> <Jupstar âœª> i convert it to RGBA pixels first
10:45 < bridge> <murpi> AFAIK that solved the issue seen in the screenshot
10:46 < bridge> <Jupstar âœª> it doesnt remember anything from the original image
10:46 < bridge> <robyt3> So the meta data was also because it was an old skin that was uploaded manually?
10:46 < bridge> <Jupstar âœª> yes i assume so
10:47 < bridge> <murpi> I removed the metadata and uploaded it via @SkinDB
10:47 < bridge> <Jupstar âœª> yes, it is 100% fixed
10:47 < bridge> <Jupstar âœª> that's why i can only still imagine cloudflare caches
10:47 < bridge> <murpi> (back then)
10:48 < bridge> <murpi> No, the current one still has all the metadata from the original
10:48 < bridge> <murpi> I think
10:48 < bridge> <murpi> Let me check
10:48 < bridge> <Jupstar âœª> u can ping deen, he ignores me lately ðŸ˜‚
10:49 < bridge> <robyt3> I'll ask
10:49 < bridge> <murpi> Ah hm, the skin is noninterlaced properly
12:32 < bridge> <learath2> What kind of agressive caching is this even? Hasn't it been like weeks since we removed the interlaced one?
12:32 < bridge> <Jupstar âœª> yes xd
12:36 < bridge> <learath2> Q: What exactly happens if an old client tries to load an interlaced skin?
12:37 < bridge> <Jupstar âœª> before libpng: it fails to load
12:37 < bridge> <Jupstar âœª> after libpng: it fails to load and shows an error
12:37 < bridge> <Jupstar âœª> before libpng: it fails to load
12:37 < bridge> <Jupstar âœª> after libpng: it fails to load because of our check and shows an error
12:38 < bridge> <learath2> What happens when pnglite fails? Fallback to default?
12:39 < bridge> <Jupstar âœª> it's simply as if the skin does not exist
12:41 < bridge> <learath2> So default tee
12:41 < bridge> <learath2> If that's the case then it might be a good idea to remove the warning now
12:43 < bridge> <Jupstar âœª> it was a good idea before libpng was merged
12:44 < bridge> <Jupstar âœª> but some ppl whos name is not to be named went full ego xd
12:50 < bridge> <ryozuki> :justatest:
13:14 < bridge> <robyt3> It's controlled by a feature-flag in https://info.ddnet.org/info so we could easily disable the warning also for old clients
13:16 < bridge> <learath2> Yeah, it was meant to always be removed
14:28 < bridge> <_gwendal> I donâ€™t think so, I have this error every time I open my client but I can use with the skin / see other ppl using it
14:28 < bridge> <_gwendal> I donâ€™t think so, I have this error every time I open my client but I can use the skin / see other ppl using it
14:28 < bridge> <Jupstar âœª> what client version do you use?
14:30 < bridge> <_gwendal> the last stable one I think, I tell you in a minute
14:30 < bridge> <Jupstar âœª> it's ok
14:30 < bridge> <Jupstar âœª> i didnt mean you(your client) then anyway
14:31 < bridge> <_gwendal> https://cdn.discordapp.com/attachments/293493549758939136/1155481727234490398/DDNet_sHSnKJ7P5V.png
14:36 < bridge> <_gwendal> oh mb, you guys want to remove warning for versions olders than 16.3 ?
14:36 < bridge> <Jupstar âœª> we talked about what happens to old clients
14:37 < bridge> <_gwendal> yy
14:38 < bridge> <_gwendal> btw this is the error in F1 if needed : ```2023-09-24 14:34:23 I png: warning for file "skins/Pom Pom.png": Interlace handling should be turned on when using png_read_image```
14:38 < bridge> <Jupstar âœª> yeah
14:47 < bridge> <ryozuki> https://factorio.com/blog/post/fff-377
14:47 < bridge> <ryozuki> massive
14:50 < bridge> <robyt3> According to very rough statistics, the number of active players using client versions older than 17.x seems to be smaller than 5%.
14:51 < bridge> <Jupstar âœª> drop(other);
14:55 < bridge> <Jupstar âœª> ^ still waiting, would also be interesting to know
14:55 < bridge> <Jupstar âœª> @robyt3 do u have steam access xd
14:56 < bridge> <robyt3> no
14:57 < bridge> <Jupstar âœª> sad
15:25 < bridge> <learath2> @davide55 ger10 never seems to auto verify anymore, can we get that fixed again?
15:28 < bridge> <davide55> I'll look into it
16:41 < bridge> <Ewan> i turned on hibernation for my pc a few days ago because it solved the issue of the computer randomly waking up from sleep in the middle of the night
16:41 < bridge> <Ewan> but maybe i shouldn't have done that
16:41 < bridge> <Ewan> writing then reading up to 64GB from the disk evey day for pretty much no reason doesn't seem like an awesome idea
17:05 < bridge> <fokkonaut> most annoying change award goes to the new team color sorting
17:07 < bridge> <fokkonaut> breaks like 3 or 4 things at once in my mod
17:07 < bridge> <fokkonaut> or makes it worse
17:23 < bridge> <fokkonaut> We're there any changes regarding `Cl_ChangeInfo`? It should only get sent when things in the menu update or using f1 commands. It appears to get sent as soon as I press a` or `d` for walking.
17:23 < bridge> <fokkonaut> We're there any changes regarding `Cl_ChangeInfo`? It should only get sent when things in the menu update or using f1 commands. It appears to get sent as soon as I press `a` or `d` for walking.
17:24 < bridge> <fokkonaut> It was not like that before. When I change the skin from the serverside the client would not want to send Cl_ChangeInfo because that hasnt been triggered until you change ur skin options or smth.
17:25 < bridge> <learath2> It's fine for a hdd but you get shit wake up times, for an ssd an awful idea indeed
18:04 < ChillerDragon> @fokkonaut whats your a and d bind? Is it only walking or do you also set something like a skin?
18:04 < bridge> <fokkonaut> walking
18:05 < ChillerDragon> hm
18:05 < ChillerDragon> thats weird
18:05 < bridge> <learath2> I found a cool new vscode feature
18:05 < bridge> <learath2> https://cdn.discordapp.com/attachments/293493549758939136/1155535433439133746/vcode.webm
18:05 < bridge> <learath2> It can keep a per cursor paste buffer
18:05 < ChillerDragon> u forgot a s in vcode
18:05 < ChillerDragon> lerato dislexic fuk
18:06 < bridge> <learath2> also the framerate of this video is actual shit wtf
18:06 < ChillerDragon> i dont get the feature
18:07 < ChillerDragon> you mean copy paste a word in multiple lines
18:07 < ChillerDragon> thats in vscode since i remember
18:07 < bridge> <learath2> each line has its own copy and paste buffer, so when you paste you get a different thing in each line
18:07 < ChillerDragon> or do i not get the video
18:07 < ChillerDragon> yea no front but isnt that the most basic vscode edit there is?
18:08 < ChillerDragon> i think even sublime had that right?
18:08 < bridge> <learath2> sorry, I guess I was just not as cool as you
18:08 < ChillerDragon> yea but no you are right
18:08 < ChillerDragon> its very cool
18:08 < ChillerDragon> and i use it all the time since im just a copy paste engineer anyways
18:09 < bridge> <Jupstar âœª> i use regex, bcs im cool
18:10 < bridge> <learath2> anyway, for some reason predicted and current disagree on the hook, that's what I'm poking around in
18:10 < ChillerDragon> those kind of things are the reason while i often have to switch from vim to vscode to get something done fast
18:10 < ChillerDragon> s/while/why/
18:11 < bridge> <learath2> I bet vim has this too, it's probably just behind 5 keypresses
18:11 < ChillerDragon> for sure
18:11 < ChillerDragon> but i cant figure out how
18:11 < ChillerDragon> i have some scuffed vim extension that does parts of it
18:13 < ChillerDragon> oh lerato
18:13 < ChillerDragon> u know what makes me really nervouse
18:14 < ChillerDragon> you using vscode darkmode but your top menu bar is white .-.
18:14 < ChillerDragon> https://zillyhuhn.com/cs/.1695572062.png
18:14 < ChillerDragon> this gives me the chills
18:16 < bridge> <learath2> it's a weird linux issue that I really cba to figure out :/
18:16 < ChillerDragon> buy gnome pro
18:16 < ChillerDragon> it comes with dark mode
18:17 < bridge> <learath2> There is a rather big issue with dead reckoning, we do lots of things to `m_Core` without reflecting it to `m_ReckoningCore`, do you think these are worth fixing?
18:17 < ChillerDragon> dont fix that before your vscode colors are fixed
18:17 < ChillerDragon> obv
18:20 < bridge> <learath2> mh, we really should have never added stuff to inside the `CCharacterCore`
18:21 < ChillerDragon> https://tube.zillyhuhn.com/videos/users/chiller/vimpro.mp4
18:21 < bridge> <chairn> i'd probably use regex to replace everything
18:22 < ChillerDragon> dude took me way to long
18:22 < ChillerDragon> and felt super wonkey
18:22 < ChillerDragon> vim is nice and all but i probably will not stop booting up electron for smooth multi cursoring
18:27 < bridge> <learath2> @nuborn is there anyway we can delay `Evolve` until `CNetObj_DDNetCharacter` is read?
18:33 < bridge> <nuborn> yes, I think one could just loop through all the characters afterwards
18:34 < bridge> <learath2> Or maybe reuse the previous extended data before `Evolve` happens
18:36 < bridge> <learath2> Currently if you set `cl_predict 0` and jump in start of the tutorial map you'll get a weird jolt
18:36 < bridge> <learath2> it seems to be because we forget the value of m_Jumps
18:43 < bridge> <Ewan> agree
18:44 < bridge> <Ewan> this was originally in notepad++
18:45 < bridge> <Ewan> i also enjoy this feature
18:59 < ChillerDragon> the thing fokko discovered might be some UB i can only reproduce it in debug mode i guess that should not be the case
19:23 < bridge> <nuborn> I could take a look later maybe, unless you found the solution already
19:25 < bridge> <sedonya> How does it update ddnet.exe?
19:25 < bridge> <sedonya> https://cdn.discordapp.com/attachments/293493549758939136/1155555735569186827/image.png
19:26 < bridge> <sedonya> Nowhere is this file listed
19:28 < bridge> <Jupstar âœª> it's so essential that it is hardcoded
19:29 < bridge> <sedonya> I want it to download updates from my site, how do I update ddnet.exe if I want to?
19:29 < bridge> <sedonya> https://cdn.discordapp.com/attachments/293493549758939136/1155556731091431536/image.png
19:30 < bridge> <robyt3> `"client": true` probably means the client will update the client executable
19:30 < bridge> <robyt3> `"server": true` the same
19:32 < bridge> <sedonya> So where does it get ddnet.exe from?
19:34 < bridge> <robyt3> It seems to be hard-coded in `src/engine/client/updater.cpp` line 35
19:34 < bridge> <robyt3> ```cpp
19:34 < bridge> <robyt3> static const char *GetUpdaterUrl(char *pBuf, int BufSize, const char *pFile)
19:34 < bridge> <robyt3> {
19:34 < bridge> <robyt3>     str_format(pBuf, BufSize, "https://update.ddnet.org/%s", pFile);
19:34 < bridge> <robyt3>     return pBuf;
19:34 < bridge> <robyt3> }
19:34 < bridge> <robyt3> ```
19:34 < bridge> <sedonya> str_format(pBuf, BufSize, "https://update.ddnet.org/%s", pFile);
19:34 < bridge> <robyt3> Replace this with your own server URL
19:34 < bridge> <sedonya> https://update.ddnet.org/ddnet.exe ?
19:35 < bridge> <robyt3> Yes, it downloads that file
19:35 < bridge> <sedonya> https://cdn.discordapp.com/attachments/293493549758939136/1155558185780908042/image.png
19:35 < bridge> <robyt3> Or https://update.ddnet.org/data/countryflags/ES-CT.png for example
19:36 < bridge> <sedonya> It only downloads regular files, but not ddnet.exe
19:37 < bridge> <robyt3> The name also contains the platform
19:37 < bridge> <robyt3> For binaries
19:37 < bridge> <robyt3> Look in `updater.h`
19:38 < bridge> <sedonya> aaaaaaa
19:38 < bridge> <robyt3> Or just add `dbg_msg` and run it
19:38 < bridge> <robyt3> To see the actual URL that is downloaded
19:39 < bridge> <sedonya> thxxxx
19:42 < bridge> <sedonya> win
19:42 < bridge> <sedonya> I got it
19:48 < bridge> <learath2> I fed the prev snap extended data into evolve and that kinda fixes it but it's technically wrong
19:56 < bridge> <fokkonaut> what's happening here and what exactly fixes it?
23:08 < bridge> <sedonya> friend opened my client
23:08 < bridge> <sedonya> https://cdn.discordapp.com/attachments/293493549758939136/1155611645079457793/image.png
23:08 < bridge> <sedonya> eng vers
23:08 < bridge> <sedonya> https://cdn.discordapp.com/attachments/293493549758939136/1155611730626478201/image.translated.jpg
23:20 < bridge> <davide55> Should be fixed, if you still have issues, please send me a traffic capture (pcap) while you try to connect to the server
23:23 < bridge> <sedonya> https://cdn.discordapp.com/attachments/293493549758939136/1155615463179550791/image.png
23:47 < bridge> <sedonya> @robyt3 :owo:
23:53 < bridge> <robyt3> Do the files in `update` exist?
23:54 < bridge> <sedonya> only folders
23:54 < bridge> <sedonya> and update.json
23:56 < bridge> <sedonya> All folders are empty
23:56 < bridge> <sedonya> https://cdn.discordapp.com/attachments/293493549758939136/1155623777233801296/image.png
23:56 < bridge> <sedonya> https://cdn.discordapp.com/attachments/293493549758939136/1155623777481269278/image.png
