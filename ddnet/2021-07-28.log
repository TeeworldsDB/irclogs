02:53 <+bridge> [ddnet] <lynn> i think it would be cool if we could defer some skins to lazyload
02:53 <+bridge> [ddnet] <lynn> that way players can still download a bunch of skins but not affect load time
02:53 <+bridge> [ddnet] <lynn> maybe if we create a subdirectory in skins called "lazyload" those can be deferred
02:54 <+bridge> [ddnet] <lynn> that way the client could still block to load common skins into memory
02:54 <+bridge> [ddnet] <lynn> let me know what you guys think about this
02:55 <+bridge> [ddnet] <lynn> or the subdirectory can be simply called "defer"
02:56 <+bridge> [ddnet] <lynn> if we want to not be too technical for anyone digging around, it could also be called something like "extra" or "user" but i think it's nice to be transparent like this despite being a bit technical
02:58 <+bridge> [ddnet] <lynn> OR big brain idea, new directory entirely called downloadedskins but i think that is too correlated with downloadedmaps and not the same thing
02:58 <+bridge> [ddnet] <lynn> OR big brain idea, new directory entirely called downloadedskins but i think that is too correlated with downloadedmaps and not the same process
02:59 <+bridge> [ddnet] <lynn> and you could browse the skin db in-game and download them that way, and then the name of the folder is more correct + helpful
03:55 <+bridge> [ddnet] <plsplsplslol> downloaded skins is already the place for the auto skin downloader
03:55 <+bridge> [ddnet] <plsplsplslol> downloadedskins is already the place for the auto skin downloader
04:15 <+bridge> [ddnet] <lynn> ppl keep talking about the auto downloader but i swear ive never seen it
04:16 <+bridge> [ddnet] <lynn> probably a good indication of bad UX xd
04:16 <+bridge> [ddnet] <plsplsplslol> tee -> download skins
04:18 <+bridge> [ddnet] <lynn> im not sure, is it supposed to show here?
04:19 <+bridge> [ddnet] <lynn> https://cdn.discordapp.com/attachments/293493549758939136/869765853296611368/unknown.png
04:19 <+bridge> [ddnet] <lynn> i already checked cl_download_skins to make sure it's 1 and
04:19 <+bridge> [ddnet] <lynn> cl_skin_download_url is https://skins.ddnet.tw/skin/
04:19 <+bridge> [ddnet] <louis> https://cdn.discordapp.com/attachments/293493549758939136/869766061891919902/unknown.png
04:20 <+bridge> [ddnet] <lynn> oh the checkmark
04:20 <+bridge> [ddnet] <lynn> so that's supposed to sync my skins with the db?
04:20 <+bridge> [ddnet] <lynn> does that happen every launch?
04:20 <+bridge> [ddnet] <louis> every time someone on ur server changes skin i think
04:20 <+bridge> [ddnet] <plsplsplslol> no its just when someone uses the skin
04:20 <+bridge> [ddnet] <plsplsplslol> what happened to the bottom of ur skins page
04:20 <+bridge> [ddnet] <lynn> ohh okay i understand
04:20 <+bridge> [ddnet] <lynn> it's a bug with ui_scale
04:20 <+bridge> [ddnet] <lynn> basically dont use anything larger than 1
04:21 <+bridge> [ddnet] <lynn> cus nothing works for it lol
04:21 <+bridge> [ddnet] <lynn> rip anyone with bad vision like me i guess
04:21 <+bridge> [ddnet] <plsplsplslol> use irl zooz
04:21 <+bridge> [ddnet] <lynn> i do use irl zooz but my eyes are still bad and prefer large text
04:21 <+bridge> [ddnet] <lynn> imo these should be grouped differently
04:21 <+bridge> [ddnet] <lynn> https://cdn.discordapp.com/attachments/293493549758939136/869766566575759391/unknown.png
04:21 <+bridge> [ddnet] <lynn> the order at least is pretty confusing
04:22 <+bridge> [ddnet] <lynn> maybe download skins should be in its own column
04:22 <+bridge> [ddnet] <lynn> or dummy settings actually in its own column
04:22 <+bridge> [ddnet] <lynn> since it's not an option it's a toggle
04:22 <+bridge> [ddnet] <plsplsplslol> Colo-Colo:
04:22 <+bridge> [ddnet] <perrodecerro> abcqwerty:
09:59 <+bridge> [ddnet] <chillerdragon> when does one delete passwort reset tokens from the database?
10:00 <+bridge> [ddnet] <chillerdragon> I mean yea when they are used. But I feel like every coding tutorial out there leaves unused tokens dangeling forever
10:00 <+bridge> [ddnet] <chillerdragon> what is recommended a cron job that wipes old tokens? Or on a new request clear all old tokens.
10:02 <+bridge> [ddnet] <Ryozuki> chillerdragon
10:02 <+bridge> [ddnet] <Ryozuki> if u use something like uuids for tokens
10:02 <+bridge> [ddnet] <Ryozuki> or the token is long enough
10:02 <+bridge> [ddnet] <Ryozuki> its rly hard to get a token like this
10:02 <+bridge> [ddnet] <Ryozuki> again
10:02 <+bridge> [ddnet] <Ryozuki> so it doesnt matter
10:02 <+bridge> [ddnet] <Ryozuki> and u can keep it for auditing
10:02 <+bridge> [ddnet] <chillerdragon> ah no its not about security more about housekeeping
10:02 <+bridge> [ddnet] <Ryozuki> auditing i guess
10:02 <+bridge> [ddnet] <chillerdragon> i feel like my database gets spammed when people mess with it
10:03 <+bridge> [ddnet] <Ryozuki> xd
10:03 <+bridge> [ddnet] <chillerdragon> so its a audit feature to keep it forever?
10:03 <+bridge> [ddnet] <chillerdragon> not a DoS bug
10:03 <+bridge> [ddnet] <Ryozuki> eh
10:03 <+bridge> [ddnet] <Ryozuki> you can build ur app logic to allow reset after x days of resetting i guess
10:03 <+bridge> [ddnet] <Ryozuki> or just delete it
10:03 <+bridge> [ddnet] <Ryozuki> idk
10:04 <+bridge> [ddnet] <Ryozuki> i dont think a db row with a token and a timestamp uses much space
10:05 <+bridge> [ddnet] <chillerdragon> space is probably fine i am just too noob with databases to understand lookup times
10:05 <+bridge> [ddnet] <chillerdragon> when and how tho?
10:05 <+bridge> [ddnet] <chillerdragon> (@Ryozuki)
10:07 <+bridge> [ddnet] <Ryozuki> delete it when its used?
10:07 <+bridge> [ddnet] <chillerdragon> and the unused ones?
10:07 <+bridge> [ddnet] <Ryozuki> ah
10:07 <+bridge> [ddnet] <chillerdragon> lets say one dude spam creates tokens and never uses them
10:07 <+bridge> [ddnet] <Ryozuki> then after some time i guess
10:07 <+bridge> [ddnet] <chillerdragon> and who runs the code?
10:07 <+bridge> [ddnet] <Ryozuki> you
10:08 <+bridge> [ddnet] <chillerdragon> a cronjob or on a request?
10:08 <+bridge> [ddnet] <Ryozuki> on my app i have a thread
10:08 <+bridge> [ddnet] <chillerdragon> so a sidejob
10:08 <+bridge> [ddnet] <Ryozuki> ye
10:08 <+bridge> [ddnet] <chillerdragon> in the app is cool yea
10:08 <+bridge> [ddnet] <Learath2> Extremely fast, way faster than needed unless you host a very large site
10:08 <+bridge> [ddnet] <chillerdragon> yea thought so
10:08 <+bridge> [ddnet] <chillerdragon> i mean nobody aint gonna never reset any no passwords on mi site anyways
10:08 <+bridge> [ddnet] <Ryozuki> ur table is pros user_id token and timestamp, just add a index to token
10:08 <+bridge> [ddnet] <Ryozuki> and ur good to go
10:09 <+bridge> [ddnet] <chillerdragon> im just wondering what the good style is
10:09 <+bridge> [ddnet] <Ryozuki> probs*
10:09 <+bridge> [ddnet] <Learath2> You can also have a hash column in mysql to get o(1) lookups
10:09 <+bridge> [ddnet] <chillerdragon> same in sqlite?
10:09 <+bridge> [ddnet] <chillerdragon> too lazy to run a mysql server
10:09 <+bridge> [ddnet] <Ryozuki> postgres best
10:10 <+bridge> [ddnet] <Learath2> Idk if sqlite has hash columns but it can definitely have indexes which will give you o(logn) lookup. Definitely good enough until very large n
10:10 <+bridge> [ddnet] <chillerdragon> o(1) lookup sounds unrealisitic tbh \:D
10:10 <+bridge> [ddnet] <chillerdragon> i know database coders are wizards but how
10:12 <+bridge> [ddnet] <chillerdragon> does something speak against redis?
10:12 <+bridge> [ddnet] <Ryozuki> chillerdragon wants to optimize for millions of users when he is the only one using it :feelsbadman:
10:12 <+bridge> [ddnet] <Learath2> Well it is O(n/k) on average where k is the average bucket size
10:12 <+bridge> [ddnet] <Ryozuki> i think redis is for distributed caching right
10:12 <+bridge> [ddnet] <Ryozuki> i prefer having caching inside ur app if ur not gonna make it distributed
10:12 <+bridge> [ddnet] <chillerdragon> i have no clue what redis is for
10:12 <+bridge> [ddnet] <Learath2> redis should have similar performance to a mysql hash column but its in memory so that should help
10:12 <+bridge> [ddnet] <Ryozuki> its a in memory db
10:12 <+bridge> [ddnet] <chillerdragon> but i have it in my codebase already
10:12 <+bridge> [ddnet] <Ryozuki> what r u doing btw?
10:12 <+bridge> [ddnet] <Learath2> Redis is an in memory blazing fast key value store
10:13 <+bridge> [ddnet] <chillerdragon> passwort reset for teewoods game server accounts
10:14 <+bridge> [ddnet] <Ryozuki> teewoods
10:14 <+bridge> [ddnet] <Ryozuki> wat dat
10:14 <+bridge> [ddnet] <Learath2> Redis is good for caching stuff too
10:14 <+bridge> [ddnet] <chillerdragon> https://www.urbandictionary.com/define.php?term=teewoods
10:14 <+bridge> [ddnet] <chillerdragon> i use redis for authed sessions
10:15 <+bridge> [ddnet] <chillerdragon> followed some soydev nodejs tut \:D
10:15 <+bridge> [ddnet] <Ryozuki> i think using redis is a overkill
10:15 <+bridge> [ddnet] <Ryozuki> what lang are u using
10:15 <+bridge> [ddnet] <chillerdragon> it werks
10:15 <+bridge> [ddnet] <chillerdragon> i should rewrite in bash
10:15 <+bridge> [ddnet] <chillerdragon> nodejs is bloat
10:15 <+bridge> [ddnet] <Ryozuki> use rust
10:16 <+bridge> [ddnet] <chillerdragon> rust too hard
10:16 <+bridge> [ddnet] <Ryozuki> i wonder
10:16 <+bridge> [ddnet] <chillerdragon> but if redis is only key and value i feel like i miss a column
10:16 <+bridge> [ddnet] <chillerdragon> userid, token, expiredate
10:17 <+bridge> [ddnet] <Ryozuki> eh
10:17 <+bridge> [ddnet] <Ryozuki> key can be ur token
10:17 <+bridge> [ddnet] <chillerdragon> or do i abuse the value to store multiple values
10:17 <+bridge> [ddnet] <Ryozuki> then a json object with userid and expiredate
10:17 <+bridge> [ddnet] <Ryozuki> thats how i would do it
10:17 <+bridge> [ddnet] <chillerdragon> i see
10:17 <+bridge> [ddnet] <chillerdragon> hack
10:17 <+bridge> [ddnet] <Ryozuki> no
10:17 <+bridge> [ddnet] <Ryozuki> its the most logical way
10:17 <+bridge> [ddnet] <Ryozuki> nobo
10:17 <+bridge> [ddnet] <chillerdragon> sorry 5head
10:18 <+bridge> [ddnet] <Ryozuki> but will u rly store
10:18 <+bridge> [ddnet] <Ryozuki> that in redis?
10:18 <+bridge> [ddnet] <Ryozuki> does ur redis persist
10:18 <+bridge> [ddnet] <Ryozuki> data
10:18 <+bridge> [ddnet] <chillerdragon> tbh i have no clue wat my redis does
10:19 <+bridge> [ddnet] <Ryozuki> redis is a database
10:19 <+bridge> [ddnet] <Ryozuki> but only in memory
10:19 <+bridge> [ddnet] <Ryozuki> once u shutdown redis
10:19 <+bridge> [ddnet] <Ryozuki> u lose all
10:19 <+bridge> [ddnet] <chillerdragon> but since i went through the trouble of apt install redis-server and redis-server & i might as well use it
10:19 <+bridge> [ddnet] <Ryozuki> thats why its good for caching stuff
10:19 <+bridge> [ddnet] <chillerdragon> its an actual server running
10:19 <+bridge> [ddnet] <Ryozuki> but not for storing data meant for long time
10:21 <+bridge> [ddnet] <chillerdragon> yea those tokens are not meant for long time right? \:D
10:21 <+bridge> [ddnet] <Learath2> Why are JWTs so popular...
10:22 <+bridge> [ddnet] <chillerdragon> some tut mentiont JWT i never heard of it
10:22 <+bridge> [ddnet] <Learath2> Why would you want to store outdated data on the users browser even if you can trust that it's not fake?
10:23 <+bridge> [ddnet] <chillerdragon> ?xd
10:24 <+bridge> [ddnet] <Learath2> JWTs are signed cookies basically. They contain user information. The user sends them instead of some short random token and you can use the data inside the token
10:24 <+bridge> [ddnet] <Learath2> Which sounds like a good idea, until you want to ban people
10:25 <+bridge> [ddnet] <chillerdragon> so when the user changes browser tokens get invalid
10:37 <+bridge> [ddnet] <chillerdragon> oh yikes so redis fills my ram
10:37 <+bridge> [ddnet] <chillerdragon> i got 86 session tokens already from a unused site
10:37 <+bridge> [ddnet] <chillerdragon> that seems wrong
10:41 <+bridge> [ddnet] <Ryozuki> ?
10:41 <+bridge> [ddnet] <Ryozuki> its not a bad idea, u just dont store the is banned info in the token
10:42 <+bridge> [ddnet] <chillerdragon> i have more diskspace than ram
10:42 <+bridge> [ddnet] <chillerdragon> ah u on JWT
10:42 <+bridge> [ddnet] <Ryozuki> chillerdragon im using jwt, i use a long lived token called "refresh token" its stored in a http only cookie, which means js cant access it, when you login the server sets this http only cookie
10:42 <+bridge> [ddnet] <Ryozuki> then the client calls a refresh endpoint and gets a session token
10:42 <+bridge> [ddnet] <Ryozuki> which lasts e.g 15 mins
10:43 <+bridge> [ddnet] <Ryozuki> this token can be read by javascript
10:43 <+bridge> [ddnet] <Ryozuki> and u need to use it on api calls
10:43 <+bridge> [ddnet] <chillerdragon> http only cookie sounds neat so no js code can steal it
10:43 <+bridge> [ddnet] <chillerdragon> never heard of that either
10:43 <+bridge> [ddnet] <Ryozuki> yeah
10:43 <+bridge> [ddnet] <chillerdragon> gosh my web knowledge is so little
10:43 <+bridge> [ddnet] <Ryozuki> :D
10:53 <+bridge> [ddnet] <Learath2> Which means you need a roundtrip to the db anyway. Might aswell get the entire user object
10:53 <+bridge> [ddnet] <Ryozuki> yeah
10:53 <+bridge> [ddnet] <Ryozuki> i only store the id
10:53 <+bridge> [ddnet] <Ryozuki> u can cache it
10:53 <+bridge> [ddnet] <Learath2> I guess just the id would work. One less mapping to look up
13:42 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/869907717903495168/ComicCode.png
13:43 <+bridge> [ddnet] <Ryozuki> https://realdougwilson.com/writing/coding-with-character
13:46 <+bridge> [ddnet] <lynn> i actually dont hate comic code
13:48 <+bridge> [ddnet] <lynn> cascadia code is one of my favorite fonts
13:49 <+bridge> [ddnet] <lynn> but i use fira code bolded right now
13:49 <+bridge> [ddnet] <Ryozuki> i use jetbrains mono
13:50 <+bridge> [ddnet] <Learath2> dejavu sans mono or bust
13:53 <+bridge> [ddnet] <lynn> i like jetbrains mono but it feels too squishy to me
13:53 <+bridge> [ddnet] <lynn> dejavu sans mono is pretty nice
13:55 <+bridge> [ddnet] <lynn> my eyes are just so used to fira lol
13:55 <+bridge> [ddnet] <lynn> https://cdn.discordapp.com/attachments/293493549758939136/869910933894467594/unknown.png
14:11 <+bridge> [ddnet] <Learath2> rsync over a 1g connection is so much more pleasant
14:16 <+bridge> [ddnet] <Learath2> I should have been born in south korea where 1g home connections are common 😦
14:25 <+bridge> [ddnet] <Learath2> (Just observing the terminal where the rsync is happening I transferred about a gigabyte of logs over ssh 😄 )
14:30 <+bridge> [ddnet] <timakro> I have a bit of a playful font as well
14:30 <+bridge> [ddnet] <timakro> image.png
14:30 <+bridge> [ddnet] <timakro> https://cdn.discordapp.com/attachments/293493549758939136/869919715773022298/image.png
14:43 <+bridge> [ddnet] <lynn> looks like operator mono but idk
15:12 <+bridge> [ddnet] <chillerdragon> Pff you all mainstream with your fixed with fonts and IDE's and vim
15:12 <+bridge> [ddnet] <chillerdragon> image.png
15:12 <+bridge> [ddnet] <chillerdragon> https://cdn.discordapp.com/attachments/293493549758939136/869930373948276746/image.png
15:12 <+bridge> [ddnet] <chillerdragon> I use LibreOffice Writer like real OGs do
15:16 <+bridge> [ddnet] <chillerdragon> [Edit](https://discord.com/channels/252358080522747904/293493549758939136/869930302825443328): Pff you all mainstream with your fixed width fonts and IDE's and vim
15:19 <+bridge> [ddnet] <gerdoe> nice edit xd
15:20 <+bridge> [ddnet] <gerdoe> as i know it possible to edit webhook messages
15:20 <+bridge> [ddnet] <Learath2> Here on out you are banned from contributing to ddnet
15:20 <+bridge> [ddnet] <gerdoe> strange bridge bot
17:50 <+bridge> [ddnet] <Ryozuki> @Learath2 https://docs.hetzner.com/general/others/ipv4-pricing/
17:50 <+bridge> [ddnet] <Ryozuki> ipv4 gg
17:50 <+bridge> [ddnet] <Ryozuki> > We have tried hard to avoid passing on these higher prices to our customers, and have acceped the economic loss until now. However, the prices have increased so dramatically that we can no longer do this. We unfortunately must increase our prices.
17:51 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/869970294738149476/unknown.png
17:52 <+bridge> [ddnet] <Learath2> 152€ setup fee, damn
17:52 <+bridge> [ddnet] <Ryozuki> and my isp still has no ipv6 support
17:53 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/869970750382153732/unknown.png
17:55 <+bridge> [ddnet] <Ryozuki> im sure this can increase to 80% with major isps getting it
17:55 <+bridge> [ddnet] <Ryozuki> since in most countries nearly everyone uses 2-3 isps
17:55 <+bridge> [ddnet] <Ryozuki> different*
20:09 <+bridge> [ddnet] <lynn> chillerdragon: this is the most cursed shit i have seen
20:09 <+bridge> [ddnet] <lynn> and it'
20:09 <+bridge> [ddnet] <lynn> it's not even monospace
20:10 <+bridge> [ddnet] <lynn> can the bridge handle edits and replies yet?
20:10 <+bridge> [ddnet] <lynn> or is that not a thing
20:10 <+bridge> [ddnet] <lynn> i think xfinity has had it for a while, so my ipv4 is kinda generated on a need basis
20:10 <+bridge> [ddnet] <lynn> or calculated somehow, i really cant remember how it works
23:48 <+bridge> [ddnet] <chillerdragon> I can reply, edit and see your edits but I can sadly not see your replys \:(
23:48 <+bridge> [ddnet] <chillerdragon> (@lynn)
23:59 <+bridge> [ddnet] <lynn> ohh okay thx
