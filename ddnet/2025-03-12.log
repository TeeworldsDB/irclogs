00:00 < bridge> <nameless_me> oh alr, mb
00:00 < bridge> <nameless_me> 
00:00 < bridge> <nameless_me> my issuse was that when I compiled F-DDrace and or when I download the precompiled version, It wouldn't run because it was missing that file I highlighted, to fix this I copyed libwinpthread-1.dll from my ddrace folder, so I guess I fixed it, but i'm confused when It didn't show up, or is that comman knowlage that i'm supposed to copy it (first time compiling)
00:00 < bridge> <nameless_me> https://cdn.discordapp.com/attachments/293493549758939136/1349154962868928605/C13123apture.PNG?ex=67d211f9&is=67d0c079&hm=36431190997c3574a86a5a6ab3bdda1de775fd1f9d0544ffa937c2ed978801c9&
00:00 < bridge> <nameless_me> https://cdn.discordapp.com/attachments/293493549758939136/1349154963288231986/Capt123123ure.PNG?ex=67d211f9&is=67d0c079&hm=4ce22e285c89f6d4379cb9a338423807826e542071b5cea87bd4a7bdaf24790b&
00:02 < ws-client3> <ChillerDragon> not sure if the windows releases work i recommend only going from source
00:02 < ws-client3> <ChillerDragon> can you compile vanilla teeworlds without issues and run it? if not start there maybe
00:02 < ws-client3> <ChillerDragon> @nameless_me 
00:03 < ws-client3> <ChillerDragon> you shouldnt have to copy anything but tbh i never compiled fddrace on windows so i do not know for sure but i would be suprised if it doesnt just work when compiled from source it really should
00:05 < bridge> <nameless_me> yeah, I cloned the github so it should be source, i'll try compiling something else and see if that works
00:13 < bridge> <nameless_me> yes, I was able to compile ddnet just fine, so I might just be F-DDrace
00:42 < ws-client3> <ChillerDragon> not ddnet
00:42 < ws-client3> <ChillerDragon> try teeworlds
00:42 < ws-client3> <ChillerDragon> @nameless_me 
00:43 < ws-client3> <ChillerDragon> wait not sure if teeworlds servers even have threads. But fokko also uses windows and vs the setup should really be smooth. But yea whatever who cares just copy paste the dll if it works haha. If you really need to know ask fokko
01:00 < bridge> <fokkonaut> Yea, i don't know why that is. probably some compiler option stuff
02:21 < bridge> <liber_0> What u think about dummy direction (cl_dummy_left or right). I code this and thin PR in ddnet client. Say u opinion about this.
02:24 < bridge> <kebscs> <https://github.com/ddnet/ddnet/pull/8275#pullrequestreview-2026674065>
02:35 < bridge> <liber_0> Hmm
02:39 < bridge> <liber_0> Anyone i need opinion more count ppl
02:39 < bridge> <liber_0> Maybe i create issue on Github
02:39 < bridge> <Ewan> No
02:39 < bridge> <Ewan> the admins' & devs' stances are clear in that the dummy is already OP
02:40 < bridge> <Ewan> adding movement binds to it would make it possible to automate movements which is textbook botting
02:40 < bridge> <Ewan> adding movement binds to it would make it possible to automate movements in parallel which is textbook botting
02:40 < bridge> <liber_0> I made it
02:40 < bridge> <Ewan> adding movement binds to it would make it possible to automate movements in parallel which is textbook cheating
02:40 < bridge> <liber_0> This not comfort
02:41 < bridge> <Ewan> they're not obligated to accept any contribution
02:41 < bridge> <Ewan> be careful playing with that feature on ddnet servers. some mods would definitely consider it cheating
02:42 < bridge> <liber_0> I don't
02:42 < bridge> <Ewan> you couldnt really automate it anyway but it's just more surface area for things like that
02:42 < bridge> <Ewan> further thins the line between what's allowed and what's not etc
02:42 < bridge> <liber_0> I use cfg but have clkent for it
02:42 < bridge> <Ewan> sounds cool can i see it ingame
02:43 < bridge> <liber_0> Yes but not now
02:45 < bridge> <liber_0> My goal is to stop these disputes between moderators and dummy players. For this I will try to PR these functions in the official client
02:45 < bridge> <Solly (dum dum)> the moderators and admins and those with write access all dont want more dummy features, i dont think youll get very afr
02:45 < bridge> <Solly (dum dum)> the moderators and admins and those with write access all dont want more dummy features, i dont think youll get very far
02:46 < bridge> <Solly (dum dum)> its not really much of a dispute, its already been set in stone
02:50 < bridge> <liber_0> And we have dummy_control
02:51 < bridge> <liber_0> Not dummy player don't know how use it
02:52 < bridge> <liber_0> He needn't it and use not this
02:52 < bridge> <liber_0> I think dummy direction also use not not dummy player
02:52 < bridge> <Solly (dum dum)> in 2018
02:52 < bridge> <liber_0> Ant this shit for use
02:53 < bridge> <liber_0> I can't use this on ddnet client
02:53 < bridge> <liber_0> I play not on piano
02:53 < bridge> <liber_0> I can this use only if i have bindwheel
02:54 < bridge> <Solly (dum dum)> use tclient, or modifiers or chords
02:54 < bridge> <Solly (dum dum)> a keyboard has mor ekeys than a piano btw
02:55 < bridge> <liber_0> Use tclient for use defolt function in ddnet client
02:55 < bridge> <liber_0> Wow
02:55 < bridge> <Solly (dum dum)> or modifiers
02:55 < bridge> <liber_0> I have 100% keyboard
02:55 < bridge> <Solly (dum dum)> good for you
02:56 < bridge> <Solly (dum dum)> bindwheel just is a more user friendly way to bind lots of things
02:56 < bridge> <Solly (dum dum)> the same is possible in ddnet
02:57 < bridge> <liber_0> No way bindwheel cheat bcz give advantages
02:57 < bridge> <Solly (dum dum)> not sure if youve read this
02:59 < bridge> <liber_0> No way dummy direction more friendly too
02:59 < bridge> <liber_0> And we cat repeat it in ddnet client
03:00 < bridge> <liber_0> And we can repeat it in ddnet client
04:05 < bridge> <Solly (dum dum)> you have to press left or right on the main to have it play on the dummy
04:05 < bridge> <Solly (dum dum)> having full independent control is op
04:25 < bridge> <liber_0> No
04:26 < bridge> <liber_0> I can it with def client
06:20 < bridge> <Ewan> lol now that u are just piss mad ofc u aren't gonna get it in
07:06 < bridge> <milkeeycat> morning postgres enjoyers and others
07:15 < bridge> <Ewan> gm
07:15 < bridge> <Ewan> gn
07:40 < bridge> <Solly (dum dum)> oh dear my sleep schedule
07:41 < bridge> <Solly (dum dum)> *our* sleep schedule 🟥
07:57 < bridge> <teero777> gm
08:00 < bridge> <Solly (dum dum)> good mmmmmnight
08:07 < bridge> <jxsl13> https://tenor.com/view/meme-our-now-gif-21036569
08:10 < bridge> <Solly (dum dum)> yes
08:22 < bridge> <ryozuki> morrning
08:25 < bridge> <ryozuki> https://github.com/mfontanini/presenterm
08:33 < bridge> <zhn> play with default client then
08:36 < bridge> <zhn> this is the reason why nofis client considered cheat client, i don't see any possibility of going thru ddnet review for it to be legit
08:41 < bridge> <Jupstar ✪> To restore the bad reputation of tokio being big in size, these are my current results:
08:41 < bridge> <Jupstar ✪> ```
08:41 < bridge> <Jupstar ✪> File  .text     Size Crate
08:41 < bridge> <Jupstar ✪>  7.2%  22.5%  14.5MiB [Unknown]
08:41 < bridge> <Jupstar ✪>  3.0%   9.3%   6.0MiB std
08:41 < bridge> <Jupstar ✪>  1.7%   5.3%   3.4MiB client_ui
08:41 < bridge> <Jupstar ✪>  1.6%   5.1%   3.3MiB editor
08:41 < bridge> <Jupstar ✪>  1.2%   3.9%   2.5MiB cranelift_codegen
08:41 < bridge> <Jupstar ✪>  1.2%   3.9%   2.5MiB ffmpeg_sys_next
08:41 < bridge> <Jupstar ✪>  1.0%   3.1%   2.0MiB game_server
08:41 < bridge> <Jupstar ✪>  0.9%   2.7%   1.8MiB client_containers
08:41 < bridge> <Jupstar ✪>  0.8%   2.5%   1.6MiB naga
08:41 < bridge> <Jupstar ✪>  0.8%   2.4%   1.5MiB wasmparser
08:41 < bridge> <Jupstar ✪>  0.4%   1.4% 930.2KiB graphics_backend
08:41 < bridge> <Jupstar ✪>  0.4%   1.3% 883.4KiB vanilla
08:41 < bridge> <Jupstar ✪>  0.4%   1.3% 858.2KiB game_config
08:41 < bridge> <Jupstar ✪>  0.4%   1.1% 743.7KiB egui
08:41 < bridge> <Jupstar ✪>  0.3%   1.0% 670.4KiB winit
08:41 < bridge> <Jupstar ✪>  0.3%   0.9% 606.8KiB client_render_base
08:41 < bridge> <Jupstar ✪>  0.3%   0.9% 586.7KiB client_render_game
08:41 < bridge> <Jupstar ✪>  0.3%   0.8% 533.6KiB rustls
08:41 < bridge> <Jupstar ✪>  0.2%   0.8% 515.6KiB game_state_wasm
08:42 < bridge> <Jupstar ✪>  0.2%   0.7% 454.7KiB quinn_proto
08:42 < bridge> <Jupstar ✪>  0.2%   0.6% 389.1KiB reqwest
08:42 < bridge> <Jupstar ✪>  0.2%   0.6% 364.7KiB client_demo
08:42 < bridge> <Jupstar ✪>  0.2%   0.5% 359.6KiB config
08:42 < bridge> <Jupstar ✪>  0.2%   0.5% 346.9KiB game_base
08:42 < bridge> <Jupstar ✪>  0.2%   0.5% 346.5KiB game_database_backend
08:42 < bridge> <Jupstar ✪>  0.2%   0.5% 344.8KiB regex_automata
08:42 < bridge> <Jupstar ✪>  0.2%   0.5% 341.5KiB client_accounts
08:42 < bridge> <Jupstar ✪>  0.2%   0.5% 325.1KiB naga_oil
08:49 < bridge> <ryozuki> https://blog.llvm.org/posts/2025-03-11-flang-new/
08:51 < bridge> <teero777> Why does my gh mobile app sometimes open when I click gh links and sometimes not
08:51 < bridge> <teero777> This is very annoying
08:52 < bridge> <Solly (dum dum)> i agree
09:12 < bridge> <meloƞ> I agree
09:12 < bridge> <Solly (dum dum)> i wish they woudl just make the website better
09:12 < bridge> <Solly (dum dum)> on mobile
09:13 < bridge> <Solly (dum dum)> theres no reason to have an app apart from...
09:13 < bridge> <Solly (dum dum)> uhmm
09:13 < bridge> <Solly (dum dum)> well yeah
09:46 < bridge> <patiga> @jupeyy_keks would you *rather* have the wgpu backend in c++ or Rust?
09:48 < bridge> <Jupstar ✪> you can have it in c++? 😮
09:48 < bridge> <patiga> yea ^^
09:48 < bridge> <patiga> https://github.com/gfx-rs/wgpu-native
09:48 < bridge> <Jupstar ✪> nowadays rust is my main lang, so i prefer that ig. but if you think cpp is easier, use that.
09:48 < bridge> <Jupstar ✪> 
09:48 < bridge> <Jupstar ✪> having it is more important than the language ig
09:49 < bridge> <oxyzo.> i was gonna say something but i forgot:greenthing:
09:51 < bridge> <patiga> I estimate that Rust is easier for me, though ofc I don't know yet how difficult cxx will be to work with
09:51 < bridge> <patiga> (maintaining it will probs also be easier)
09:51 < bridge> <patiga> alright, I'll try out Rust
11:13 < bridge> <daniel05391> всім пр
11:13 < bridge> <daniel05391> парні
11:14 < bridge> <Jupstar ✪> $deepl
11:14 < bridge> <DDNet> Hi! Most of us communicate in English. If you’re having trouble with English, use <https://www.deepl.com/en/translator> to help you out.
11:21 < bridge> <avolicious> https://www.reddit.com/r/typescript/comments/1j8s467/comment/mh7ni9g/ - Microsoft will never run or develop safe code
11:21 < bridge> <avolicious> 
11:21 < bridge> <avolicious> A few minutes ago I had a discussion at the coffee-bar & someone mentioned that the rust community is super toxic, thats why the pre-released a statement before questions pop up.
11:21 < bridge> <avolicious> 
11:21 < bridge> <avolicious> So @ryozuki, the ddnet rust ambassador, whats your stance on this one? 😄
11:21 < bridge> <avolicious> Is Ferris, the crab, really this toxic? 😐
11:23 < bridge> <Jupstar ✪> Who cares about typescript if they can rust in the browser
11:24 < bridge> <ryozuki> "Microsoft will never run or develop safe code" wdytm
11:24 < bridge> <ryozuki> did they say that
11:24 < bridge> <ryozuki> i mean the first comment makes sense
11:24 < bridge> <ryozuki> its easier to port from a garbage lang to another
11:24 < bridge> <ryozuki> garbage collected*
11:24 < bridge> <ryozuki> (correction made on purpose kek)
11:24 < bridge> <Jupstar ✪> xDDDD
11:24 < bridge> <meloƞ> xDDD lmao
11:24 < bridge> <Jupstar ✪> Freudian slip
11:24 < bridge> <meloƞ> i mean Ryan isnt wrong
11:24 < bridge> <meloƞ> rewriting in rust would be a shitshow instead of just sprinking in some go
11:25 < bridge> <meloƞ> rust is for gigachads only after all
11:25 < bridge> <Jupstar ✪> but i assume go is safe too anyway isnt it?
11:26 < bridge> <avolicious> elaborate safe in this case
11:26 < bridge> <Jupstar ✪> same as rust, memory safe
11:26 < bridge> <ryozuki> the compiler is probs made with design decisions that abuse cyclic references
11:26 < bridge> <ryozuki> in rust u simply wouldnt start that way
11:26 < bridge> <ryozuki> it makes sense
11:27 < bridge> <ryozuki> altho using arenas in rust makes it possible and easier
11:27 < bridge> <ryozuki> its what i use
11:27 < bridge> <ryozuki> but i guess arenas are a kind of gc xd
11:27 < bridge> <ryozuki> probs way more optimized tho
11:28 < bridge> <ryozuki> go isnt safe u can get segfaults ez
11:28 < bridge> <Jupstar ✪> not being forced to use a garbage collector while still being safe is what makes it special ig
11:28 < bridge> <ryozuki> ```go
11:28 < bridge> <ryozuki> var ptr *int
11:28 < bridge> <ryozuki> _ = *ptr
11:28 < bridge> <ryozuki> ```
11:28 < bridge> <ryozuki> segfault
11:28 < bridge> <Jupstar ✪> mh ok
11:28 < bridge> <avolicious> But you can recover
11:29 < bridge> <avolicious> https://pkg.go.dev/runtime/debug#SetPanicOnFault
11:29 < bridge> <ryozuki> imho even if u can recover i think a segfault is ub
11:29 < bridge> <Jupstar ✪> the important thing to me is if it allows code execution
11:29 < bridge> <ryozuki> regarding buffers
11:30 < bridge> <ryozuki> > 
11:30 < bridge> <ryozuki> > 
11:30 < bridge> <ryozuki> > Go checks for bounds in strings, arrays and slices so it is not vulnerable as long as you are not playing around with unsafe package.
11:33 < bridge> <Jupstar ✪> Mh goland has exploitable data races apparently
11:34 < bridge> <Jupstar ✪> https://tenor.com/view/noita-homunculus-trash-alchemy-jank-gif-1572844727605224347
11:34 < bridge> <Jupstar ✪> @learath2 I want your statement 😬 
11:34 < bridge> <Jupstar ✪> You are go expert
11:38 < bridge> <avolicious> I still prefer rust microservices over go microservices 😄
11:40 < bridge> <Jupstar ✪> Yesterday I learned you can cast an array to an object in php.
11:40 < bridge> <Jupstar ✪> 
11:40 < bridge> <Jupstar ✪> So whatever service it is, just not in php anymore 😬
11:40 < bridge> <avolicious> Has to be a newer PHP
11:40 < bridge> <avolicious> what version?
11:41 < bridge> <Jupstar ✪> I have no idea, i used LLM to fix a bug and after 2 tries of saying it doesn't work, it came up with that version and it worked
11:42 < bridge> <Jupstar ✪> https://github.com/ddnet/ddnet-web/pull/319/files
11:42 < bridge> <Jupstar ✪> 
11:42 < bridge> <Jupstar ✪> My prompt was smth like:
11:42 < bridge> <Jupstar ✪> "Please fix this unreadable trash"
11:42 < bridge> <Jupstar ✪> A _pure_ array version did not work, so it added a (object) and it worked
11:43 < bridge> <avolicious> Haha, yeah typical PHP experience
11:45 < bridge> <avolicious> In the early days I was looking into hacklang (https://hacklang.org/), but
11:45 < bridge> <avolicious> 
11:45 < bridge> <avolicious> > Hack is an object-oriented programming language for **building reliable websites at epic scale**
11:45 < bridge> <avolicious> I dont want epic scale, sounds expensive
11:54 < bridge> <totar> parts of Windows 11 are written in rust, they are already "run or develop safe code"
12:03 < bridge> <forgottenabscat> Does a feature like auto F4 instantly when someone tries vote change map illegal?
12:03 < bridge> <Jupstar ✪> Automated input is basically always illegal
12:03 < bridge> <Jupstar ✪> dummy being maybe the only exception
12:03 < bridge> <forgottenabscat> :justatest:
12:04 < bridge> <totar> it's in tclient xd
12:05 < bridge> <Jupstar ✪> :banhammer:
12:06 < bridge> <totar> the justifcations are pretty good imo
12:06 < bridge> <cutetabby> how often does ddnet.org/status update?
12:07 < bridge> <totar> https://cdn.discordapp.com/attachments/293493549758939136/1349337921202946148/image.png?ex=67d2bc5d&is=67d16add&hm=1928a781b6a0eca60a6f24f370a42e3e26e86c4499b39533c3a9975cc3cd882a&
12:08 < bridge> <Jupstar ✪> I dunno every 2 seconds
12:08 < bridge> <Jupstar ✪> just count in your head xD
12:08 < bridge> <Jupstar ✪> Or do you mean the server list?
12:10 < bridge> <cutetabby> the server list!
12:10 < bridge> <TsPiggy> every time you refresh the page i think?
12:29 < furo> It's updated every 30 seconds, according to this https://github.com/ddnet/ddnet-scripts/blob/master/crontab
12:32 < bridge> <chillerdragon> Yo @avolicious am I no longer in the kog clan?
12:36 < bridge> <pro_gaming1921> tater have you updated your client to the new ddnet update?
12:37 < bridge> <learath2> It's correct. Golang does not have fearless concurrency. It is slightly better than C though since it heavily encourages you to use its channels, which make it safe
12:37 < bridge> <Jupstar ✪> They have a discord
12:37 < bridge> <avolicious> idk, i dont manage the clan
12:37 < bridge> <Jupstar ✪> Just ask there, or see announcements
12:38 < bridge> <avolicious> What about Zig? 😄
12:38 < bridge> <totar> New update is buggy
12:38 < bridge> <learath2> Zig is a footgun just like C. Do not use if you are not willing to pay attention to what you are doing
12:38 < bridge> <ryozuki> WIP https://github.com/edg-l/irvm
12:39 < bridge> <pro_gaming1921> aah alright :D
12:39 < bridge> <ryozuki> also zig has weird design decisions like forcing u to not have unused variables (compiler error)
12:39 < bridge> <ryozuki> which makes prototyping a pain
12:39 < bridge> <learath2> You only get some bounds checking and some opt-in auto memory management
12:41 < bridge> <pro_gaming1921> leranth when does the mod recruitment end?
12:41 < bridge> <learath2> This is something I hate so much. Go has a tangentially related issue of not letting you have unused imports. So commenting out some code while testing requires going all the way up to comment the import
12:42 < bridge> <learath2> We usually allow people 3 weeks, lock new submissions give it 1 week for everyone to comment on anyone late
12:43 < bridge> <totar> Do they still enforce alphabetical ordered imports?
12:43 < bridge> <learath2> Then another 1-2 weeks where we internally review all the comments, the internal comments, the feedback in dms, and make decisions
12:44 < bridge> <pro_gaming1921> okay thanks for the info^^
12:44 < bridge> <learath2> Go? I don't think so. If they did must be an old version of Go before I ever used it
12:44 < bridge> <pro_gaming1921> you know how many you guys wanna let in?
12:47 < bridge> <avolicious> They auto sort it tho 😄
12:48 < bridge> <totar> When I tried a long time ago it would refuse to compile and you needed some IDE tool
13:01 < bridge> <meloƞ> that sounds like you tried it multiple years ago :o - i wrote and compiled my launcher using go in vim
13:09 < bridge> <meloƞ> note to self, `:TSInstall all` is heavy
13:12 < bridge> <hectavoxel> red team heavy or blue team heavy?
13:16 < bridge> <jxsl13> ctrl+s 😄
13:17 < bridge> <meloƞ> wouldnt this just remove unused imports?
13:19 < ws-client3> <ChillerDragon> @zwelf did that ping work?
13:20 < ws-client3> <ChillerDragon> ``CDbConnectionPool::Execute()`` seems to just index m_aQueries without boundary check other than overflowing to zero
13:21 < ws-client3> <ChillerDragon> it has a fixed size of 512 https://github.com/ddnet/ddnet/blob/ffebb8e91fb997c44d0f08d8354fdfc83be12bfb/src/engine/server/databases/connection_pool.h#L125
13:21 < ws-client3> <ChillerDragon> https://github.com/ddnet/ddnet/blob/ffebb8e91fb997c44d0f08d8354fdfc83be12bfb/src/engine/server/databases/connection_pool.cpp#L142-L150
13:21 < ws-client3> <ChillerDragon> so does this code depend on the queue size never reaching 512?
13:22 < ws-client3> <ChillerDragon> lets say the database server is slow and a bunch (all 128 player) spam a long running rank command. Will it overwrite running results in the m_aQueries?
13:26 < bridge> <inv41idu53rn4m3> yeah this sucks so bad, it should be a friendly warning instead
13:28 < bridge> <Zwelf> not really, but did ping me on matrix
13:29 < ws-client3> <ChillerDragon> @Zwelf did this ping?
13:29 < ws-client3> <ChillerDragon> and any comment on my query limit concerns?
13:30 < bridge> <milkeeycat> @zwelf2 ^
13:30 < ws-client3> <ChillerDragon> @zwelf2 a
13:31 < ws-client3> <ChillerDragon> i need to somewhere register a db of these ping names
13:31 < ws-client3> <ChillerDragon> my last ping worked right?
13:33 < bridge> <meloƞ> https://tenor.com/view/green-mile-im-tired-boss-michael-clarke-duncan-gif-2375696290766999196
13:55 < bridge> <milkeeycat> chillerdragon: yea
14:53 < bridge> <ryozuki> fixed
15:16 < bridge> <Jupstar ✪> @patiga btw here a tool for you:
15:16 < bridge> <Jupstar ✪> `cargo install cargo-bloat`
15:16 < bridge> <Jupstar ✪> https://github.com/RazrFalcon/cargo-bloat
15:16 < bridge> <Jupstar ✪> 
15:16 < bridge> <Jupstar ✪> `cargo bloat --release -p twgpu-tools --crates -n 50`
15:16 < bridge> <Jupstar ✪> 
15:16 < bridge> <Jupstar ✪> Then you can see that the biggest dep is naga actually (kinda surprising too). But matches around the size in my repo (https://discord.com/channels/252358080522747904/293493549758939136/1349286150061293582)
15:23 < bridge> <hectavoxel> bloat LOL
15:39 < bridge> <kollpotato> wtf i just witnessed ryozuki join and leave
15:39 < bridge> <kollpotato> never seen him in game
15:46 < bridge> <meloƞ> youngling
15:47 < bridge> <meloƞ> he was giga active a few years ago
15:47 < bridge> <Jupstar ✪> I remember I was on his LAN server once
15:49 < bridge> <kollpotato> now hes a full time rust influencer
15:55 < bridge> <ryozuki> i play sometimes
15:59 < bridge> <milkeeycat> help me to finish naufrage 4 :santatrollet:
16:06 < ws-client3> <ChillerDragon> anyone has some opinions on unique client ids?
16:06 < ws-client3> <ChillerDragon> as of right now holding onto a clientid is a bit if a dangerous operation
16:07 < ws-client3> <ChillerDragon> the player might disconnect then using the client id as player index gives you a nullptr
16:07 < ws-client3> <ChillerDragon> but it gets worse once a different player rejoins! then you dont get a nullptr but the wrong player
16:07 < ws-client3> <ChillerDragon> and not all clientids can be invalidated on player disconnect. Especially those in a sql worker thread
16:12 < bridge> <inv41idu53rn4m3> should it be unique to a connection or should you keep the same ID when someone uses timeout protection?
16:12 < ws-client3> <ChillerDragon> on the network level the old id system stays
16:12 < ws-client3> <ChillerDragon> but there would be a new client id system mapped to it only on the server side
16:13 < bridge> <inv41idu53rn4m3> unique IDs are generally a good idea from what I know of game development but I don't know the specifics for this game well enough to really have a good idea
16:13 < ws-client3> <ChillerDragon> making sure no client id is ever reused for different players. This way you can safely pass around these unique client ids and if they still point to a valid player it is the player you want and not someone other player that reclaimed the id
16:14 < bridge> <hectavoxel> speaking of ids
16:14 < bridge> <hectavoxel> how useful would adding UUIDs be to map layers? only useful feature i could think of is having layers be linked to other layers, and having it stay consistent even if you rearrange
16:14 < ws-client3> <ChillerDragon> i mean as of right now it all works out
16:14 < ws-client3> <ChillerDragon> well i mean almost works out xd
16:15 < ws-client3> <ChillerDragon> i am sure stuff goes to shit once you turn the config destroy bullets on disconnect off. Because projectiles often only store the client id of the person who fired it to check things such as team mask and so on. And I am not sure if these ids get invalidated on disconnect
16:16 < ws-client3> <ChillerDragon> either way that would not be fixed by unique ids
16:16 < bridge> <meloƞ> Me when I see someone blocking, type ban 1 10 go playground in console, dude ragequits and because it's multeasymap a random person gets banned :kekw:
16:16 < ws-client3> <ChillerDragon> oh yea for rcon it could be useful too!
16:16 < ws-client3> <ChillerDragon> but on a 28d running multeasymap server you then have to type ``ban 98129 10``
16:17 < ws-client3> <ChillerDragon> i think its worth a discussion issue
17:00 < bridge> <kebscs> isnt unique id basically current timeout code?
17:01 < ws-client3> <ChillerDragon> do all players have a timeout code?
17:01 < ws-client3> <ChillerDragon> also a id would be a bit more light weight because it fits into one integer
17:02 < ws-client3> <ChillerDragon> also timeout codes are not guranteed to not be reused
17:02 < ws-client3> <ChillerDragon> and ids are easier to type in rcon
17:10 < bridge> <kebscs> makes sense
17:10 < bridge> <kebscs> but the server will store unique ids indefinetly until map change?
17:11 < bridge> <kebscs> or how would that work
17:19 < bridge> <kebscs> what about banning by name that would just resolve to client id if player is found?
17:19 < bridge> <robyt3> You shouldn't need any additional UUIDs in the map format, that's just an issue of ensuring that layer indices are updated correctly when layers are changed
17:20 < bridge> <robyt3> You shouldn't need any additional UUIDs for map layers in the map format, that's just an issue of ensuring that layer indices are updated correctly when layers are changed
17:29 < ws-client3> <ChillerDragon> @kebscs yes incrementing them until map change or shutdown is the idea
17:30 < bridge> <Jupstar ✪> chiller zwelf uses a slot map.
17:30 < bridge> <Jupstar ✪> 
17:30 < bridge> <Jupstar ✪> kinda the ids are still like now, but every id additionally has a version which is incrementing.
17:30 < bridge> <Jupstar ✪> 
17:30 < bridge> <Jupstar ✪> that way u can have the same array access as now, but make sure ids are unique
17:30 < ws-client3> <ChillerDragon> @kebscs yea referring to name in rcon is another proposal which already exists. But i would say its harder to implement with correct auto completion and word splitting and so on. Also not sure how many fans the feature right now has would have to check the issue
17:30 < bridge> <Jupstar ✪> ddnet-rs just uses unique u64 counter and doesnt care xd
17:31 < ws-client3> <ChillerDragon> what do you mean by slot map
17:31 < ws-client3> <ChillerDragon> can you show me the slot map code? i have no idea what you are referring to by saying slot map. Used where? used for what
17:32 < ws-client3> <ChillerDragon> yea i like the idea of a unique u64 counter
17:32 < ws-client3> <ChillerDragon> thats what i proposed
17:33 < bridge> <Jupstar ✪> used in twgame
17:33 < ws-client3> <ChillerDragon> by "slot maps" do you refer to the max concurrent pool queries question i asked earlier or to the unique client ids i just proposed now?
17:33 < bridge> <Jupstar ✪> but i don't know much more than you
17:34 < ws-client3> <ChillerDragon> ah ok you talk about client ids i see
17:34 < bridge> <Jupstar ✪> https://gitlab.com/ddnet-rs/twgame/-/blob/9bfe9d6f12dd6d796bc5f1685aff3dc59f8f9ebd/twgame/src/ids.rs
17:34 < bridge> <Jupstar ✪> i mean that then is a unique id
17:34 < bridge> <Jupstar ✪> what other kind of unique id do you want?
17:34 < bridge> <Jupstar ✪> does the client need to know?
17:35 < ws-client3> <ChillerDragon> if it is used for rcon the client has to know for moderators
17:35 < ws-client3> <ChillerDragon> i just want a simple number that increments but does not get reused for different players
17:36 < bridge> <Jupstar ✪> i mean u can do that for your mod
17:36 < bridge> <Jupstar ✪> what is holding you back
17:36 < ws-client3> <ChillerDragon> not ddnet
17:36 < ws-client3> <ChillerDragon> but i thought it could be cool in ddnet too thats why i opened the issue
17:37 < ws-client3> <ChillerDragon> i might do it in my mod but i am not sure yet if its the best solution
17:37 < bridge> <learath2> one nice thing about unique ids is that it prevents accidental bans, we have had issues with people using rcon sniping the wrong person
17:37 < ws-client3> <ChillerDragon> the rcon thing i can not do in my mod because it depends on client updates but that seems a bigger effort anyways not sure if i am ready for that
17:37 < ws-client3> <ChillerDragon> ye
17:38 < ws-client3> <ChillerDragon> @learath2 but it requires client update
17:38 < bridge> <learath2> Does it really? We could keep the old "slot ids" and introduce a new unique id to be used for everything else
17:38 < bridge> <Jupstar ✪> the best is that whisper can be done client side 😬
17:38 < bridge> <learath2> it would solve the rcon issue, is there another issue that you wanted to solve with unique ids?
17:39 < bridge> <fushi_gg> an easy way to prevent that is the server asking if you are sure and listing the players name
17:39 < bridge> <learath2> Yeah that's another way to do it, one more would be to allow bans by name instead of id and adding name completion into the console
17:39 < ws-client3> <ChillerDragon> @learath2 well some moderators use the ids shown in game like scoreboard, chat and nameplates for moderating not everyone uses ``status``
17:40 < bridge> <fushi_gg> that would be a cool addition
17:40 < ws-client3> <ChillerDragon> the old flow would be highly misleading if these ids are wrong
17:40 < ws-client3> <ChillerDragon> @learath2 the other issue is storing client ids in variables without having to worry about the player disconnecting
17:41 < ws-client3> <ChillerDragon> @learath2 for example holding onto a client id when a sql worker thread starts to be able to know if the player is still connected when the thread finished
17:45 < bridge> <Jupstar ✪> smth like this?
17:45 < bridge> <Jupstar ✪> https://cdn.discordapp.com/attachments/293493549758939136/1349423070070181928/image.png?ex=67d30baa&is=67d1ba2a&hm=5324fc58ed8572b4c2a1ef79ac8aac2957e40291973d30657f1b2425b9ff2f28&
17:45 < bridge> <Jupstar ✪> above is the suggestion
17:46 < bridge> <learath2> This could still be isolated into the server
17:46 < bridge> <kebscs> :poggers2:
17:47 < bridge> <fushi_gg> with skin even 👌
17:48 < bridge> <ryozuki> isnt that a generational arena
17:49 < bridge> <ryozuki> oh also called slotmap
17:49 < bridge> <ryozuki> > 
17:49 < bridge> <ryozuki> >     Each element of the array has a generation.
17:49 < bridge> <ryozuki> >     Each element is accessed through an index object (which "points to" an element using an index into the array).
17:49 < bridge> <ryozuki> >     The index object also contains a generation.
17:49 < bridge> <ryozuki> >     When an element is added to the array it copies the generation of the element to the index object.
17:49 < bridge> <ryozuki> >     Each time an element is fetched from the list the generation of the index object and the element in the list are compared; only if they match is the list element returned.
17:49 < bridge> <ryozuki> >     Whenever an element in the array is "deleted" the generation of that index element is increased. (Effectively invalidating all index objects pointing to the old array element).
17:49 < bridge> <ryozuki> shouldnt be hard to code ^tm
17:52 < bridge> <learath2> With the indirection there, I'm curious as to what the benefit of this is, perhaps it plays well with pipelining and the generation fetch and compare can happen while the object itself is being fetched
17:54 < bridge> <learath2> Oh I guess there'd be no indirection really, that would make it more sensible I guess
17:54 < bridge> <ryozuki> i think this solves https://en.wikipedia.org/wiki/ABA_problem
17:54 < bridge> <ryozuki> i love this crate https://docs.rs/typed-generational-arena/latest/typed_generational_arena/
17:54 < bridge> <ryozuki> @learath2 this idea of generational index is used a lot for ECS in games
17:54 < bridge> <nameless_me> so I started to follow along chillerdragons coding and compiling tutorals, and I'm getting better, but i'm a bit confused about what tools I should use, I'm on window, should I use Visual Studio? VS code? I can compile F-DDrace pretty well using Visual Studio and using a VS-Code spin off, but I tryed to complie defult teeworlds just now using my VS-Code Spin off, and it got stuck, as it, all of the files where missplaced what I did was
17:54 < bridge> <nameless_me> 
17:54 < bridge> <nameless_me> git clone --recursive https://github.com/teeworlds/teeworlds
17:54 < bridge> <nameless_me> cd .\teeworlds\
17:54 < bridge> <nameless_me> mkdir build
17:54 < bridge> <nameless_me> cmake -B build -S .
17:54 < bridge> <nameless_me> cmake --build build
17:54 < bridge> <nameless_me> 
17:55 < bridge> <nameless_me> after this, the compling went through, but i'm left with the files out of order and no images or data paths, and it doesn't lunch
17:55 < bridge> <nameless_me> 
17:55 < bridge> <nameless_me> I'm sure i'm doing some step wrong, mabye I use Visual Studio? or I don't make a build directory, I also don't think its a big issue, but if anyone knows a simple mistake a made, I'd aprechated it
17:55 < bridge> <nameless_me> https://cdn.discordapp.com/attachments/293493549758939136/1349425420868517888/2025-03-12_12-51-37.mp4?ex=67d30ddb&is=67d1bc5b&hm=a55417ffc237f13920f89676615bdb97e416860e2e86b3d1d3853fad00b7aee3&
17:55 < bridge> <nameless_me> so I started to follow along chillerdragons coding and compiling tutorals, and I'm getting better, but i'm a bit confused about what tools I should use, I'm on window, should I use Visual Studio? VS code? I can compile F-DDrace pretty well using Visual Studio and using a VS-Code spin off, but I tryed to complie defult teeworlds just now using my VS-Code Spin off, and it got stuck, as it, all of the files where missplaced what I did was
17:55 < bridge> <nameless_me> 
17:55 < bridge> <nameless_me> git clone --recursive https://github.com/teeworlds/teeworlds
17:55 < bridge> <nameless_me> cd .\teeworlds\
17:55 < bridge> <nameless_me> mkdir build
17:55 < bridge> <nameless_me> cmake -B build -S .
17:55 < bridge> <nameless_me> cmake --build build
17:55 < bridge> <nameless_me> 
17:55 < bridge> <nameless_me> after this, the compling went through, but i'm left with the files out of order and no images or data paths, and it doesn't lunch
17:55 < bridge> <nameless_me> 
17:55 < bridge> <nameless_me> I'm sure i'm doing some step wrong, mabye I use Visual Studio? or I don't make a build directory, I also don't think its a big issue, but if anyone knows a simple mistake I made, I'd aprechated it
17:55 < bridge> <nameless_me> https://cdn.discordapp.com/attachments/293493549758939136/1349425420868517888/2025-03-12_12-51-37.mp4?ex=67d30ddb&is=67d1bc5b&hm=a55417ffc237f13920f89676615bdb97e416860e2e86b3d1d3853fad00b7aee3&
17:57 < ws-client3> <ChillerDragon> @learath2 yes it could and fokko has been doing that in fddrace for years. The client ids in game would be wrong so for rcon commands you had to use ``status``
17:57 < ws-client3> <ChillerDragon> but breaking client ids in the hud for all ddrace moderators seems a bit intense dont you think @learath2 ?
17:59 < bridge> <learath2> well it's easier to start sending the new id inside a new field of ddnet player than it is to somehow completely revamp all the code that depends on there being `MAX_CLIENT` slots
17:59 < ws-client3> <ChillerDragon> yes it for sure can be done
17:59 < ws-client3> <ChillerDragon> but i am saying it should be done in client and server if it is used for rcon
18:00 < ws-client3> <ChillerDragon> all ids in the hud have to become the new unique ids then
18:00 < bridge> <learath2> it would need client support yeah, but I guess easier client support
18:00 < ws-client3> <ChillerDragon> yea its not super complicated to do
18:00 < bridge> <learath2> completely replacing the original id system would be an undertaking about the same size as rewriting ddnet 😄
18:00 < ws-client3> <ChillerDragon> but more effort than the server side and it also breaks moderation on old clients
18:01 < ws-client3> <ChillerDragon> yea no internally the client still uses the 0-64 client ids mostly
18:01 < ws-client3> <ChillerDragon> only for rendering in the hud in the 3 or 4 places a new different would be displayed
18:01 < ws-client3> <ChillerDragon> s/new different/different number/
18:03 < bridge> <louis> idk i think the build process on windows is a lot lot easier if u just use visual studio and the nice little green button
18:04 < bridge> <nameless_me> oh ok, I'll use that
18:04 < bridge> <nameless_me> thats fine, I just didn't know what to use
18:05 < ws-client3> <ChillerDragon> for me on windows both worked the green button and the cmake commands 🤷
18:06 < ws-client3> <ChillerDragon> but then i also once spent one day trying to find a smooth windows build quickstart and rage quitted haha
18:06 < bridge> <nameless_me> do you use extra cmake commands? I just cloned it, set a path to build, and built it
18:06 < ws-client3> <ChillerDragon> no yours look good
18:08 < ws-client3> <ChillerDragon> you can try this 
18:08 < ws-client3> <ChillerDragon> ``cd teeworlds``
18:08 < ws-client3> <ChillerDragon> ``mkdir build``
18:08 < ws-client3> <ChillerDragon> ``cd build``
18:08 < ws-client3> <ChillerDragon> ``cmake ..``
18:08 < ws-client3> <ChillerDragon> ``cmake --build .``
18:08 < ws-client3> <ChillerDragon> this is what i would do but looks really close to yours
18:11 < bridge> <nameless_me> yep, I ran that, and it resulted in the same thing, let me try it in Visual Studio and see if it just works over there
18:11 < bridge> <nameless_me> yep, I ran that just now, and it resulted in the same thing, let me try it in Visual Studio and see if it just works over there
18:19 < bridge> <danilochka_411> Help, there is a blocker on Cobra 2
18:19 < bridge> <danilochka_411> Nick:VaReNeK
18:20 < bridge> <Sans> simply cloning and building with clion on windows worked for me, visual studio is also a very easy way to get it going
18:20 < bridge> <nameless_me> I compiled the same folder in Visual Studio, click the green run thing and it worked, however, where does it store the complied version? ahhhh, I found it, Visual Studio made its own directory, out, looks like it only compiles one thing at a time though, and there is lots of other exe's like crapnet that I don't know what they do.
18:20 < bridge> <nameless_me> 
18:20 < bridge> <nameless_me> Still, looks like Visual Studio works
18:21 < bridge> <nameless_me> clion? what is that
18:21 < bridge> <Sans> jetbrains ide
18:24 < bridge> <nameless_me> ahh, I see, you like that ide?
18:24 < bridge> <nameless_me> The compling worked, it compiled, but I think it did it in the wrong place
18:30 < bridge> <Sans> It's very noob friendly
18:30 < bridge> <Sans> and I am the best worst noob out there
18:30 < bridge> <Sans> :dumb:
19:59 < bridge> <Jupstar ✪> Is this button supposed to do anything?
19:59 < bridge> <Jupstar ✪> I cannot get it to ungray
19:59 < bridge> <Jupstar ✪> https://cdn.discordapp.com/attachments/293493549758939136/1349456884654145547/image.png?ex=67d32b28&is=67d1d9a8&hm=e48604c0e0c60194fe9a480d7fdaa14edac48f77f33b42ac8674a2408c049ba8&
20:51 < bridge> <kebscs> which map?
21:00 < bridge> <Jupstar ✪> custom test map
21:00 < bridge> <Jupstar ✪> https://cdn.discordapp.com/attachments/293493549758939136/1349472212612284497/smalltest.map?ex=67d3396f&is=67d1e7ef&hm=9a3e0495d826431a20d657ee6bef8da142248e7525982caf58008ec40a9bdfb7&
21:00 < bridge> <Jupstar ✪> well modified map xd
21:02 < bridge> <kebscs> seem like the tune_zone settings break it
21:02 < bridge> <kebscs> can look for a fix
21:03 < bridge> <Jupstar ✪> ty
21:20 < bridge> <kebscs> ok so it thinks tune_zone is valid command but the arguments are invalid
21:21 < bridge> <kebscs> so its a known, invalid command and the button only fixes unknown
21:21 < bridge> <kebscs> i guess intended?
21:41 < bridge> <kebscs> the same when command expects int and you put string
21:46 < bridge> <Jupstar ✪> but if a mod wants to use that command for whatever reason?
21:46 < bridge> <Jupstar ✪> shouldnt allow unknown settings allows succeed? 😄
21:47 < bridge> <Jupstar ✪> e.g. what if i want to support `tune gravity moon`
21:55 < bridge> <kebscs> its a 1 line fix i could make a pr i guess
22:01 < bridge> <Jupstar ✪> i mean it's not like i care too much, was just a thought.
22:01 < bridge> <Jupstar ✪> 
22:01 < bridge> <Jupstar ✪> the map was just a test anyway, was just suprised that the button had a condition before activating. thought it was just buggy that it is disabled or smth unrelated to the editor code
22:04 < bridge> <Bota> dooes someone have experience with packages on github?
22:07 < bridge> <jxsl13> which kind of?
22:08 < bridge> <jxsl13> @alex0006
22:08 < bridge> <Bota> npm packages
22:08 < bridge> <Bota> i wanna know if its a strufggle or ez
22:09 < bridge> <Bota> i wanna make a component libary for a private project
22:09 < bridge> <jxsl13> no experience.
22:09 < bridge> <Bota> and other packages?
22:09 < bridge> <jxsl13> i think docker images are also considered packages there.
22:09 < bridge> <Bota> i mean is the package registy ok, or does it have something special?
22:10 < bridge> <jxsl13> that's the only thing I touched.
22:10 < bridge> <zwelf2> chillerdragon: iirc each player can only execute one read command at a time (/rank, /points, etc), one load/save per team, one join for time and birthday check (need to verify this!). However inserting ranks isn't rate limited and could overflow the queue. But yes in the end it assumes that 512 isn't reached.
22:11 < bridge> <jxsl13> nothing special, just close to your repo and everything in one place.
22:11 < bridge> <jxsl13> has pros and cons, but in general no different from docker hub
22:11 < bridge> <jxsl13> not*
22:12 < bridge> <Bota> hmm ok ty
22:12 < bridge> <Bota> i dont want to pay 7$ /moth for a private package on npmjs.com
22:14 < bridge> <jxsl13> frontend devs assemble!
22:14 < bridge> <jxsl13> help this lost soul!
22:16 < bridge> <zwelf2> chillerdragon: we kinda already have this: https://github.com/ddnet/ddnet/blob/7f286b684690344a2ee09ea14784aab856db62ec/src/game/server/player.h#L122
22:16 < bridge> <zwelf2> not really used though (only for database stuff to not send results to wrong player)
22:23 < bridge> <zwelf2> chillerdragon: https://docs.rs/slotmap/latest/slotmap/index.html?search=key SecondarySlotMap from here
22:27 < bridge> <zwelf2> some (old) comparison: https://old.reddit.com/r/rust/comments/gfo1uw/benchmarking_slotmap_slab_stable_vec_etc/
22:31 < bridge> <zwelf2> got aware of slabs/slotmap by a youtube video linked by ryozuki(?): https://www.youtube.com/watch?v=hBwnOc-CfvQ (not this video, but some other from that channel was linked)
23:05 < ws-client3> <ChillerDragon> @zwelf2 am i tripping or does it not even try to save queued writes on shutdown?
23:06 < bridge> <zwelf2> It waits until all queries are completed.
23:06 < ws-client3> <ChillerDragon> thats what i thought
23:06 < bridge> <zwelf2> but starts skipping over read queries
23:06 < ws-client3> <ChillerDragon> until i built a fake query that just sleeps and none of my writes would finish anymore
23:06 < bridge> <zwelf2> (on shutdown)
23:06 < ws-client3> <ChillerDragon> on shutdown
23:06 < ws-client3> <ChillerDragon> https://github.com/ddnet/ddnet/blob/7f286b684690344a2ee09ea14784aab856db62ec/src/engine/server/databases/connection_pool.cpp#L335-L359
23:07 < bridge> <zwelf2> hm
23:07 < ws-client3> <ChillerDragon> i have the feeling the backup gets skipped on shutdown and then it triggers the failed mode
23:07 < bridge> <zwelf2> (there might be a timeout after 60s?)
23:07 < ws-client3> <ChillerDragon> which then goes straight to normal failed?
23:07 < ws-client3> <ChillerDragon> no timeout
23:07 < ws-client3> <ChillerDragon> i seem to only hit NORMAL_FAILED not NORMAL anymore
23:07 < ws-client3> <ChillerDragon> but i only debugged for like 10s gtg now
23:07 < bridge> <zwelf2> ah year, everything only gets written locally to sqlite
23:07 < bridge> <zwelf2> *yeah
23:08 < bridge> <zwelf2> to make shutdown fast
23:08 < ws-client3> <ChillerDragon> oh ._.
23:08 < ws-client3> <ChillerDragon> so its intentional
23:08 < ws-client3> <ChillerDragon> hmm thats not good for account system logout
23:16 < bridge> <chillerdragon> Oh nice then my issue can be half closed unless we want to also really use it for rcon! Good to know I might use it
23:19 < bridge> <chillerdragon> Oh Shit that is good to know. And good that I checked. I somehow assumed ddnet code would infinitely scale or safely queue somehow. This is good to know because I was intending to allow admins to queue in bulk.
23:20 < bridge> <chillerdragon> Also I realized the sql code seems to process one query at a time blocking the others. Meaning if it were to reach the 512 the server would become quite unresponsive for many operations.
23:21 < bridge> <zwelf2> Yeah, was looking into rewriting in rust with sqlx and async now again. c++ threading story isn't that great.
23:22 < bridge> <zwelf2> if one query fails (maybe even when taking long due to timeout), all currently queued ones are processed like on shutdown until queue is empty to mitigate that a bit.
23:27 < bridge> <teero777> ChillerDragon: can we date in ddnet-rs tmrw?
23:30 < bridge> <meloƞ> DDNET-RS date tomorrow?
23:35 < bridge> <teero777> I hope
23:55 < bridge> <chillerdragon> Oh boi that’s risky for the stability of my account system
23:56 < bridge> <chillerdragon> Don’t think I have time
23:56 < bridge> <chillerdragon> Better when I am back in Germany
23:58 < bridge> <teero777> oki :3
