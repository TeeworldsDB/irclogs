07:26 <+bridge> [ddnet] <nouaa> :bluekitty:
07:55 <+bridge> [ddnet] <Ryozuki> üßÇ do u need some?
07:55 <+bridge> [ddnet] <Ryozuki> üßÇ
08:20 <+bridge> [ddnet] <Ryozuki> https://www.reddit.com/r/rust/comments/sh947t/hvm_a_nextgen_massively_parallel_betaoptimal/
08:20 <+bridge> [ddnet] <Ryozuki> any haskell fans? xd
09:01 <+bridge> [ddnet] <Ryozuki> https://lsd.gnunet.org/lsd0001/
09:01 <+bridge> [ddnet] <Ryozuki> interesting project
09:01 <+bridge> [ddnet] <Ryozuki> (published yesterday)
09:01 <+bridge> [ddnet] <Ryozuki> https://news.ycombinator.com/item?id=30154830
09:56 <+bridge> [ddnet] <fokkonaut> @heinrich5991 I can add the force tile layers and map bg today
10:48 <+bridge> [ddnet] <heinrich5991> @fokkonaut should I reopen the pr?
10:49 <+bridge> [ddnet] <fokkonaut> I guess
11:55 <+bridge> [ddnet] <Ryozuki> progress with my pdf parser written with a parser combinators library
11:55 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/938024741539840030/unknown.png
11:55 <+bridge> [ddnet] <Ryozuki> nested arrays :monkaS:
11:55 <+bridge> [ddnet] <Ryozuki> :greenthing:
11:55 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/938024829083353148/unknown.png
11:57 <+bridge> [ddnet] <Ryozuki> since nom went from macros to just functions its way better imho
11:57 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/938025184567373844/unknown.png
11:57 <+bridge> [ddnet] <Ryozuki> cuz rust-analyzer had a hard time with it xd
12:58 <+bridge> [ddnet] <Jupstar ‚ú™> GL 1.x
12:58 <+bridge> [ddnet] <Jupstar ‚ú™> GL 3.3
12:58 <+bridge> [ddnet] <Jupstar ‚ú™> 1.png
12:58 <+bridge> [ddnet] <Jupstar ‚ú™> https://cdn.discordapp.com/attachments/293493549758939136/938040685104365608/1.png
12:58 <+bridge> [ddnet] <Jupstar ‚ú™> 2.png
12:58 <+bridge> [ddnet] <Jupstar ‚ú™> https://cdn.discordapp.com/attachments/293493549758939136/938040706939904061/2.png
12:58 <+bridge> [ddnet] <Jupstar ‚ú™> and vulkan
12:58 <+bridge> [ddnet] <Jupstar ‚ú™> 3.png
12:59 <+bridge> [ddnet] <Jupstar ‚ú™> https://cdn.discordapp.com/attachments/293493549758939136/938040733972185108/3.png
12:59 <+bridge> [ddnet] <Jupstar ‚ú™> text rendering performance
12:59 <+bridge> [ddnet] <Jupstar ‚ú™> (for streamed text)
12:59 <+bridge> [ddnet] <Jupstar ‚ú™> i hope this will help M1
12:59 <+bridge> [ddnet] <Jupstar ‚ú™> moltenVK should not have so much overhead
12:59 <+bridge> [ddnet] <Ryozuki> vulkan poggers
12:59 <+bridge> [ddnet] <Ryozuki> did u implement the renderer in vulkan?
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> yeah most stuff is finished
13:00 <+bridge> [ddnet] <Ryozuki> madman
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> but todo list still long xD
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> ```
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - viewport & scissor on fly changes (distinct the pipelines better for faster non clipped rendering)
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - implement remaining render* calls (quads and streamed tiles missing)
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - dynamic descriptor pool allocations when needed (maybe smaller pool sizes)
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - implement texture destroy correctly (descriptors missing)
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - v-sync not working? (or just radv bug?)
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - implement new command buffer commands in OpenGL backend
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - disallow alpha textures (new cmd for text textures)
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - screenshots and video recorder not working
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - decide on a heap
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> - check other swap chain images, if finished to free resources faster
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> 
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> ```
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> interestingly radeon\_si beats vulkan in a pure GPU bound scenario xD
13:00 <+bridge> [ddnet] <Ryozuki> xD
13:00 <+bridge> [ddnet] <Jupstar ‚ú™> what are valve devs doing (also checked with zink to be sure)+
13:01 <+bridge> [ddnet] <Jupstar ‚ú™> but in CPU bound, vulkan completly destroys opengl
13:02 <+bridge> [ddnet] <Jupstar ‚ú™> you can test it, but it will probs consume around 2-3GB VRAM, bcs it doesnt really clear stuff rn
13:02 <+bridge> [ddnet] <Jupstar ‚ú™> https://github.com/Jupeyy/ddnet/tree/pr_vulkan
13:02 <+bridge> [ddnet] <Ryozuki> :monkaS:
13:02 <+bridge> [ddnet] <Ryozuki> i got only 4gb vram
13:02 <+bridge> [ddnet] <Ryozuki> xD
13:03 <+bridge> [ddnet] <Jupstar ‚ú™> i actually want deen to test it
13:04 <+bridge> [ddnet] <Jupstar ‚ú™> he just has to link moltenvk somehow, cant help him with that
13:04 <+bridge> [ddnet] <Ryozuki> im gonna test it
13:05 <+bridge> [ddnet] <Ryozuki> if only git downloaded at more than 3mb/s
13:11 <+bridge> [ddnet] <Ryozuki> idk why i cant checkout that branch
13:12 <+bridge> [ddnet] <Jupstar ‚ú™> git remote add jupstar https://github.com/Jupeyy/ddnet.git
13:12 <+bridge> [ddnet] <Jupstar ‚ú™> 
13:12 <+bridge> [ddnet] <Jupstar ‚ú™> git fetch --all
13:12 <+bridge> [ddnet] <Jupstar ‚ú™> git checkout jupstar/pr\_vulkan
13:14 <+bridge> [ddnet] <Ryozuki> ur remote is actually quite big lol
13:14 <+bridge> [ddnet] <Jupstar ‚ú™> yes
13:14 <+bridge> [ddnet] <Jupstar ‚ú™> its a grave
13:14 <+bridge> [ddnet] <Ryozuki> maybe do some cleanup xd
13:15 <+bridge> [ddnet] <Ryozuki> Segmentation fault (core dumped)
13:15 <+bridge> [ddnet] <Ryozuki> xd
13:15 <+bridge> [ddnet] <Ryozuki> ```
13:15 <+bridge> [ddnet] <Ryozuki> [Switching to Thread 0x7fff967fc640 (LWP 78956)]
13:16 <+bridge> [ddnet] <Ryozuki> 0x00007fff87a11a24 in ?? () from /usr/lib/amdvlk64.so
13:16 <+bridge> [ddnet] <Ryozuki> (gdb) bt
13:16 <+bridge> [ddnet] <Ryozuki> #0  0x00007fff87a11a24 in  () at /usr/lib/amdvlk64.so
13:16 <+bridge> [ddnet] <Ryozuki> #1  0x0000555555601973 in CCommandProcessorFragment_Vulkan::Cmd_Render(CCommandBuffer::SCommand_Render const*) (this=0x5555559b2c50, pCommand=0x555555bda320)
13:16 <+bridge> [ddnet] <Ryozuki>     at /home/ryozuki/Documents/ddnet/src/engine/client/backend/vulkan/backend_vulkan.cpp:1194
13:16 <+bridge> [ddnet] <Ryozuki> #2  0x0000555555603985 in CCommandProcessorFragment_Vulkan::RunCommand(CCommandBuffer::SCommand const*) (this=0x5555559b2c50, pBaseCommand=0x555555bda320)
13:16 <+bridge> [ddnet] <Ryozuki>     at /home/ryozuki/Documents/ddnet/src/engine/client/backend/vulkan/backend_vulkan.cpp:1805
13:16 <+bridge> [ddnet] <Ryozuki> #3  0x0000555555605376 in CCommandProcessor_SDL_GL::RunBuffer(CCommandBuffer*) (this=0x5555559b8330, pBuffer=<optimized out>)
13:16 <+bridge> [ddnet] <Ryozuki>     at /home/ryozuki/Documents/ddnet/src/engine/client/backend_sdl.cpp:232
13:16 <+bridge> [ddnet] <Ryozuki> #4  0x00005555556047ea in CGraphicsBackend_Threaded::ThreadFunc(void*) (pUser=pUser@entry=0x55555593be30) at /home/ryozuki/Documents/ddnet/src/engine/client/backend_sdl.cpp:77
13:16 <+bridge> [ddnet] <Ryozuki> #5  0x00005555555c12c7 in thread_run(void*) (user=<optimized out>) at /home/ryozuki/Documents/ddnet/src/base/system.cpp:820
13:16 <+bridge> [ddnet] <Ryozuki> #6  0x00007ffff5193259 in start_thread () at /usr/lib/libpthread.so.0
13:16 <+bridge> [ddnet] <Ryozuki> #7  0x00007ffff50bc5e3 in clone () at /usr/lib/libc.so.6
13:16 <+bridge> [ddnet] <Ryozuki> ```
13:16 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/1
13:16 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/2
13:16 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/3
13:16 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/4
13:16 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/5
13:16 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/6
13:16 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/pull/7
13:16 <+bridge> [ddnet] <Ryozuki> a backtrace for u
13:16 <+bridge> [ddnet] <Ryozuki> ugh
13:16 <+bridge> [ddnet] <Ryozuki> the bot went wild
13:16 <+bridge> [ddnet] <Jupstar ‚ú™> with dbg\_gfx 3 you'll get all kind of validation layers
13:16 <+bridge> [ddnet] <Ryozuki> [2022-02-01 13:15:40][gfx]: GPU renderer: AMD Radeon RX 580 Series
13:16 <+bridge> [ddnet] <Ryozuki> [2022-02-01 13:15:40][gfx]: GPU version: Vulkan 1.3.203
13:16 <+bridge> [ddnet] <Ryozuki> let me check
13:17 <+bridge> [ddnet] <Jupstar ‚ú™> maybe i allocate too much stuff xd
13:17 <+bridge> [ddnet] <Jupstar ‚ú™> i just spammed everything with memory
13:17 <+bridge> [ddnet] <Ryozuki> hm
13:17 <+bridge> [ddnet] <Ryozuki> my gpu has 4gb vram probs
13:18 <+bridge> [ddnet] <Ryozuki> it dies after the loading bar
13:18 <+bridge> [ddnet] <Ryozuki> well i never get to see the menu
13:19 <+bridge> [ddnet] <Jupstar ‚ú™> maybe choose a different background map
13:19 <+bridge> [ddnet] <Ryozuki> https://www.toptal.com/developers/hastebin/feqojoholi.less
13:19 <+bridge> [ddnet] <Ryozuki> with the dbg gfx 3
13:19 <+bridge> [ddnet] <Ryozuki> its a validation layer error i guess
13:20 <+bridge> [ddnet] <Ryozuki> > /build/vulkan-validation-layers/src/Vulkan-ValidationLayers-1.2.203/layers/core_validation.cpp: No such file or directory.
13:20 <+bridge> [ddnet] <Ryozuki> oh shoot
13:20 <+bridge> [ddnet] <Ryozuki> am i missing smth? xd
13:20 <+bridge> [ddnet] <Jupstar ‚ú™> no idea tbh
13:20 <+bridge> [ddnet] <Jupstar ‚ú™> for me they just work ‚Ñ¢Ô∏è
13:20 <+bridge> [ddnet] <Ryozuki> it spams a lot of [2022-02-01 13:18:55][vulkan]: allocated chunk of memory with size: 83886080 for frame 0 (buffer)
13:20 <+bridge> [ddnet] <Ryozuki> [2022-02-01 13:18:55][vulkan]: allocated chunk of memory with size: 1048576 for frame 0 (image)
13:21 <+bridge> [ddnet] <Jupstar ‚ú™> yeah
13:21 <+bridge> [ddnet] <Jupstar ‚ú™> best is you quickly change storage.cfg to 
13:21 <+bridge> [ddnet] <Jupstar ‚ú™> 
13:21 <+bridge> [ddnet] <Jupstar ‚ú™> add\_path $DATADIR
13:21 <+bridge> [ddnet] <Jupstar ‚ú™> add\_path $DATADIR
13:21 <+bridge> [ddnet] <Jupstar ‚ú™> add\_path $CURRENTDIR
13:21 <+bridge> [ddnet] <Ryozuki> ```
13:21 <+bridge> [ddnet] <Ryozuki> UNASSIGNED-GeneralParameterError-UnrecognizedValue(ERROR / SPEC): msgNum: -1100021871 - Validation Error: [ UNASSIGNED-GeneralParameterError-UnrecognizedValue ] Object 0: VK_NULL_HANDLE, type = VK_OBJECT_TYPE_DEVICE; | MessageID = 0xbe6eff91 | VkValidationFeaturesEXT: value of pEnabledValidationFeatures[0] (32767) does not fall within the begin..end range of the core VkValidationFeatureEnableEXT enumeration tokens and is not an extension ad
13:21 <+bridge> [ddnet] <Ryozuki>     Objects: 1
13:21 <+bridge> [ddnet] <Ryozuki>         [0] 0, type: 3, name: NULL
13:21 <+bridge> [ddnet] <Ryozuki> ```
13:21 <+bridge> [ddnet] <Jupstar ‚ú™> so it doesnt load useless skins and stuff
13:21 <+bridge> [ddnet] <Ryozuki> a validation error
13:22 <+bridge> [ddnet] <Jupstar ‚ú™> thats an extension
13:22 <+bridge> [ddnet] <Jupstar ‚ú™> maybe your GPU doesnt support it, but its not required for rendeering, it just is a synchronization validation layer
13:22 <+bridge> [ddnet] <Jupstar ‚ú™> basically like the thread sanitizer
13:22 <+bridge> [ddnet] <Ryozuki> ```
13:22 <+bridge> [ddnet] <Ryozuki> [2022-02-01 13:18:57][vulkan_debug]: Validation Error: [ VUID_Undefined ] Object 0: handle = 0x7fff809c8490, type = VK_OBJECT_TYPE_DEVICE; | MessageID = 0x79de34d4 | vkCmdBindDescriptorSets: required parameter pDescriptorSets specified as NULL.
13:22 <+bridge> [ddnet] <Ryozuki> ```
13:22 <+bridge> [ddnet] <Ryozuki> this one happens just before the crash tho
13:23 <+bridge> [ddnet] <Jupstar ‚ú™> yeah i assume you have too much skins or smth like that
13:23 <+bridge> [ddnet] <Ryozuki> xd
13:23 <+bridge> [ddnet] <Jupstar ‚ú™> currently the descriptor pool is static
13:23 <+bridge> [ddnet] <Ryozuki> maybe
13:23 <+bridge> [ddnet] <Jupstar ‚ú™> thats on the todo xd
13:23 <+bridge> [ddnet] <Ryozuki> xd
13:23 <+bridge> [ddnet] <Jupstar ‚ú™> just add a storage.cfg and add 
13:23 <+bridge> [ddnet] <Jupstar ‚ú™> add\_path $DATADIR
13:23 <+bridge> [ddnet] <Jupstar ‚ú™> add\_path $DATADIR
13:23 <+bridge> [ddnet] <Jupstar ‚ú™> add\_path $CURRENTDIR
13:23 <+bridge> [ddnet] <Ryozuki> well ill test again when its "finished" xd
13:23 <+bridge> [ddnet] <Ryozuki> ok
13:24 <+bridge> [ddnet] <Ryozuki> it doesnt crash now
13:24 <+bridge> [ddnet] <Jupstar ‚ú™> nice
13:24 <+bridge> [ddnet] <Ryozuki> i get about 3200 fps
13:24 <+bridge> [ddnet] <Ryozuki> how to force opengl
13:24 <+bridge> [ddnet] <Jupstar ‚ú™> is that alot for your GPU\`xd
13:25 <+bridge> [ddnet] <Jupstar ‚ú™> you cant in this pr
13:25 <+bridge> [ddnet] <Ryozuki> ah
13:25 <+bridge> [ddnet] <Jupstar ‚ú™> i added some new stuff havent backported yet
13:26 <+bridge> [ddnet] <Ryozuki> i get 2000 fps with the same map and storage.cfg
13:26 <+bridge> [ddnet] <Ryozuki> definitly an improvement
13:26 <+bridge> [ddnet] <Ryozuki> poggers
13:26 <+bridge> [ddnet] <Jupstar ‚ú™> epic
13:30 <+bridge> [ddnet] <Ryozuki> i think its better if instead of a script to compile shaders we do it from cmake
13:30 <+bridge> [ddnet] <Ryozuki> <https://gist.github.com/evilactually/a0d191701cb48f157b05be7f74d79396>
13:30 <+bridge> [ddnet] <Ryozuki> probably more portable
13:30 <+bridge> [ddnet] <Jupstar ‚ú™> yeah
13:30 <+bridge> [ddnet] <Jupstar ‚ú™> i add it to the todo
13:30 <+bridge> [ddnet] <Ryozuki> nice
13:34 <+bridge> [ddnet] <Ryozuki> > void UnloadTextures(IGraphics::CTextureHandle (&aTextures)[2])
13:34 <+bridge> [ddnet] <Ryozuki> i think i never seen this syntax before
13:34 <+bridge> [ddnet] <Jupstar ‚ú™> its to make sure you use an array of size 2
13:35 <+bridge> [ddnet] <Ryozuki> is it different to void UnloadTextures(IGraphics::CTextureHandle &aTextures[2])
13:35 <+bridge> [ddnet] <Ryozuki> ?'
13:35 <+bridge> [ddnet] <Jupstar ‚ú™> does that compile?
13:35 <+bridge> [ddnet] <Jupstar ‚ú™> but yeah
13:35 <+bridge> [ddnet] <Ryozuki> idk xd
13:36 <+bridge> [ddnet] <Jupstar ‚ú™> generally added [] does not mean that its an array
13:36 <+bridge> [ddnet] <Jupstar ‚ú™> but a pointer xD
13:36 <+bridge> [ddnet] <Ryozuki> ah
13:36 <+bridge> [ddnet] <Ryozuki> your way is the c++ way to pass a reference
13:36 <+bridge> [ddnet] <Ryozuki> instead of a pointer
13:37 <+bridge> [ddnet] <Ryozuki> xd
13:37 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/938050330195787786/unknown.png
13:37 <+bridge> [ddnet] <Jupstar ‚ú™> yeah \:D
13:37 <+bridge> [ddnet] <Ryozuki> TIL
13:38 <+bridge> [ddnet] <heinrich5991> > For one, it is often necessary to null-check pointers for safety protocols.
13:38 <+bridge> [ddnet] <heinrich5991> No, this is stupid, IMO. You don't check for other invalid pointers either.
13:39 <+bridge> [ddnet] <Jupstar ‚ú™> xd
13:39 <+bridge> [ddnet] <Jupstar ‚ú™> i never read the text when i search for stuff like that xD
13:40 <+bridge> [ddnet] <Ryozuki> anyway impressive work
13:40 <+bridge> [ddnet] <Jupstar ‚ú™> or better\: i prefer manuals over tutorials
13:40 <+bridge> [ddnet] <Jupstar ‚ú™> thanks
13:40 <+bridge> [ddnet] <Ryozuki> well its hard to find what u want in the manual if you don't know the name of what you are searching
13:40 <+bridge> [ddnet] <Ryozuki> so sometimes tutorials make it easier to find
13:41 <+bridge> [ddnet] <Jupstar ‚ú™> true, but then i dont really read it xD
13:41 <+bridge> [ddnet] <Ryozuki> xd
13:41 <+bridge> [ddnet] <Jupstar ‚ú™> atleast not whjat the author thinks or whatever
13:41 <+bridge> [ddnet] <Jupstar ‚ú™> i just want to know how it works xD
13:44 <+bridge> [ddnet] <Ryozuki> ah ye
13:44 <+bridge> [ddnet] <Ryozuki> xd
14:45 <+bridge> [ddnet] <Smetanolub> why ddnet use openngl3?
14:45 <+bridge> [ddnet] <Smetanolub> isnt it old
14:45 <+bridge> [ddnet] <Smetanolub> there is directx12, or it wont work?
14:46 <+bridge> [ddnet] <Jupstar ‚ú™> bro vulkan is newer
14:46 <+bridge> [ddnet] <Jupstar ‚ú™> vulkan best
14:46 <+bridge> [ddnet] <Jupstar ‚ú™> but yeah opengl 3.3 is from 2006 iirc
14:46 <+bridge> [ddnet] <Jupstar ‚ú™> vulkan from 2016, and vulkan 1.1 (what i use) is from 2018
14:46 <+bridge> [ddnet] <Azulflame> it's not like support for opengl has an EOL yet
14:47 <+bridge> [ddnet] <Jupstar ‚ú™> yeah but opengl really sucks everywhere except linux xD
14:47 <+bridge> [ddnet] <Smetanolub> newer than directx12?
14:47 <+bridge> [ddnet] <Azulflame> dx12 came out in 2014
14:48 <+bridge> [ddnet] <Smetanolub> yea but thhey update it every month
14:48 <+bridge> [ddnet] <Smetanolub> no?
14:48 <+bridge> [ddnet] <Jupstar ‚ú™> windows doesnt allow opengl drivers to have better access to the framebuffer or other way around, so stuff doesnt really render well in fullscreen
14:48 <+bridge> [ddnet] <Jupstar ‚ú™> 
14:48 <+bridge> [ddnet] <Jupstar ‚ú™> macos completly removed it and has OpenGLonMetal which is kinda slow \:D
14:48 <+bridge> [ddnet] <Smetanolub> wait so we have more fps on vulkannn than opgl?
14:48 <+bridge> [ddnet] <Jupstar ‚ú™> dx12 is good, but its windows only and maybe a little bit easier than vulkan, same with metal(macos)
14:48 <+bridge> [ddnet] <Jupstar ‚ú™> vulkan is state of the art \:D
14:49 <+bridge> [ddnet] <Jupstar ‚ú™> yeah vulkan in the screenshots outputs 3.3k fps, gl 3.3 2.6k fps
14:49 <+bridge> [ddnet] <Azulflame> I'm a big fan of "just pass it off to a graphics library", but I do different things than you guys
14:49 <+bridge> [ddnet] <Smetanolub> ü•≤ its so funn to understand nothing comp with pc, while i will end college soonn as programmer
14:49 <+bridge> [ddnet] <Jupstar ‚ú™> yeah i generally understand it, vulkan is overkill for 2d game
14:49 <+bridge> [ddnet] <Jupstar ‚ú™> but teeworlds is for tryhards anyway xD
14:50 <+bridge> [ddnet] <Smetanolub> yeah so wee need that  extra 1 fos
14:50 <+bridge> [ddnet] <Smetanolub> yeah so wee need that  extra 1 fps
14:50 <+bridge> [ddnet] <Jupstar ‚ú™> THATS THE SPIRIT
15:58 <+bridge> [ddnet] <Ryozuki> indeed
15:58 <+bridge> [ddnet] <Ryozuki> gotta reach 10k fps
15:58 <+bridge> [ddnet] <Ryozuki> dx12 is not crosscomplatible and vulkan is newer and cross compatible
15:59 <+bridge> [ddnet] <deen> well, you're there to learn something, not to hear about what you know already. sounds good
16:00 <+bridge> [ddnet] <Ryozuki> i tested it and got 1.2k more fps on linux
16:01 <+bridge> [ddnet] <Ryozuki> but this is definitly cuz something is wrong with our opengl stuff, maybe not optimized or because we use 3.3 and not a more modern?
16:01 <+bridge> [ddnet] <Ryozuki> cuz on dota 2 the fps difference is like 10 when i test vulkan and opengl
16:08 <+bridge> [ddnet] <Smetanolub> 10times or 10fps
16:08 <+bridge> [ddnet] <Ryozuki> 10 fps
16:12 <+bridge> [ddnet] <Jupstar ‚ú™> i'd say the binding concept of "older" openGL is just too much overhead, e.g. the Multeasy benchmark is also much faster, even tho its very similar vulkan
16:12 <+bridge> [ddnet] <Jupstar ‚ú™> 
16:12 <+bridge> [ddnet] <Jupstar ‚ú™> But for streamed stuff, it's mostly because the advanced memory control, possible that newer opengl is faster. Newer GL is also more bindless, kills alot of CPU overhead
16:13 <+bridge> [ddnet] <Jupstar ‚ú™> (similar to vulkan in terms of exectution flow)
16:44 <+bridge> [ddnet] <Boti.> could someone make a github issue for the idea of making blacklist for the server browser?
16:45 <+bridge> [ddnet] <Boti.> i want to avoid exec servers üò≥
16:45 <+bridge> [ddnet] <Learath2> Mh, I guess it is more fun that way, but one should really focus on also improving themselves during that time. College curriculums are like a decade behind nowadays :D
18:16 <+bridge> [ddnet] <Jupstar ‚ú™> @deen\: wanna try the vulkan thing with moltenvk? I dunno what `brew install molten-vk` exactly installs, but i guess it cant be that hard to get the dependencies right xd
18:19 <+bridge> [ddnet] <deen> I have it installed, what now?
18:20 <+bridge> [ddnet] <Jupstar ‚ú™> try to build
18:20 <+bridge> [ddnet] <Jupstar ‚ú™> https://github.com/Jupeyy/ddnet/tree/pr_vulkan
18:20 <+bridge> [ddnet] <Jupstar ‚ú™> i want to improve the M1 performance xd
18:22 <+bridge> [ddnet] <deen> You know we have a peak of 1% Mac users? üòÑ
18:22 <+bridge> [ddnet] <Jupstar ‚ú™> well vulkan also works on linux so i am fine
18:22 <+bridge> [ddnet] <Jupstar ‚ú™> and maybe it also improves the windows situation
18:23 <+bridge> [ddnet] <deen> linux is another 1%
18:23 <+bridge> [ddnet] <deen> üòÑ
18:23 <+bridge> [ddnet] <Jupstar ‚ú™> vulkan also works on windows
18:23 <+bridge> [ddnet] <Jupstar ‚ú™> xD
18:24 <+bridge> [ddnet] <deen> `src/engine/client/backend/vulkan/backend_vulkan.cpp:16:10: fatal error: 'vulkan/vulkan.h' file not found`
18:24 <+bridge> [ddnet] <Jupstar ‚ú™> can you somehow view what brew installed?
18:24 <+bridge> [ddnet] <deen> I'll just try `brew install vulkan-headers`
18:24 <+bridge> [ddnet] <Jupstar ‚ú™> ah sounds good \:D
18:25 <+bridge> [ddnet] <deen> Oops, now I have it twice on my system:
18:25 <+bridge> [ddnet] <deen> ```
18:25 <+bridge> [ddnet] <deen> ./Cellar/molten-vk/1.1.6/libexec/include/vulkan/vulkan.h
18:25 <+bridge> [ddnet] <deen> ./Cellar/vulkan-headers/1.3.204/include/vulkan/vulkan.h
18:25 <+bridge> [ddnet] <deen> ```
18:29 <+bridge> [ddnet] <deen> Got it built:
18:29 <+bridge> [ddnet] <deen> ```
18:29 <+bridge> [ddnet] <deen> [2022-02-01 18:29:06][gfx]: Created Vulkan 1.1 context.
18:29 <+bridge> [ddnet] <deen> zsh: segmentation fault  ./DDNet
18:29 <+bridge> [ddnet] <deen> ```
18:30 <+bridge> [ddnet] <deen> Crashdump
18:30 <+bridge> [ddnet] <deen> https://cdn.discordapp.com/attachments/293493549758939136/938124072599035965/message.txt
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> ok
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> well i dunno if you have alot of custom stuff, but maybe a storage.cfg with
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> 
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> add\_path $DATADIR
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> add\_path $DATADIR
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> add\_path $CURRENTDIR
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> 
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> can help
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> 
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> Or do ./DDNet "dbg\_gfx 3"
18:30 <+bridge> [ddnet] <deen> nothing more
18:30 <+bridge> [ddnet] <Jupstar ‚ú™> oh such a short log
18:32 <+bridge> [ddnet] <Jupstar ‚ú™> maybe debug build tells you why?
18:40 <+bridge> [ddnet] <deen> Only another crash report:
18:40 <+bridge> [ddnet] <deen> https://cdn.discordapp.com/attachments/293493549758939136/938126556302291074/message.txt
18:40 <+bridge> [ddnet] <Jupstar ‚ú™> a shit mb
18:40 <+bridge> [ddnet] <Jupstar ‚ú™> #define CONF\_BACKEND\_VULKAN 1
18:41 <+bridge> [ddnet] <Jupstar ‚ú™> i only enabled it for linux oups xD
18:42 <+bridge> [ddnet] <deen> where?
18:42 <+bridge> [ddnet] <Jupstar ‚ú™> just somewhere in backend\_sdl.cpp on top
18:42 <+bridge> [ddnet] <deen> black window now
18:43 <+bridge> [ddnet] <Jupstar ‚ú™> \:/
18:43 <+bridge> [ddnet] <deen> Log:
18:43 <+bridge> [ddnet] <deen> https://cdn.discordapp.com/attachments/293493549758939136/938127391233019994/message.txt
18:43 <+bridge> [ddnet] <deen> > [mvk-info] vkCreateMacOSSurfaceMVK(): You are not calling this function from the main thread. NSView should only be accessed from the main thread. When using this function outside the main thread, consider passing the CAMetalLayer itself in VkMacOSSurfaceCreateInfoMVK::pView, instead of the NSView.
18:43 <+bridge> [ddnet] <deen> This stands out
18:44 <+bridge> [ddnet] <Jupstar ‚ú™> oh yeah
18:44 <+bridge> [ddnet] <deen> should we switch the main and gpu thread on macos? üòÑ
18:44 <+bridge> [ddnet] <deen> that would probably also fix the crash when moving window around
18:44 <+bridge> [ddnet] <Jupstar ‚ú™> why does macos love single threaded so much xD
18:45 <+bridge> [ddnet] <Jupstar ‚ú™> if that doesnt break anything sure, but actually vulkan is designed to be multithreaded anyway
18:45 <+bridge> [ddnet] <Jupstar ‚ú™> maybe its just this single call
18:45 <+bridge> [ddnet] <Jupstar ‚ú™> not quite sure rn how to fix it easily \:D
18:50 < jupstar> ```  void CGraphicsBackend_Threaded::RunBuffer(CCommandBuffer *pBuffer) { 	/*	WaitForIdle(); 	std::unique_lock<std::mutex> Lock(m_BufferSwapMutex); 	m_pBuffer = pBuffer; 	m_BufferInProcess.store(true, std::memory_order_relaxed); 	m_BufferSwapCond.notify_all();*/ 	m_pProcessor->RunBuffer(pBuffer); }  ```
18:50 <+jupstar> that makes it signel threaded i think
18:54 <+bridge> [ddnet] <deen> works, should I test the Multeasymap scenario?
18:54 <+bridge> [ddnet] <deen> It crashes on close though
18:54 <+bridge> [ddnet] <deen> https://cdn.discordapp.com/attachments/293493549758939136/938130277350383646/message.txt
18:54 <+bridge> [ddnet] <Jupstar ‚ú™> sure, but i guess single threaded it has a hard time \:D
18:55 <+bridge> [ddnet] <Jupstar ‚ú™> yeah i didnt really work on cleanup yet \:D
18:55 <+bridge> [ddnet] <Learath2> is it not possible to go thru the corner of two death tiles?
18:56 <+bridge> [ddnet] <Zwelf> No, currently not\: https://status.t2bot.io/
18:56 <+bridge> [ddnet] <deen> 140 fps
18:56 <+bridge> [ddnet] <deen> (Release build)
18:56 <+bridge> [ddnet] <Jupstar ‚ú™> uff, let me check singlethreaded to compare
18:56 <+bridge> [ddnet] <Jupstar ‚ú™> without dbg\_gfx 3?
18:57 <+bridge> [ddnet] <Jupstar ‚ú™> well rip, i get 1300 fps xD
18:57 <+bridge> [ddnet] <Jupstar ‚ú™> oh i see, thanks for fast reply \:P
18:59 <+bridge> [ddnet] <deen> yes, without
18:59 <+bridge> [ddnet] <Jupstar ‚ú™> ok RIP, thats extremly underwhelming
18:59 <+bridge> [ddnet] <deen> The graph looks weird, it's jumping between 4000 and 0 fps
18:59 <+bridge> [ddnet] <deen> https://cdn.discordapp.com/attachments/293493549758939136/938131575655247892/Screenshot_2022-02-01_at_18.59.37.png
19:00 <+bridge> [ddnet] <Not Keks> mhh thats indeed strange
19:00 <+bridge> [ddnet] <Jupstar ‚ú™> i wonder if thats a problem with the threaded stuff
19:01 <+bridge> [ddnet] <deen> I can try removing the wait
19:01 <+bridge> [ddnet] <Jupstar ‚ú™> ah sure
19:02 <+bridge> [ddnet] <deen> Ehm, also my system is at 100%, forgot I'm doing something at the same time. Have to stop that first üòÑ
19:02 <+bridge> [ddnet] <Jupstar ‚ú™> that would defs show that locking is insanly slow on macos for some reason
19:02 <+bridge> [ddnet] <Jupstar ‚ú™> OHH OK XD
19:02 <+bridge> [ddnet] <Jupstar ‚ú™> day saved \:D
19:02 <+bridge> [ddnet] <deen> I don't know how well macOS deals with lots of processes competing
19:02 <+bridge> [ddnet] <deen> but the UI feels a bit laggy, similar to Linux
19:03 <+bridge> [ddnet] <Jupstar ‚ú™> yeah but bro M1 has to beat this game without laggs xD
19:03 <+bridge> [ddnet] <Jupstar ‚ú™> its expensive it must be good ‚Ñ¢Ô∏è
19:05 <+bridge> [ddnet] <deen> 150 fps now, didn't help much
19:05 <+bridge> [ddnet] <Jupstar ‚ú™> did you just delete everything in `CGraphicsBackend_Threaded::WaitForIdle` ?
19:05 <+bridge> [ddnet] <deen> no, only the crash bug specific waitforidle
19:05 <+bridge> [ddnet] <Jupstar ‚ú™> but yeah strange that the graph looks so weird
19:06 <+bridge> [ddnet] <deen> MoltenVK graph
19:06 <+bridge> [ddnet] <deen> https://cdn.discordapp.com/attachments/293493549758939136/938133171130753094/Screenshot_2022-02-01_at_19.05.15.png
19:06 <+bridge> [ddnet] <deen> OpenGL graph
19:06 <+bridge> [ddnet] <deen> https://cdn.discordapp.com/attachments/293493549758939136/938133200293728306/Screenshot_2022-02-01_at_19.06.04.png
19:06 <+bridge> [ddnet] <Not Keks> 1000 fps would be realistic üòÑ
19:07 <+bridge> [ddnet] <Jupstar ‚ú™> is that vsync?
19:07 <+bridge> [ddnet] <deen> nope, I thought so too first
19:07 <+bridge> [ddnet] <deen> at least gfx_vsync is off, and my screen has 75hz, not 144
19:07 <+bridge> [ddnet] <Jupstar ‚ú™> oh ok
19:07 <+bridge> [ddnet] <deen> 120 hz is the internal screen though, so maybe something goes wrong
19:08 <+bridge> [ddnet] <Jupstar ‚ú™> yeah really weird it caps perfectly to 144hz xD
19:08 <+bridge> [ddnet] <Jupstar ‚ú™> on both screens
19:09 <+bridge> [ddnet] <deen> hm, maybe you're right. maybe moltenvk does that internally somehow
19:09 <+bridge> [ddnet] <deen> all menus show exactly 144 fps
19:09 <+bridge> [ddnet] <Not Keks> https://github.com/KhronosGroup/MoltenVK/issues/1407
19:09 <+bridge> [ddnet] <Not Keks> 
19:09 <+bridge> [ddnet] <Not Keks> might be known issue
19:10 <+bridge> [ddnet] <deen> https://github.com/KhronosGroup/MoltenVK/issues/1407
19:10 <+bridge> [ddnet] <deen> ha, we found the same üòÑ
19:12 <+bridge> [ddnet] <Jupstar ‚ú™> https://github.com/KhronosGroup/MoltenVK/issues/1407
19:12 <+bridge> [ddnet] <Jupstar ‚ú™> 
19:12 <+bridge> [ddnet] <Jupstar ‚ú™> might be known issue
19:13 <+bridge> [ddnet] <Jupstar ‚ú™> (bridge delay)
19:14 <+bridge> [ddnet] <Jupstar ‚ú™> but i guess i'll still finish the vulkan renderer, ryo and me are just too big vulkan fans xd
19:14 <+bridge> [ddnet] <Jupstar ‚ú™> and might be a better solution to #4600
19:14 <+bridge> [ddnet] <Jupstar ‚ú™> https://github.com/ddnet/ddnet/pull/4600
19:15 <+bridge> [ddnet] <deen> yeah, nice. and let's see again when that bug is fixed
19:58 <+bridge> [ddnet] <Jupstar ‚ú™> @deen\: btw have you tried in fullscreen too? does that even work? xdmaybe it is the compositor
19:58 <+bridge> [ddnet] <Ryozuki> linux 1% but with the most dev support in ddnet :greenthing:
19:58 <+bridge> [ddnet] <Ryozuki> does the mac m1 come with some kind of gpu?
19:58 <+bridge> [ddnet] <Ryozuki> or is it integrated
19:59 <+bridge> [ddnet] <Jupstar ‚ú™> everything is one one die
19:59 <+bridge> [ddnet] <Jupstar ‚ú™> the SSD the RAM
19:59 <+bridge> [ddnet] <Jupstar ‚ú™> everything xD
19:59 <+bridge> [ddnet] <Jupstar ‚ú™> thats the whole point of that thing
19:59 <+bridge> [ddnet] <Ryozuki> ah lol
19:59 <+bridge> [ddnet] <Ryozuki> but i guess its not that good for gaming
20:00 <+bridge> [ddnet] <Jupstar ‚ú™> from benchmark sources around in the internet, it should atleast beat my desktop pc
20:00 <+bridge> [ddnet] <Jupstar ‚ú™> so that's quite good
20:00 <+bridge> [ddnet] <Jupstar ‚ú™> but the price is the biggest problem
20:00 <+bridge> [ddnet] <Jupstar ‚ú™> for that price u get a rtx 3090 xd
20:00 <+bridge> [ddnet] <Ryozuki> ur desktop pc with the vega gpu?
20:00 <+bridge> [ddnet] <Jupstar ‚ú™> yeah
20:00 <+bridge> [ddnet] <Ryozuki> wat
20:01 <+bridge> [ddnet] <Jupstar ‚ú™> but vega is also 14nm, it's dated
20:02 <+bridge> [ddnet] <Jupstar ‚ú™> i mean its just marketing value, but it seems like everytime the nm changes, there is like 15% more single core perf and like 20-30% more gpu perf
20:02 <+bridge> [ddnet] <Ryozuki> > The average gaming FPS of Radeon Pro Vega 64 in Fortnite is 4% more, than Apple M1 8 Core GPU.
20:02 <+bridge> [ddnet] <Ryozuki> xd
20:03 <+bridge> [ddnet] <Ryozuki> thats insane tho
20:03 <+bridge> [ddnet] <Ryozuki> that a igpu is this good
20:03 <+bridge> [ddnet] <Jupstar ‚ú™> yeah, hardware generally exploded the last years
20:03 <+bridge> [ddnet] <deen> the ssd is not on the same die
20:03 <+bridge> [ddnet] <Jupstar ‚ú™> i mean rtx 3060 is faster than like rtx 2080 ti xD
20:04 <+bridge> [ddnet] <Ryozuki> ye
20:04 <+bridge> [ddnet] <Ryozuki> but i cant buy any modern gpu
20:04 <+bridge> [ddnet] <Jupstar ‚ú™> @Ryozuki\: https://www.youtube.com/watch?v=V2HKm6B9EsY
20:04 <+bridge> [ddnet] <Ryozuki> thanks to crypto bros
20:04 <+bridge> [ddnet] <deen> same with fullscreen
20:04 <+bridge> [ddnet] <Jupstar ‚ú™> its a meme
20:04 <+bridge> [ddnet] <Jupstar ‚ú™> @deen\: ok too bad \:D
20:05 <+bridge> [ddnet] <Jupstar ‚ú™> i'd love to know how fast it is xd
20:05 <+bridge> [ddnet] <deen> the screen is phenomal btw. I wanted my external screen to be similar and would have to pay ~5000 ‚Ç¨ for that
20:05 <+bridge> [ddnet] <Jupstar ‚ú™> wow why that?
20:06 <+bridge> [ddnet] <deen> miniled, 220 ppi
20:06 <+bridge> [ddnet] <deen> just looks so much nicer
20:07 <+bridge> [ddnet] <Jupstar ‚ú™> i see, but i guess an external monitor isnt even that small is it? xd
20:07 <+bridge> [ddnet] <Jupstar ‚ú™> 
20:07 <+bridge> [ddnet] <Jupstar ‚ú™> but i only care about input delay anyway
20:08 <+bridge> [ddnet] <deen> I noticed I don't care much about input delay after a certain level, also barely notice the difference between 75 and 144 hz, only when I look closely. But maybe it's because I don't game enough
20:08 <+bridge> [ddnet] <Jupstar ‚ú™> yeah xd
20:08 <+bridge> [ddnet] <Ryozuki> i think u can notice a lot up to 120hz
20:08 <+bridge> [ddnet] <Ryozuki> alteast i do
20:08 <+bridge> [ddnet] <Jupstar ‚ú™> i even think 165 sucks against 240hz
20:08 <+bridge> [ddnet] <deen> but my old TV as screen had horrible delay, 50-100 ms, that felt like being on a remote server
20:08 <+bridge> [ddnet] <Ryozuki> 240hz sounds crazy given that most games dont pass 100 fps
20:09 <+bridge> [ddnet] <Jupstar ‚ú™> bro I AM crazy
20:09 <+bridge> [ddnet] <Ryozuki> what i want is firefox to fix their shit
20:09 <+bridge> [ddnet] <Ryozuki> if u have 2 browsers
20:09 <+bridge> [ddnet] <Ryozuki> and one is on a 60hz screen
20:09 <+bridge> [ddnet] <Ryozuki> the other on 144hz is fps locked
20:09 <+bridge> [ddnet] <Ryozuki> (on linux i3)
20:09 <+bridge> [ddnet] <Jupstar ‚ú™> i manually set the FPS in firefox
20:09 <+bridge> [ddnet] <Jupstar ‚ú™> bcs for me it capped to 60fps, very annoying
20:10 <+bridge> [ddnet] <Ryozuki> how?
20:10 <+bridge> [ddnet] <Ryozuki> it caps to 60fps for me too
20:10 <+bridge> [ddnet] <Ryozuki> when i have a tab on the 60hz display
20:10 <+bridge> [ddnet] <Ryozuki> (for all tabs)
20:10 <+bridge> [ddnet] <Jupstar ‚ú™> i just searched and found something on reddit, maybe i'll find it
20:10 <+bridge> [ddnet] <Ryozuki> :feelsbadman:
20:11 <+bridge> [ddnet] <Ryozuki> ddnet in 2022: Vulkan render and migration to postgresql
20:11 <+bridge> [ddnet] <Ryozuki> :greenthing:
20:11 <+bridge> [ddnet] <Kaan> why there is a bot tag
20:11 <+bridge> [ddnet] <Kaan> next to ur name
20:11 <+bridge> [ddnet] <Jupstar ‚ú™> i AM a bot
20:11 <+bridge> [ddnet] <Ryozuki> cuz he is on matrix
20:12 <+bridge> [ddnet] <Ryozuki> its a bridge bot
20:12 <+bridge> [ddnet] <Jupstar ‚ú™> layout.frame\_rate
20:12 <+bridge> [ddnet] <Jupstar ‚ú™> dunno if there were more configs
20:15 <+bridge> [ddnet] <Ryozuki> https://en.wikipedia.org/wiki/Bus_factor
20:15 <+bridge> [ddnet] <Ryozuki> funny term
20:15 <+bridge> [ddnet] <Ryozuki> what is ddnet's bus factor?
20:15 <+bridge> [ddnet] <Ryozuki> :monkalaugh:
20:16 <+bridge> [ddnet] <Ryozuki> > The term was first applied to software development, where a team member might create critical components by crafting code that performs well, but which also is unavailable to other team members, such as work that was undocumented, never shared, encrypted, obfuscated or not published. Thus a key component would be effectively lost as a direct consequence of the absence of that team member, making the member key. If this component was key t
20:27 <+bridge> [ddnet] <Ryozuki> https://news.ycombinator.com/item?id=30163983
20:27 <+bridge> [ddnet] <Ryozuki> lol
21:12 <+bridge> [ddnet] <deen> It's a good time for DB startups
21:13 <+bridge> [ddnet] <deen> Also, I only just realized SAP's MaxDB is written by the same guy who made MySQL and MariaDB (all named after his children Max, My and Maria)
21:21 <+bridge> [ddnet] <Jupstar ‚ú™> interesting fun fact indeed, who names their kid My tho xd
21:21 <+bridge> [ddnet] <Jupstar ‚ú™> i thought it's litteraly "my sql"
23:33 <+bridge> [ddnet] <chillerdragon> [Jupstar ‚ú™](https://matrix.to/#/@jupeyy:matrix.org)\: is convicted botter
23:33 <+bridge> [ddnet] <chillerdragon> (@Kaan)
