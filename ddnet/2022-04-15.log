00:18 <+bridge> [ddnet] <nouaa> https://tenor.com/view/oh-my-gif-25288613
01:01 <+bridge> [ddnet] <everestkio> @c0d3d3v do you have some time to devote to me that I want to set vscode well?
01:03 <+bridge> [ddnet] <everestkio> who use vscode for dev ddnet client?
01:42 <+bridge> [ddnet] <everestkio> https://cdn.discordapp.com/attachments/293493549758939136/964309645055393852/unknown.png
02:01 <+bridge> [ddnet] <everestkio> Solution: gdb not installed lol
04:46 <+bridge> [ddnet] <·∂∞¬∞KonÕßsti> Is it possible to restore the last save i used on my lan Server? I accidently turned on super which would break all the switches etc
04:48 <+bridge> [ddnet] <·∂∞¬∞KonÕßsti> And i cant just restart the map, the testrun is almost at 4h :monkaS:
08:52 <+bridge> [ddnet] <deen> Maybe we print it out on black console window or in the logfile if you have one activated. Otherwise a backup of the ddnet-scores sqlite file
09:22 <+ChillerDragon> Wait so you can not cheat on maps with switchers without breaking them? 
10:18 <+bridge> [ddnet] <chillerdragon> ```C
10:18 <+bridge> [ddnet] <chillerdragon> pFont->m_TextureData[0] = new unsigned char[pFont->m_CurTextureDimensions[0] * pFont->m_CurTextureDimensions[0]];
10:18 <+bridge> [ddnet] <chillerdragon> void *pTmpTextData = malloc(NewTextureSize);
10:18 <+bridge> [ddnet] <chillerdragon> mem_copy(pTmpTextData, aTextureData[0], NewTextureSize);
10:18 <+bridge> [ddnet] <chillerdragon> ```What happens if one allocates memory to a local scoped pointer then memcopy to another variable.Also I do not understand how this code is not allocating twice or freeing. Im really confused
10:18 <+bridge> [ddnet] <chillerdragon> https://github.com/ChillerDragon/ddnet/blob/e54da1b396c1f6c11d9f7b01bdc375eac7fa7fcc/src/engine/client/text.cpp#L723
10:18 <+bridge> [ddnet] <chillerdragon> https://github.com/ChillerDragon/ddnet/blob/e54da1b396c1f6c11d9f7b01bdc375eac7fa7fcc/src/engine/client/text.cpp#L325
10:20 <+bridge> [ddnet] <Jupstar> ? XD
10:21 <+bridge> [ddnet] <Jupstar> the graphics instance deletes the pointer in the backend
10:21 <+bridge> [ddnet] <Jupstar> its just for uploading to the GPU
10:21 <+bridge> [ddnet] <chillerdragon> but isnt it doing new and then malloc on the same var ?
10:22 <+bridge> [ddnet] <Jupstar> malloc is for backend
10:22 <+bridge> [ddnet] <Jupstar> new is for local data
10:22 <+bridge> [ddnet] <chillerdragon> i dont get shit
10:22 <+bridge> [ddnet] <chillerdragon> but you saying that the backend deletes the pointer is very helpful alr
10:22 <+bridge> [ddnet] <chillerdragon> is that in ddnet code?
10:22 <+bridge> [ddnet] <Jupstar> mem_copy(pTmpTextData, aTextureData[0], NewTextureSize);
10:22 <+bridge> [ddnet] <Jupstar> mem_copy(pTmpTextData, aTextureData[0], NewTextureSize);
10:22 <+bridge> [ddnet] <Jupstar> mem_copy(pTmpTextData, aTextureData[0], NewTextureSize);
10:22 <+bridge> [ddnet] <Jupstar> mem_copy(pTmpTextData, aTextureData[0], NewTextureSize);
10:22 <+bridge> [ddnet] <Jupstar> mem_copy(pTmpTextData, aTextureData[0], NewTextureSize);
10:22 <+bridge> [ddnet] <chillerdragon> yes
10:22 <+bridge> [ddnet] <Jupstar> new is local
10:22 <+bridge> [ddnet] <Jupstar> and copied to the malloc data
10:22 <+bridge> [ddnet] <Jupstar> and malloc is used for backend
10:23 <+bridge> [ddnet] <chillerdragon> what does local even mean
10:23 <+bridge> [ddnet] <Jupstar> yes its ddnet code
10:23 <+bridge> [ddnet] <chillerdragon> do you have some url
10:23 <+bridge> [ddnet] <Jupstar> its not sent to GPU
10:23 <+bridge> [ddnet] <chillerdragon> or func
10:23 <+bridge> [ddnet] <Jupstar> its just to prepare the texture if the font texture resizes
10:23 <+bridge> [ddnet] <Jupstar> so it can reupload the whole texture at once
10:24 <+bridge> [ddnet] <chillerdragon> So where in the code does it get freed?
10:24 <+bridge> [ddnet] <Jupstar> imagine it like this:
10:24 <+bridge> [ddnet] <Jupstar> 
10:24 <+bridge> [ddnet] <Jupstar> u have font texture
10:24 <+bridge> [ddnet] <Jupstar> 
10:24 <+bridge> [ddnet] <Jupstar> u add a "A" to it
10:25 <+bridge> [ddnet] <Jupstar> 
10:25 <+bridge> [ddnet] <Jupstar> you want to keep the A for yourself, so if a "B" is added you still have the "A" (even if B increases the font texture)
10:25 <+bridge> [ddnet] <Jupstar> 
10:25 <+bridge> [ddnet] <Jupstar> 
10:25 <+bridge> [ddnet] <Jupstar> 
10:25 <+bridge> [ddnet] <Jupstar> but the GPU generally deletes texture data and it also wouldnbt be thread safe to write to data that you reading from in the GPU thread
10:25 <+bridge> [ddnet] <Jupstar> so you need to allocate temporary storage
10:26 <+bridge> [ddnet] <chillerdragon> so if i dont use a GPU i have a memory leak?
10:26 <+bridge> [ddnet] <Jupstar> yes
10:26 <+bridge> [ddnet] <Jupstar> i told ya like 5 times implement a null backend
10:26 <+bridge> [ddnet] <Jupstar> its 1000 times cleaner
10:26 <+bridge> [ddnet] <Jupstar> that your weird graphics null
10:27 <+bridge> [ddnet] <chillerdragon> null backend like next to opengl or what
10:27 <+bridge> [ddnet] <Jupstar> that annoys me every 5 days i change something in the header files xD
10:27 <+bridge> [ddnet] <Jupstar> yes
10:27 <+bridge> [ddnet] <chillerdragon> yea i noticed
10:27 <+bridge> [ddnet] <Jupstar> a backend that just doesnt use a GPU
10:27 <+bridge> [ddnet] <chillerdragon> thanks for maintaining that
10:27 <+bridge> [ddnet] <chillerdragon> yea sounds hackerman
10:27 <+bridge> [ddnet] <chillerdragon> but also hard
10:27 <+bridge> [ddnet] <Jupstar> not really
10:27 <+bridge> [ddnet] <Jupstar> bcs u can act like a opengl 1.x backend
10:27 <+bridge> [ddnet] <Jupstar> but even a opengl 3.3 backend should be ez
10:28 <+bridge> [ddnet] <Jupstar> bcs it has no logic
10:28 <+bridge> [ddnet] <Jupstar> it just has to make sure to delete pointers
10:28 <+bridge> [ddnet] <Jupstar> rest basically doesnt matter
10:28 <+bridge> [ddnet] <chillerdragon> yea sounds cool
10:28 <+bridge> [ddnet] <chillerdragon> and you say its easier maintaince
10:28 <+bridge> [ddnet] <Jupstar> yeah i think so
10:28 <+bridge> [ddnet] <Jupstar> opengl 1.x backend barely ever changed
10:28 <+bridge> [ddnet] <chillerdragon> yea wont happen today
11:16 <+bridge> [ddnet] <·∂∞¬∞KonÕßsti> Its printed in terminal but i got no clue how to use that output
11:16 <+bridge> [ddnet] <·∂∞¬∞KonÕßsti> no, once u use super it will reset all switches. Pretty annoying
12:03 <+bridge> [ddnet] <c0d3d3v> have you fixed it? I do not use windows so you have to look it up on the web. Vscode community is big, so you will find out quickly how to compile c++
12:06 <+bridge> [ddnet] <c0d3d3v> only if you are alone in a team
12:06 <+bridge> [ddnet] <c0d3d3v> add a dummy to your team
12:06 <+bridge> [ddnet] <·∂∞¬∞KonÕßsti> Funny... Its a solo map
12:06 <+bridge> [ddnet] <c0d3d3v> xD use hacks
12:07 <+bridge> [ddnet] <c0d3d3v> or unsolo the server
12:07 <+bridge> [ddnet] <·∂∞¬∞KonÕßsti> just fix it :pepe:
12:07 <+bridge> [ddnet] <c0d3d3v> its because the team is empty then the server thinks you join a new team
12:08 <+bridge> [ddnet] <c0d3d3v> if you unsolo the server it would work with a dummy
12:09 <+bridge> [ddnet] <c0d3d3v> or we would have to reserve the team only for you if you super
12:09 <+bridge> [ddnet] <c0d3d3v> we would have to lock that team anyway, because new players would use your team o.O
12:09 <+bridge> [ddnet] <·∂∞¬∞KonÕßsti> Its testing, i dont see a problem with that
12:11 <+bridge> [ddnet] <c0d3d3v> and when would the reservation end?
12:12 <+bridge> [ddnet] <c0d3d3v> and would it only be for solo server or also for team server
12:13 <+bridge> [ddnet] <·∂∞¬∞KonÕßsti> Why would u be alone in a team on a non solo server :troll:
12:24 <+bridge> [ddnet] <c0d3d3v> so the reservation would end as soon as you unsuper or disconnect?
12:38 <+bridge> [ddnet] <FlowerFell-Sans> Will DDNet update to 0.7 future?
12:38 <+bridge> [ddnet] <c0d3d3v> why would we xD What do you miss from 0.7 features?
12:40 <+bridge> [ddnet] <Jupstar> all cool features are actually quality of life stuff by robyte üòÑ
12:40 <+bridge> [ddnet] <c0d3d3v> Its not impossible. We already have most of the translation layers, we just would need to invert them. but its also not necessary.
12:41 <+bridge> [ddnet] <c0d3d3v> robyte could also implement them for us in our client xD
12:41 <+bridge> [ddnet] <Jupstar> oy could also just make robyte maintainer and not care about teeworlds anymore
12:41 <+bridge> [ddnet] <Jupstar> and make vanilla mod friendly
12:41 <+bridge> [ddnet] <c0d3d3v> ^^
12:41 <+bridge> [ddnet] <Jupstar> and great again
12:41 <+bridge> [ddnet] <Jupstar> xd
13:06 <+ChillerDragon> @c0d3d3v havent played ctf in years thats what i miss
13:07 <+ChillerDragon> also having one united community makes sense. We currently have two playerbases that can not really share all servers
13:14 <+bridge> [ddnet] <c0d3d3v> Mh yes Its anoying that 0.7 players can join owr server, but not the other way arround. the question is, should we also add a translation layer in the client so you can also join 0.7 server xD because there will always be 0.6 servers out there?
13:15 <+bridge> [ddnet] <c0d3d3v> sorry I did not notice that I had german text in the screenshot xD But since the errors are in german and only vs-code IDE stuff (problems) are in german its not that bad.
13:16 <+bridge> [ddnet] <c0d3d3v> sorry I did not notice that I had german text in the screenshot xD But since the errors are in english and only vs-code IDE stuff (problems) are in german its not that bad.
13:16 <+bridge> [ddnet] <·∂∞¬∞KonÕßsti> Yes
13:17 <+bridge> [ddnet] <c0d3d3v> sorry I did not notice that I had german text in the screenshot xD But since the errors are in english and only vs-code IDE stuff (and some linter problems) are in german its not that bad.
13:21 <+bridge> [ddnet] <c0d3d3v> but are there really ctf players xD
13:21 <+bridge> [ddnet] <c0d3d3v> https://cdn.discordapp.com/attachments/293493549758939136/964485516491890738/unknown.png
13:21 <+bridge> [ddnet] <c0d3d3v> I think ctf is more like a lan party thing
13:34 <+bridge> [ddnet] <c0d3d3v> you would probalby need a notification system "found a ctf player online, now, run to have a nice 1vs1 ctf game"
13:35 <+bridge> [ddnet] <c0d3d3v> 97 servers xD for a hand full players
13:38 <+bridge> [ddnet] <FlowerFell-Sans> also, my friends..
13:38 <+bridge> [ddnet] <chillerdragon> There is no need for a translation layer just upgrade to 0.7 is fine there is already bridge degrees
13:38 <+bridge> [ddnet] <chillerdragon> Severe
13:39 <+bridge> [ddnet] <FlowerFell-Sans> yeah
13:39 <+bridge> [ddnet] <Souly> chillernobo
13:39 <+bridge> [ddnet] <c0d3d3v> and what about the other 0.6 servers?
13:39 <+bridge> [ddnet] <c0d3d3v> ictf
13:39 <+bridge> [ddnet] <c0d3d3v> icity and so on
13:39 <+bridge> [ddnet] <chillerdragon> City is Bridge
13:40 <+bridge> [ddnet] <c0d3d3v> kog
13:40 <+bridge> [ddnet] <FlowerFell-Sans> ictf already on 0.7
13:40 <+bridge> [ddnet] <chillerdragon> Ictf Players are mostly 0.7 anyways
13:40 <+bridge> [ddnet] <chillerdragon> Kog is bridges
13:40 <+bridge> [ddnet] <FlowerFell-Sans> kog already on 0.7
13:40 <+bridge> [ddnet] <FlowerFell-Sans> kog already on 0.6<->0.7
13:40 <+bridge> [ddnet] <chillerdragon> This discussion is useless. It‚Äôs not a design decision. It‚Äôs only about developer time
13:40 <+bridge> [ddnet] <Souly> bridge servers usually have bad 0.7 support
13:41 <+bridge> [ddnet] <c0d3d3v> mh if ddnet would switch to 0.7 all others would probably too, because we have all the users
13:41 <+bridge> [ddnet] <chillerdragon> There is not a single relevant server in 0.6
13:42 <+bridge> [ddnet] <FlowerFell-Sans> what about DDNet-PvP? 
13:42 <+bridge> [ddnet] <FlowerFell-Sans> iCTF, iTDM, iDM, gCTF, gTDM, gDM, Catch, zCatch.
13:42 <+bridge> [ddnet] <FlowerFell-Sans> They all on it.
13:42 <+bridge> [ddnet] <chillerdragon> Yes
13:42 <+bridge> [ddnet] <chillerdragon> Maybe catch not
13:42 <+bridge> [ddnet] <chillerdragon> But that will come with time
13:42 <+bridge> [ddnet] <FlowerFell-Sans> TsFreddie forgot to add it
13:42 <+bridge> [ddnet] <chillerdragon> Also no bomb
13:42 <+bridge> [ddnet] <chillerdragon> Or ball
13:43 <+bridge> [ddnet] <FlowerFell-Sans> but it already on gamemodes.h
13:43 <+bridge> [ddnet] <chillerdragon> If it had players it had severs
13:44 <+bridge> [ddnet] <FlowerFell-Sans> I think 0.7 should be the next step, not the last step
13:44 <+bridge> [ddnet] <chillerdragon> ??
13:44 <+bridge> [ddnet] <c0d3d3v> then get started with it if you have time xD
13:50 <+bridge> [ddnet] <chillerdragon> U
13:50 <+bridge> [ddnet] <fokkonaut> its actually not that hard adding 0.7 support to ddnet client
13:51 <+bridge> [ddnet] <FlowerFell-Sans> F-Client
13:51 <+bridge> [ddnet] <chillerdragon> Then go
13:51 <+bridge> [ddnet] <FlowerFell-Sans> gu
13:51 <+bridge> [ddnet] <FlowerFell-Sans> guess what, nobody play on 0.7
14:11 <+bridge> [ddnet] <FlowerFell-Sans> sad
14:12 <+bridge> [ddnet] <Ryozuki> https://www.bleepingcomputer.com/news/security/google-chrome-emergency-update-fixes-zero-day-used-in-attacks/
14:13 <+bridge> [ddnet] <Cipy29> Anyone here got opinions on typed vs untyped programming languages or do you know some place where I can find a good read about this? I'm not sure how come both typed and untyped languages are still used.
14:16 <+bridge> [ddnet] <ReiTW> chillerdragon: idk which city you're talking about, probably iF|City but it's not bridged. Bombay too
14:17 <+bridge> [ddnet] <everestkio> i was on linux
14:17 <+bridge> [ddnet] <everestkio> im trying to create a dual boot station
14:17 <+bridge> [ddnet] <everestkio> i want kali linux :p
14:23 <+bridge> [ddnet] <Ryozuki> my opinion is that, the more strongly typed the better
14:23 <+bridge> [ddnet] <Ryozuki> it allows you to reduce bugs at compile time rather than runtime
14:28 <+bridge> [ddnet] <bencie> can anyone give me a tip of how should i reduce my gfx mem usage? i only have around 20 assets and 60 teeskins, but nothing i did reduced it, so i constantly crash whenever i try to change assets or do anything basically, alot of random crashes
14:29 <+bridge> [ddnet] <everestkio> when i try to install laki from the offical website üò†
14:29 <+bridge> [ddnet] <everestkio> https://cdn.discordapp.com/attachments/293493549758939136/964502605646675978/unknown.png
14:29 <+bridge> [ddnet] <everestkio> operation failed incomplete file
14:39 <+bridge> [ddnet] <Learath2> Untyped languages make programming very accessible, and very quick, that's why they still exist
14:42 <+bridge> [ddnet] <Smetanolub> WHY
14:42 <+bridge> [ddnet] <FlowerFell-Sans> #4391
14:42 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/pull/4391
14:42 <+bridge> [ddnet] <bencie> #4365
14:42 <+bridge> [ddnet] <DDNet> https://github.com/ddnet/ddnet/issues/4365
14:55 <+bridge> [ddnet] <5. blocker> chillerdragon
15:00 <+ChillerDragon> da?
15:00 <+ChillerDragon> doesnt ifcity have 0.7 servers?
15:01 <+ChillerDragon> yea but bombay is a trol server
15:02 <+bridge> [ddnet] <ReiTW> the 0.7 server is not the official iF|City
15:03 <+bridge> [ddnet] <ReiTW> the official 0.7 iF|City is down & is not bridged, it's a 0.7 only version
15:53 <+ChillerDragon> oh i see 
15:53 <+ChillerDragon> f city
18:05 <+bridge> [ddnet] <c0d3d3v> are you on latest master?
18:05 <+bridge> [ddnet] <bencie> yes
18:05 <+bridge> [ddnet] <bencie> im on nightly
18:06 <+bridge> [ddnet] <c0d3d3v> do you want to try implementing the 0.7 protokol in our client or you want to wait till I do it?
18:07 <+bridge> [ddnet] <c0d3d3v> if you send me your assets folder I test out if it works for me. I also have a weak CPU
18:07 <+bridge> [ddnet] <bencie> sure, you only need assets, or downloadedskins/maps/ smth else too?
18:13 <+bridge> [ddnet] <c0d3d3v> assets tab only loads things from assets folder, and you said it crashes if you open this tab. So I would only try this first
18:13 <+bridge> [ddnet] <c0d3d3v> assets tab only loads things from assets folder, and you said it crashes if you open this tab. So I would only try this first @bencie
18:14 <+bridge> [ddnet] <c0d3d3v> but you can send all if you want üòÑ
18:16 <+bridge> [ddnet] <c0d3d3v> does it work if you just rename your teeowrlds folder to teeworlds_backup ?
18:17 <+bridge> [ddnet] <bencie> rename %appdata%\teeworlds folder to teeworlds_backup?
18:18 <+bridge> [ddnet] <c0d3d3v> we could also unload the images that get loaded into gfx after closing assets tab, but then we would have to laod them every time you open the tab. Or we can also only load the images visible in the tab and lazy load on scrolling
18:19 <+bridge> [ddnet] <c0d3d3v> %appdata%\teeworlds  to %appdata%\teeworlds_backup
18:19 <+bridge> [ddnet] <c0d3d3v> just en empty normal folder üòÑ
18:20 <+bridge> [ddnet] <bencie> no it completely went down with that foldero ff
18:20 <+bridge> [ddnet] <bencie> 0.2 gb tex, 0 for all others
18:20 <+bridge> [ddnet] <bencie> 0.2 gb tex, 0kb for all others
18:20 <+bridge> [ddnet] <bencie> no it completely went down with that folder renamed
18:21 <+bridge> [ddnet] <c0d3d3v> and before?
18:21 <+bridge> [ddnet] <Jupstar> is there any high res one?
18:22 <+bridge> [ddnet] <Jupstar> high res always kills your VRAM
18:22 <+bridge> [ddnet] <bencie> before 1.5gb tex and cant remember other 3
18:22 <+bridge> [ddnet] <bencie> yes there are
18:22 <+bridge> [ddnet] <bencie> like
18:22 <+bridge> [ddnet] <bencie> 10-15 highres skins
18:22 <+bridge> [ddnet] <Jupstar> yeah better dont use them
18:22 <+bridge> [ddnet] <bencie> okay ^^
18:22 <+bridge> [ddnet] <bencie> ill try
18:23 <+bridge> [ddnet] <Jupstar> if you only on full hd 256x128 should be ok
18:23 <+bridge> [ddnet] <Jupstar> 
18:23 <+bridge> [ddnet] <Jupstar> 1024x512 is really max u should ever encounter
18:23 <+bridge> [ddnet] <Jupstar> anything above is for 16k screens
18:23 <+bridge> [ddnet] <bencie> i had 4k skins
18:23 <+bridge> [ddnet] <bencie> :monkaLaugh:
18:24 <+bridge> [ddnet] <Jupstar> xd
18:24 <+bridge> [ddnet] <bencie> lemme try to sort all of them out
18:24 <+bridge> [ddnet] <c0d3d3v> lol first time I see that there is a color square if you have debug on ^^
18:24 <+bridge> [ddnet] <c0d3d3v> https://cdn.discordapp.com/attachments/293493549758939136/964561813402431518/unknown.png
18:26 <+bridge> [ddnet] <bencie> that was it
18:26 <+bridge> [ddnet] <bencie> thanks guys
18:26 <+bridge> [ddnet] <bencie> its way way down now
18:27 <+bridge> [ddnet] <bencie> i still have 1.5gb for buff tho
18:28 <+bridge> [ddnet] <Jupstar> buffer is mostly map data
18:28 <+bridge> [ddnet] <Jupstar> maybe menu background if u use that
18:28 <+bridge> [ddnet] <bencie> default one
18:28 <+bridge> [ddnet] <Jupstar> or are u on one of the mega maps rn?
18:28 <+bridge> [ddnet] <Jupstar> artic frost or whatever
18:28 <+bridge> [ddnet] <bencie> nah im in server browser
18:29 <+bridge> [ddnet] <Ravie> so I was kinda right
18:29 <+bridge> [ddnet] <bencie> yea kinda, but it wasn't cuz of the download skins
18:29 <+bridge> [ddnet] <Jupstar> server browser but after joining a map?
18:29 <+bridge> [ddnet] <Ravie> ye, but still about 4k skins xD
18:29 <+bridge> [ddnet] <bencie> yes haha
18:29 <+bridge> [ddnet] <bencie> im not in any servers
18:30 <+bridge> [ddnet] <Jupstar> 4k skins are really alot
18:30 <+bridge> [ddnet] <Jupstar> 
18:30 <+bridge> [ddnet] <Jupstar> see it like this
18:30 <+bridge> [ddnet] <Jupstar> 
18:30 <+bridge> [ddnet] <Jupstar> if you launch the 4k skin completly fullscreen on your 4k monitor, it would fill every single pixel
18:30 <+bridge> [ddnet] <Jupstar> and only in width
18:30 <+bridge> [ddnet] <Jupstar> since most have 16:9 aspect ratios
18:30 <+bridge> [ddnet] <c0d3d3v> for me it stays 0 even on arctic forest
18:30 <+bridge> [ddnet] <Jupstar> it only shows it in vulkan
18:31 <+bridge> [ddnet] <Jupstar> try changing the menu background and reload the client
18:31 <+bridge> [ddnet] <Jupstar> or did you missread maybe?
18:31 <+bridge> [ddnet] <Jupstar> 1.5mb maybe?
18:32 <+bridge> [ddnet] <c0d3d3v> yes 500000k on arctic and does not unload in server browser
18:32 <+bridge> [ddnet] <Jupstar> https://cdn.discordapp.com/attachments/293493549758939136/964563804702769212/unknown.png
18:32 <+bridge> [ddnet] <bencie> https://cdn.discordapp.com/attachments/293493549758939136/964563808217595974/unknown.png
18:32 <+bridge> [ddnet] <c0d3d3v> next map only adds to it
18:32 <+bridge> [ddnet] <Jupstar> after clean client start? wtf
18:32 <+bridge> [ddnet] <c0d3d3v> mh no I was wrong
18:32 <+bridge> [ddnet] <bencie> https://cdn.discordapp.com/attachments/293493549758939136/964563979995332658/unknown.png
18:32 <+bridge> [ddnet] <c0d3d3v> next map unloads it
18:32 <+bridge> [ddnet] <bencie> this is after restart
18:33 <+bridge> [ddnet] <c0d3d3v> lol
18:33 <+bridge> [ddnet] <Jupstar> wtf is it loading xD
18:34 <+bridge> [ddnet] <Jupstar> let me check if it reads uninitialized values
18:34 <+bridge> [ddnet] <Jupstar> ok no its 0 initialized
18:35 <+bridge> [ddnet] <Jupstar> can you try with teeworlds_backup ?
18:35 <+bridge> [ddnet] <Jupstar> and see if a clean config loads less
18:35 <+bridge> [ddnet] <bencie> ok i got it actually.. there was a huge text file named consolelog.txt, moving that out cleared it out
18:35 <+bridge> [ddnet] <bencie> cuz i save all my console outputs to that file
18:36 <+bridge> [ddnet] <bencie> ok nvm
18:36 <+bridge> [ddnet] <bencie> actually
18:36 <+bridge> [ddnet] <bencie> didnt change shit
18:36 <+bridge> [ddnet] <Jupstar> would be really weird
18:36 <+bridge> [ddnet] <Jupstar> try a clean config
18:36 <+bridge> [ddnet] <Jupstar> i wonder if thats caused by your settings really
18:36 <+bridge> [ddnet] <Jupstar> buff should only be affected by buffered stuff
18:36 <+bridge> [ddnet] <Jupstar> 
18:36 <+bridge> [ddnet] <Jupstar> so maybe displayed text, displayed quads or tile layers
18:40 <+bridge> [ddnet] <bencie> give me a min
18:43 <+bridge> [ddnet] <bencie> https://cdn.discordapp.com/attachments/293493549758939136/964566733060993034/unknown.png
18:44 <+bridge> [ddnet] <bencie> with clean appdata folder
18:44 <+bridge> [ddnet] <Jupstar> enable vulkan
18:44 <+bridge> [ddnet] <bencie> https://cdn.discordapp.com/attachments/293493549758939136/964566991040036954/unknown.png
18:45 <+bridge> [ddnet] <Jupstar> ok much smaller and more ledit
18:45 <+bridge> [ddnet] <Jupstar> is it just the config?
18:45 <+bridge> [ddnet] <Jupstar> or anything else
18:45 <+bridge> [ddnet] <Jupstar> if just config, just send it to me pm
18:46 <+bridge> [ddnet] <bencie> this is with default config
18:46 <+bridge> [ddnet] <Jupstar> but with normal config dir?
18:46 <+bridge> [ddnet] <Jupstar> just config itself changed?
18:47 <+bridge> [ddnet] <bencie> no this is with everything removed from %appdata%\teeworlds since i renamed that folder
18:49 <+bridge> [ddnet] <Jupstar> ok maybe just copy your old config and see if thats enough, even tho it doesnt really make sense in my brain xd
18:49 <+bridge> [ddnet] <bencie> settings_ddnet config?
18:50 <+bridge> [ddnet] <Jupstar> yes
18:50 <+bridge> [ddnet] <bencie> kk
18:50 <+bridge> [ddnet] <bencie> same as before
18:51 <+bridge> [ddnet] <Jupstar> so its some files
18:52 <+bridge> [ddnet] <Jupstar> really weird, do you use a entities background map?`
18:52 <+bridge> [ddnet] <bencie> yes, the mapfile is 1mb
18:52 <+bridge> [ddnet] <Jupstar> oh thats quite a lot
18:52 <+bridge> [ddnet] <Jupstar> maybe its thast
18:53 <+bridge> [ddnet] <bencie> seems like it is
18:53 <+bridge> [ddnet] <bencie> i moved that map out of maps folder
18:53 <+bridge> [ddnet] <bencie> with my old teeworlds folder
18:54 <+bridge> [ddnet] <bencie> 300mb tex, 24mb buff
18:56 <+bridge> [ddnet] <Jupstar> rip üòÑ
18:56 <+bridge> [ddnet] <Jupstar> maybe remove the tile layers that are bigger than 1k tiles
18:56 <+bridge> [ddnet] <bencie> ill try
18:56 <+bridge> [ddnet] <Jupstar> since it only loads the background from the map anyway
19:03 <+bridge> [ddnet] <bencie> 1.5g still with only quads
19:03 <+bridge> [ddnet] <bencie> 861kb filesize rn
19:05 <+bridge> [ddnet] <Ryozuki> ram is there to be used
19:05 <+bridge> [ddnet] <Ryozuki> :GIGACHAD:
19:06 <+bridge> [ddnet] <Jupstar> there must be some layer that huge
19:06 <+bridge> [ddnet] <Jupstar> gamelayer or whatever
19:06 <+bridge> [ddnet] <bencie> i deleted all tiles from game layer, but quad layer is huge with just a repeating pattern
19:06 <+bridge> [ddnet] <Jupstar> its not about tiles
19:07 <+bridge> [ddnet] <Jupstar> its about the size
19:07 <+bridge> [ddnet] <Jupstar> width & height
19:07 <+bridge> [ddnet] <bencie> ah yeah i just noticed
19:07 <+bridge> [ddnet] <bencie> 2 layers 5k x 3k
19:07 <+bridge> [ddnet] <Jupstar> remove those and it should shrink
19:11 <+bridge> [ddnet] <bencie> yea, thanks jupstar <3
22:26 <+bridge> [ddnet] <Patiga> @Not Keks the map view website uses opengl, right? My main problem rn is that when using webgl with the wgpu library it doesn't offer me a linear color space, because webgl is srgb-only apparently. do you know how the map viewer solves this?
22:40 <+bridge> [ddnet] <plsplsplslol> if you do callvote option "name of option" then the second argument isn't an id
22:53 <+bridge> [ddnet] <Jupstar> it uses webgl2 with a translation layer from GLES3
22:53 <+bridge> [ddnet] <Jupstar> 
22:53 <+bridge> [ddnet] <Jupstar> it simply garantuees it i guess 
22:53 <+bridge> [ddnet] <Jupstar> 
22:53 <+bridge> [ddnet] <Jupstar> 
22:53 <+bridge> [ddnet] <Jupstar> can you list all available modes?
22:56 <+bridge> [ddnet] <Patiga> the list of available formats for the surface is quite short, only `Rgba8UnormSrgb`. although tbf the webgl backend has only second-class support and made by one person iirc
22:57 <+bridge> [ddnet] <Jupstar> but that sounds correct
22:57 <+bridge> [ddnet] <Jupstar> forget about linear and non linear
22:57 <+bridge> [ddnet] <Jupstar> its actually about UNORM
22:57 <+bridge> [ddnet] <Jupstar> vs SRGB
22:57 <+bridge> [ddnet] <Jupstar> UNORM = the dev has to care
22:57 <+bridge> [ddnet] <Jupstar> SRGB = give me some fancy curved color
22:58 <+bridge> [ddnet] <Jupstar> u need unorn
22:58 <+bridge> [ddnet] <Jupstar> u need unorm
22:58 <+bridge> [ddnet] <Patiga> oh, I didn't know
22:58 <+bridge> [ddnet] <Patiga> no, I only knew about that srgb scaling that is basically ^2.2
22:58 <+bridge> [ddnet] <Patiga> for rgb, not a
22:59 <+bridge> [ddnet] <Jupstar> https://camo.githubusercontent.com/bdfd0d849b9bbeb0faa5a8e806e22bee91f3d0f5185959c2483caa68c5080547/687474703a2f2f692e696d6775722e636f6d2f5563346e394f4f2e706e67
22:59 <+bridge> [ddnet] <Jupstar> https://camo.githubusercontent.com/0484adde06e79ab59e459cd3edfd7b8dd8e49bb6ac766dd223775c020657b05c/687474703a2f2f692e696d6775722e636f6d2f3375574379676c2e706e67
23:00 <+bridge> [ddnet] <Jupstar> this is basically the difference
23:01 <+bridge> [ddnet] <Jupstar> since we dont do math with the textures and our textures are just plain colors, we need unorm
23:01 <+bridge> [ddnet] <Jupstar> else the backend would expect smth like in the curve
23:03 <+bridge> [ddnet] <Patiga> hm, let me check if I can use `Bgra8Unorm` and `Bgra8UnormSrgb` changeably on native
23:04 <+bridge> [ddnet] <Jupstar> maybe one specifies the color space
23:04 <+bridge> [ddnet] <Jupstar> its a bit confusing but there is a color format and a color space
23:05 <+bridge> [ddnet] <Patiga> > The texture format of the swap chain. The only formats that are guaranteed are Bgra8Unorm and Bgra8UnormSrgb
23:05 <+bridge> [ddnet] <Patiga> thats the textureformat that is more restrictive on webgl (relevant issue: https://github.com/gfx-rs/wgpu/issues/1925)
23:06 <+bridge> [ddnet] <Jupstar> Bgra8Unorm
23:06 <+bridge> [ddnet] <Jupstar> Blue, green, red, and alpha channels. 8 bit integer per channel. [0, 255] converted to/from float [0, 1] in shader.
23:06 <+bridge> [ddnet] <Jupstar> 
23:06 <+bridge> [ddnet] <Jupstar> Bgra8UnormSrgb
23:06 <+bridge> [ddnet] <Jupstar> Blue, green, red, and alpha channels. 8 bit integer per channel. Srgb-color [0, 255] converted to/from linear-color float [0, 1] in shader.
23:07 <+bridge> [ddnet] <Jupstar> MHHH
23:07 <+bridge> [ddnet] <Jupstar> do they mean fragment shader?
23:07 <+bridge> [ddnet] <Jupstar> its quite possible the presentation engine wants SRGB
23:07 <+bridge> [ddnet] <Jupstar> i'd test the first tho
23:07 <+bridge> [ddnet] <Jupstar> sounds more reasonable
23:07 <+bridge> [ddnet] <Jupstar> 
23:07 <+bridge> [ddnet] <Jupstar> 
23:08 <+bridge> [ddnet] <Jupstar> in vulkan its a bit different
23:08 <+bridge> [ddnet] <Jupstar> 
23:08 <+bridge> [ddnet] <Jupstar> you specify the color space explictly
23:08 <+bridge> [ddnet] <Jupstar> kinda makes more sense
23:08 <+bridge> [ddnet] <Patiga> the first one is the one I use on native, there it looks exactly correct (maybe you remember that I needed your help to realize that I needed to specify that texture format to not use srgb ^^)
23:09 <+bridge> [ddnet] <Jupstar> so that works, then use it xD
23:09 <+bridge> [ddnet] <Patiga> aah yeah, but its not available on webgl
23:09 <+bridge> [ddnet] <Jupstar> ah ok
23:09 <+bridge> [ddnet] <Patiga> :/
23:10 <+bridge> [ddnet] <Jupstar> so wait
23:10 <+bridge> [ddnet] <Jupstar> webgl over webgpu?
23:10 <+bridge> [ddnet] <Jupstar> or native webgl
23:10 <+bridge> [ddnet] <Patiga> it compiles to native webgl, not webgpu
23:10 <+bridge> [ddnet] <Jupstar> but you use this gpu.rs thing?
23:10 <+bridge> [ddnet] <Patiga> yes
23:11 <+bridge> [ddnet] <Patiga> https://crates.io/crates/wgpu
23:11 <+bridge> [ddnet] <Jupstar> then i'd use Rg8Unorm i think
23:11 <+bridge> [ddnet] <Jupstar> for textures it only makes sense to use RGB anyway
23:11 <+bridge> [ddnet] <Jupstar> the framebuffer is not in your hand on opengl normally anyway
23:12 <+bridge> [ddnet] <Jupstar> rgba*
23:12 <+bridge> [ddnet] <Jupstar> Rgba8Unorm
23:12 <+bridge> [ddnet] <Patiga> its a webgpu crate, allows you to run it on vulkan, dx12, metal, webgpu, but also dx11 and gl as secondary-class support https://docs.rs/wgpu/latest/wgpu/struct.Backends.html
23:12 <+bridge> [ddnet] <Jupstar> do you have a screenshot?
23:13 <+bridge> [ddnet] <Patiga> of a rendered example?
23:13 <+bridge> [ddnet] <Jupstar> yeah
23:13 <+bridge> [ddnet] <Patiga> sec
23:14 <+bridge> [ddnet] <Patiga> https://cdn.discordapp.com/attachments/293493549758939136/964634784368295956/unknown.png
23:14 <+bridge> [ddnet] <Jupstar> ok thats with Srgb?
23:14 <+bridge> [ddnet] <Patiga> yes
23:14 <+bridge> [ddnet] <Patiga> rendered on a website with webgl
23:14 <+bridge> [ddnet] <Jupstar> and without it wont start?
23:14 <+bridge> [ddnet] <Patiga> yes
23:14 <+bridge> [ddnet] <Jupstar> Rgba8Unorm
23:14 <+bridge> [ddnet] <Jupstar> 
23:14 <+bridge> [ddnet] <Jupstar> would make more sense i think
23:15 <+bridge> [ddnet] <Jupstar> i never seen an native opengl driver not using RGBA
23:15 <+bridge> [ddnet] <Jupstar> ok the guy in the issue says only srgb is supported
23:15 <+bridge> [ddnet] <Patiga> I think it differentiates between opengl on native and webgl (I think I use the term 'native' too much and in wrong contexts sometimes)
23:17 <+bridge> [ddnet] <Patiga> hm alternatively I just let the way it is and wait until webgpu is stabilized, will probably only take a few years or so ^^
23:17 <+bridge> [ddnet] <Jupstar> but what does it say when u just use Rgba8Unorm
23:17 <+bridge> [ddnet] <Jupstar> does it say error?
23:18 <+bridge> [ddnet] <Patiga> sec
23:21 <+bridge> [ddnet] <Patiga> uh, broke my setup before, it'll take another min
23:23 <+bridge> [ddnet] <Jupstar> my native opengl driver uses rgba
23:23 <+bridge> [ddnet] <Jupstar> 
23:23 <+bridge> [ddnet] <Jupstar> my native vulkan driver only allows bgra
23:23 <+bridge> [ddnet] <Jupstar> 
23:23 <+bridge> [ddnet] <Jupstar> and i know that the android phones i tested also used rgba for vulkan only
23:23 <+bridge> [ddnet] <Jupstar> https://cdn.discordapp.com/attachments/293493549758939136/964637133325365258/unknown.png
23:24 <+bridge> [ddnet] <Jupstar> (its even just RGB) not even RGBA
23:24 <+bridge> [ddnet] <Jupstar> so i dunno what webgl allows but honestly opengl normally isnt designed that you should know about the surface
23:24 <+bridge> [ddnet] <Jupstar> (at least basic opengl not)
23:25 <+bridge> [ddnet] <Patiga> ah got it, its quite plain here `Error in Surface::configure: requested format Rgba8Unorm is not in list of supported formats: [Rgba8UnormSrgb]`
23:25 <+bridge> [ddnet] <Jupstar> https://developer.mozilla.org/en-US/docs/Web/API/EXT_sRGB
23:25 <+bridge> [ddnet] <Jupstar> 
23:25 <+bridge> [ddnet] <Jupstar> mozilla says its just an extension
23:26 <+bridge> [ddnet] <Jupstar> they should add like an "default" surface format or smth xd
23:26 <+bridge> [ddnet] <Jupstar> ok i wonder if thats really a webgl limitation
23:26 <+bridge> [ddnet] <Jupstar> or if the rust impl just disallows it
23:28 <+bridge> [ddnet] <Jupstar> i dunno are there any webgl tools in chrome or firefox? xd
23:28 <+bridge> [ddnet] <Jupstar> would really help
23:28 <+bridge> [ddnet] <Jupstar> then i could just look in the ddnet web client
23:28 <+bridge> [ddnet] <Patiga> hm the pull request adding the backend doesn't talk about that much either https://github.com/gfx-rs/wgpu/pull/1686
23:29 <+bridge> [ddnet] <coldrun> https://github.com/cookstown/ddnet/compare/master..cookstown:feature-soundpack, all i've done so far
23:29 <+bridge> [ddnet] <Patiga> hm what do they mean by "Fix lack of sRGB conversion"
23:40 <+bridge> [ddnet] <Jupstar> IMPLEMENTATION_COLOR_READ_FORMAT: RGBA
23:40 <+bridge> [ddnet] <Jupstar> IMPLEMENTATION_COLOR_READ_TYPE: UNSIGNED_BYTE
23:40 <+bridge> [ddnet] <Jupstar> 
23:40 <+bridge> [ddnet] <Jupstar> my firefox uses RGBA uint8
23:40 <+bridge> [ddnet] <Jupstar> for the ddnet web client
23:40 <+bridge> [ddnet] <Jupstar> but it doesnt mention srgb
23:41 <+bridge> [ddnet] <Patiga> huh, so probably a limitation with the rust implementation for the backend?
23:41 <+bridge> [ddnet] <Jupstar> honestly dunno, i will just give you the full output
23:41 <+bridge> [ddnet] <Jupstar> maybe it helps u
23:41 <+bridge> [ddnet] <Patiga> üëç
23:42 <+bridge> [ddnet] <Jupstar> i used this btw
23:42 <+bridge> [ddnet] <Jupstar> https://addons.mozilla.org/en-US/firefox/addon/spector-js/
23:43 <+bridge> [ddnet] <Jupstar> https://cdn.discordapp.com/attachments/293493549758939136/964642128628166696/result.html
23:43 <+bridge> [ddnet] <Jupstar> if you want to compare yourself
23:43 <+bridge> [ddnet] <Jupstar> https://aliveclan.de/ddnettest/load_map.html
23:43 <+bridge> [ddnet] <Jupstar> 
23:43 <+bridge> [ddnet] <Jupstar> just load a map here
23:44 <+bridge> [ddnet] <Jupstar> i gotta sleep now, night üòÑ
23:44 <+bridge> [ddnet] <Patiga> good night :)
23:45 <+bridge> [ddnet] <Patiga> and thanks a lot!
