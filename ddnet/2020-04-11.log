01:02 <+bridge> [ddnet] <DD> guys need your help, im have too bad ping in GER2 servers (300+),
01:02 <+bridge> [ddnet] <DD> only on them, on GER,  and on Gores on GER, GER3, GER4 ping 500+
01:02 <+bridge> [ddnet] <DD> wtf was that
07:51 <+bridge> [ddnet] <deen> @DD you're not the first to report that, my guess is that hetzner (our ger2 hoster) has bad peering to some isps. @heinrich5991 any plans to shut down ger2?
08:53 <+bridge> [ddnet] <deen> @heinrich5991 fixed the /players/ issue. reload of the data now takes 0.5 s instead of the previous 5-10 min. Each individual page loads in 0.1 s, similar to before. Memory usage is down to 120 MB from 1000 MB. Seems good enough for now. Was also extremely easy to do with diskcache: http://www.grantjenks.com/docs/diskcache/
08:57 <+bridge> [ddnet] <deen> Basically just put the players dict on disk:
08:57 <+bridge> [ddnet] <deen> ```
08:57 <+bridge> [ddnet] <deen> with Cache('/home/teeworlds/servers/players-cache') as cache:
08:57 <+bridge> [ddnet] <deen>   for player, value in players.items():
08:57 <+bridge> [ddnet] <deen>         cache[player] = value
08:57 <+bridge> [ddnet] <deen> ```
08:57 <+bridge> [ddnet] <deen> And replaced all data['players'].get(name) with cache.get(name). Should've done this much earlier I guess üòÑ
09:30 <+bridge> [ddnet] <Jupstar ‚ú™> @louis is your GPU intel and your laptop lenovo?
11:11 <+bridge> [ddnet] <fokkonaut> @Learath2 what happened to ddnet7 master? Why doesnt it build? Can you fix it?
11:11 <+bridge> [ddnet] <fokkonaut> what or who caused it?
11:27 <+bridge> [ddnet] <BannZay> Ive come here to say big thanks for new version of DDNet. Compared to previous version it loads at least 2 (might be 3 or 4) times  faster. No idea who did it, but it is very very cool! Thank you ‚ù§Ô∏è
11:30 <+bridge> [ddnet] <BannZay> Ive come here to say big thanks for new version of DDNet. Compared to previous version it loads at least 2 (might be 3 or 4) times  faster. No idea who did it, but it is very very cool! Thank you, dear devs ‚ù§Ô∏è
11:31 <+bridge> [ddnet] <Ryozuki> nani
12:00 <+bridge> [ddnet] <Learath2> @fokkonaut idk, idk, idk, idk
12:02 <+bridge> [ddnet] <Trafalgar Law> > @Trafalgar Law master branch is currently broken, needs a fix (that was recently pushed to teeworlds by Ryozuki and to ddnet by deen)
12:02 <+bridge> [ddnet] <Trafalgar Law> @heinrich5991 .
12:02 <+bridge> [ddnet] <Trafalgar Law> 
12:02 <+bridge> [ddnet] <Trafalgar Law>  @fokkonaut
12:05 <+bridge> [ddnet] <fokkonaut> ddnet7 doesnt have that?
12:11 <+bridge> [ddnet] <Learath2> it looks like the freetype issue, there is a commit fixing it in both ddnet and teeworlds
12:40 <+bridge> [ddnet] <fokkonaut> Can you fix it?
12:48 <@deen> done
12:54 <+bridge> [ddnet] <heinrich5991> @deen oh wow, awesome optimizations
12:54 <+bridge> [ddnet] <heinrich5991> thanks!
12:56 <+bridge> [ddnet] <Ryozuki> hmm
12:57 <+bridge> [ddnet] <Ryozuki> ubuntu wavpack version doesnt have WavpackCloseFile?
12:57 <+bridge> [ddnet] <Ryozuki> https://github.com/ddnet/ddnet/pull/2128/checks?check_run_id=573556917
12:57 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/698486888348254268/unknown.png
12:57 <+bridge> [ddnet] <Ryozuki> it compiles for me
13:04 <+bridge> [ddnet] <Ryozuki> why does ubuntu doesnt install wavpack CI
13:04 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/698488695732305960/unknown.png
13:05 <+bridge> [ddnet] <Ryozuki> libwavpack-dev
13:06 <+bridge> [ddnet] <heinrich5991> it should also compile without installing wavpack
13:06 <+bridge> [ddnet] <heinrich5991> we have a bundled wavpack for that case
13:06 <+bridge> [ddnet] <Ryozuki> what version is bundled
13:06 <+bridge> [ddnet] <Ryozuki> update it to atleast v5 pls
13:06 <+bridge> [ddnet] <heinrich5991> no, it's a stripped down old version
13:06 <+bridge> [ddnet] <heinrich5991> there are no newer versions of the stripped down one
13:06 <+bridge> [ddnet] <Ryozuki> why use a stripped one
13:07 <+bridge> [ddnet] <heinrich5991> http://www.wavpack.com/downloads.html
13:07 <+bridge> [ddnet] <heinrich5991> search for "tiny"
13:07 <+bridge> [ddnet] <heinrich5991> because we don't need more functionality than that, I guess
13:08 <+bridge> [ddnet] <Ryozuki> we nee dto close the context
13:08 <+bridge> [ddnet] <Ryozuki> or we are leaking xd
13:09 <+bridge> [ddnet] <Ryozuki> is there a way to check if a function exists
13:09 <+bridge> [ddnet] <Ryozuki> i would want to fix it atleast for sane people who install wavpack library
13:11 <+bridge> [ddnet] <heinrich5991> it looks like you don't have to free in the tiny library
13:11 <+bridge> [ddnet] <heinrich5991> (reading the source for a sec)
13:11 <+bridge> [ddnet] <heinrich5991> @Ryozuki add a line above `check_symbol_exists(WavpackOpenFileInputEx wavpack.h WAVPACK_OPEN_FILE_INPUT_EX)`
13:11 <+bridge> [ddnet] <Ryozuki> does tiny have WavpackGetLibraryVersion
13:11 <+bridge> [ddnet] <Ryozuki> oh
13:11 <+bridge> [ddnet] <heinrich5991> in CMakeLists.txt
13:15 <+bridge> [ddnet] <Ryozuki> ok i did it
13:15 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/698491519098683392/unknown.png
13:16 <+bridge> [ddnet] <heinrich5991> @Ryozuki can you rebase to master btw, then the CI will at least complete for non-mac
13:16 <+bridge> [ddnet] <Ryozuki> y
13:17 <+bridge> [ddnet] <Ryozuki> done
13:32 <+bridge> [ddnet] <heinrich5991> @Ryozuki for snapshot storage, add a constructor that calls `Init` and a destructor that calls `PurgeAll`. that should fix it
13:34 <+bridge> [ddnet] <Ryozuki> ok
13:35 <+bridge> [ddnet] <Ryozuki> @heinrich5991 do i remove the calls to init then?
13:35 <+bridge> [ddnet] <Ryozuki> or maybe not
13:35 <+bridge> [ddnet] <Ryozuki> i think no
13:36 <+bridge> [ddnet] <heinrich5991> not needed, no
13:38 <+bridge> [ddnet] <Ryozuki> pushed
13:38 <+bridge> [ddnet] <Ryozuki> @heinrich5991 github still marks it as a X and it triggers me xd
13:38 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/698497241320652840/unknown.png
13:38 <+bridge> [ddnet] <heinrich5991> ^^
13:38 <+bridge> [ddnet] <heinrich5991> need a fix for mac CI ^^
13:41 <+bridge> [ddnet] <Learath2> @heinrich5991 is there a way we could get verbose builds in the CI? I want to see the way the compiler is invoked
13:41 <+bridge> [ddnet] <heinrich5991> `make VERBOSE=1`
13:42 <+bridge> [ddnet] <heinrich5991> @Ryozuki you started the client at least once and connected to a server?
13:42 <+bridge> [ddnet] <heinrich5991> and it's ready for merging, right?
13:43 <+bridge> [ddnet] <Ryozuki> ye
13:43 <+bridge> [ddnet] <Ryozuki> and map sounds works
13:44 <+bridge> [ddnet] <Ryozuki> [2020-04-11 13:43:23][chat]: *** DDraceNetwork Mod. Version: 0.6.4, 13.0
13:44 <+bridge> [ddnet] <Ryozuki> is the server not at 13.0.2?
13:49 <+bridge> [ddnet] <Ryozuki> i guess that sv didnt restart
13:51 <+bridge> [ddnet] <heinrich5991> I don't know if we automatically update the servers
14:08 <+bridge> [ddnet] <fokkonaut> @heinrich5991 why does your test fail for me?
14:08 <+bridge> [ddnet] <fokkonaut> https://github.com/fokkonaut/F-DDrace/runs/578923569
14:08 <+bridge> [ddnet] <fokkonaut> Your newly added datafile test in 0.7
14:14 <+bridge> [ddnet] <Learath2> did you apply the patch that goes with it that fixes the datafile size thing?
14:21 <@deen> Ryozuki: were there any server relevant changes? I didn't recompile official servers
14:24 <+bridge> [ddnet] <Learath2> I'm compiling ddnet for macOS in a docker container, in a linux vm, on a mac üòõ
14:28 <+bridge> [ddnet] <deen> üòÑ
14:28 <+bridge> [ddnet] <deen> inception
14:32 <+bridge> [ddnet] <Learath2> the darwin.toolchain file references darwin15 but that's dependent on the SDK version we are using
14:32 <+bridge> [ddnet] <Learath2> darwin15 is 10.11
14:39 <+bridge> [ddnet] <Learath2> @deen how do you build curl with osxcross?
14:50 <+bridge> [ddnet] <fokkonaut> @Learath2 of course
15:07 <+bridge> [ddnet] <deen> @Learath2 https://github.com/ddnet/ddnet-scripts/blob/master/ddnet-lib-update.sh#L193
15:23 <+bridge> [ddnet] <Learath2> @deen how did you fix that SSLContextCreate thing btw? you still seem to target osx 10.7 which doesn't have that api
15:26 <+bridge> [ddnet] <deen> you told me to set --without-ssl, that worked
15:28 <+bridge> [ddnet] <Learath2> heh, didn't work at all for me
15:28 <+bridge> [ddnet] <deen> the make clean might not work
15:28 <+bridge> [ddnet] <deen> i always deleted directory to retry
15:29 <+bridge> [ddnet] <Learath2> gotta love weird clang builtins introduced only for macOS
15:29 <+bridge> [ddnet] <deen> well, clang was mostly developed at apple
15:29 <+bridge> [ddnet] <Learath2> huh, didn't know
15:32 <+bridge> [ddnet] <deen> they bought chris lattner, who started llvm+clang+clang++ as his phd thesis
15:32 <+bridge> [ddnet] <deen> and then he kept developing it there
15:38 <+bridge> [ddnet] <deen> Nice conversation with him I watched a few days ago: https://www.youtube.com/watch?v=yCd3CzGSte8
15:39 <+bridge> [ddnet] <louis> @Jupstar ‚ú™ razer laptop intel iGPu
15:44 <+ChillerDragun> is there a need for spoof protection in tcp based games?
15:45 <+bridge> [ddnet] <deen> no
15:45 <+ChillerDragun> cool
15:45 <+ChillerDragun> thanks
15:57 <+bridge> [ddnet] <heinrich5991> @deen what is the video about?
15:57 <+bridge> [ddnet] <deen> just a chat about his work, compilers, more an overview, nothing really in-depth
15:58 <+bridge> [ddnet] <deen> but i liked it anyway, puts a face on a name
16:06 <+bridge> [ddnet] <Jupstar ‚ú™> @louis tried to update your GPU driver?
16:07 <+bridge> [ddnet] <ChillerDragon> oh thanks for sharing the video deen üôÇ
16:08 <+bridge> [ddnet] <louis> i will try
16:08 <+bridge> [ddnet] <Learath2> why do they have to break compatibility in every single version of xcode? they just had to rename that symbol to __isPlatformVersionAtleast and implement it in some other library
18:05 <+bridge> [ddnet] <Crying> @Learath2
18:05 <+bridge> [ddnet] <Crying> U know code of blue color on teeworlds?
18:07 <+bridge> [ddnet] <Learath2> which blue? team blue?
18:07 <+bridge> [ddnet] <Crying> no
18:07 <+bridge> [ddnet] <Crying> in binds
18:08 <+bridge> [ddnet] <Learath2> binds are blue?
18:08 <+bridge> [ddnet] <Crying> :I
18:12 <+bridge> [ddnet] <Crying> 11403008
18:13 <+bridge> [ddnet] <Crying> 16776960
18:14 <+bridge> [ddnet] <Crying> 12582656
18:15 <+bridge> [ddnet] <Learath2> oh, you want the teeworlds color code for blue?
18:15 <+bridge> [ddnet] <Crying> its a colors
18:15 <+bridge> [ddnet] <Crying> yes
18:16 <+bridge> [ddnet] <Learath2> give me the color in hex and I'll give you the teeworlds code for it
18:16 <+bridge> [ddnet] <Learath2> or r, g, b
18:16 <+bridge> [ddnet] <Learath2> whichever
18:18 <+bridge> [ddnet] <Crying> i was find
18:18 <+bridge> [ddnet] <Crying> what me need
18:19 <+bridge> [ddnet] <Learath2> there are infinite tones of blue, what kind of blue do you want?
18:19 <+bridge> [ddnet] <Learath2> light blue?
18:19 <+bridge> [ddnet] <Learath2> dark blue?
18:19 <+bridge> [ddnet] <Learath2> very darkblue??
18:20 <+bridge> [ddnet] <heinrich5991> I think they found the solution already
18:20 <+bridge> [ddnet] <heinrich5991> > i was find
18:20 <+bridge> [ddnet] <heinrich5991> > what me need
18:21 <+bridge> [ddnet] <nori> what kind of color code use tw?
18:21 <+bridge> [ddnet] <nori> hex? rgb?
18:21 <+bridge> [ddnet] <Learath2> HSL, with a twist
18:22 <+bridge> [ddnet] <Learath2> ddnet supports colors without a twist too
18:22 <+bridge> [ddnet] <Learath2> you can do `player_color_body blue`¬†and it'll work
18:22 <+bridge> [ddnet] <Learath2> or `player_color_body r0000FF`
18:22 <+bridge> [ddnet] <Learath2> I think it was r, might be $ too I don't remember
18:24 <+bridge> [ddnet] <Learath2> @deen is it okay if we bump the min mac os version to 10.8 or 10.9?
18:28 <+bridge> [ddnet] <Learath2> The __isOSVersionAtleast issue stems from you not having compiler_rt built, it works fine with that
18:28 <+bridge> [ddnet] <Learath2> the function works dynamically so there is no problem with statically linking compiler_rt
18:29 <+bridge> [ddnet] <Learath2> that allows us to also get rid of the ugly lazy linking fix
18:29 <+bridge> [ddnet] <Learath2> Actually, I'll make a PR and you can test, see if everything works fine
18:44 <+bridge> [ddnet] <Learath2> @heinrich5991 I want to set https://cmake.org/cmake/help/v3.14/variable/CMAKE_OSX_DEPLOYMENT_TARGET.html
18:45 <+bridge> [ddnet] <Learath2> could you help me give it an absolute minimum? e.g. don't allow the user to set something lower then 10.8 e.g.
19:02 <+bridge> [ddnet] <heinrich5991> @Learath2 what do you want to do?
19:02 <+bridge> [ddnet] <heinrich5991> let the user decide on a value of that, but you want to throw an error if it's lower than 10.8?
19:16 <+bridge> [ddnet] <Learath2> yes
19:16 <+bridge> [ddnet] <Learath2> but it has to happen pretty early as that needs to be set before the project call
19:20 <+bridge> [ddnet] <heinrich5991> `if(CMAKE_VARIABLE VERSION_LESS 10.8)` @Learath2
19:38 <+bridge> [ddnet] <ChillerDragon> Much wowo data science I compiled a list of all vote reasons we collected on laws ddnet7 servers in the last 5 months if anyone is interested what people think is a valid reason to move a player to spec or kick from the server (no option votes) https://paste.zillyhuhn.com/uU
19:39 <+bridge> [ddnet] <ChillerDragon> (might include insults lmao)
19:41 <+bridge> [ddnet] <heinrich5991> lowercase the strings maybe
19:42 <+bridge> [ddnet] <ChillerDragon> yea thought about it
19:42 <+bridge> [ddnet] <ChillerDragon> but i think case is interesting to see the mood of the voter
19:44 <+bridge> [ddnet] <heinrich5991> maybe normalize case except for all uppercase words?
19:44 <+bridge> [ddnet] <Patiga> when i try to start a server rn, i get 
19:44 <+bridge> [ddnet] <Patiga> `/bin/DDNet-Server: error while loading shared libraries: libantibot.so: cannot open shared object file: No such file or directory`
19:45 <+bridge> [ddnet] <heinrich5991> that's bad
19:45 <+bridge> [ddnet] <heinrich5991> where did you get ddnet from?
19:45 <+bridge> [ddnet] <Patiga> (havent restared my computer since the update, hope that shouldnt help?)
19:45 <+bridge> [ddnet] <Patiga> from the aur
19:45 <+bridge> [ddnet] <Patiga> the non-git package
19:45 <+bridge> [ddnet] <heinrich5991> @RafaelFF ^^
19:45 <+bridge> [ddnet] <heinrich5991> packaging problems
19:46 <+bridge> [ddnet] <heinrich5991> (for packaging problems, contact the packager)
19:47 <+bridge> [ddnet] <Ryozuki> @heinrich5991 does make install install libantibot?
19:48 <+bridge> [ddnet] <Ryozuki> did u modify cmake install
19:48 <+bridge> [ddnet] <heinrich5991> ( @Patiga you can solve the problem by either not compiling with `-DANTIBOT=ON` or installing `libantibot.so`
19:48 <+bridge> [ddnet] <heinrich5991> )
19:48 <+bridge> [ddnet] <heinrich5991> did not
19:48 <+bridge> [ddnet] <deen> @Learath2 ok
19:48 <+bridge> [ddnet] <Patiga> dunno how to install libantibot.so, but compiling should be done in a sec
19:49 <+bridge> [ddnet] <deen> @heinrich5991 antibot should be off by default
19:49 <+bridge> [ddnet] <heinrich5991> yes, I saw the packager add `-DANTIBOT=ON`
19:49 <+bridge> [ddnet] <deen> ok, otherwise we coud also enable it and ship the empty one
19:49 <+bridge> [ddnet] <heinrich5991> the empty one is compiled if you have `-DANTIBOT=ON`
19:50 <+bridge> [ddnet] <Ryozuki> im also a packager btw
19:50 <+bridge> [ddnet] <heinrich5991> ah
19:50 <+bridge> [ddnet] <heinrich5991> then @Ryozuki
19:50 <+bridge> [ddnet] <Ryozuki> https://github.com/ddnet/ddnet/blob/master/CMakeLists.txt#L1480
19:51 <+bridge> [ddnet] <Ryozuki> so there is no install there right?
19:51 <+bridge> [ddnet] <heinrich5991> yea, looks like it
19:51 <+bridge> [ddnet] <Ryozuki> i think thats why
19:51 <+bridge> [ddnet] <Ryozuki> its not at all the aur fault more the cmake setup :P
19:52 <+bridge> [ddnet] <heinrich5991> pff
19:52 <+bridge> [ddnet] <heinrich5991> if the packager adds an option and doesn't check it's working, it's also the package's fault
19:52 <+bridge> [ddnet] <Ryozuki> well yeah
19:52 <+bridge> [ddnet] <Patiga> ye, it works file without `-DANTIBOT=ON`
19:52 <+bridge> [ddnet] <Ryozuki> rafael probably didnt check
19:54 <+bridge> [ddnet] <Patiga> ye, it works *fine without `-DANTIBOT=ON`
19:54 <+bridge> [ddnet] <Patiga> hmm but it also works with `-DANTIBOT=ON` when i compile it o.o
19:54 <+bridge> [ddnet] <Ryozuki> ofc
19:54 <+bridge> [ddnet] <Ryozuki> ur running it without installing
19:58 <+bridge> [ddnet] <Ryozuki> i wonder if libantibot.so is a good library name
19:58 <+bridge> [ddnet] <Ryozuki> its too generic i think @heinrich5991
19:58 <+bridge> [ddnet] <Ryozuki> libtwantibot might be a better name
20:00 <+bridge> [ddnet] <Ryozuki> @Patiga update ddnet, i disabled antibot
20:25 <+bridge> [ddnet] <timakro> @Learath2 you here?
20:33 <+bridge> [ddnet] <Learath2> Yep
20:54 <+bridge> [ddnet] <Learath2> oh we don't even require cmake 3.0?
20:55 <+bridge> [ddnet] <Learath2> @heinrich5991 can we?
20:59 <+bridge> [ddnet] <heinrich5991> @Learath2 requiring cmake 3.0 on non-linux is a non-issue
21:00 <+bridge> [ddnet] <Learath2> what ancient version of centos ships with cmake 2.8? üòõ
21:01 <+bridge> [ddnet] <heinrich5991> CentOS 6, CentOS 7
21:02 <+bridge> [ddnet] <heinrich5991> CentOS 7 EOL 2024-06-30
21:02 <+bridge> [ddnet] <Learath2> as always, shipping ancient software, supporting it for an eternity
21:02 <+bridge> [ddnet] <Learath2> @heinrich5991 is there a cmake best practice for not setting a variable if the user is setting it?
21:03 <+bridge> [ddnet] <heinrich5991> wdym?
21:04 <+bridge> [ddnet] <Learath2> I want CMAKE_OSX_DEPLOYMENT_TARGET to be set to 10.8 if the user doesn't pass anything, if the user does pass something I don't want it to be smaller then 10.8
21:04 <+bridge> [ddnet] <heinrich5991> check `CMAKE_BUILD_TYPE`
21:05 <+bridge> [ddnet] <heinrich5991> we set it to `Release` if the user doesn't specify anything
21:05 <+bridge> [ddnet] <Learath2> is that really the best way to handle this? I was sure there'd be some shorthand
21:06 <+bridge> [ddnet] <heinrich5991> ah, maybe there is something
21:06 <+bridge> [ddnet] <heinrich5991> but I don't know
21:06 <+bridge> [ddnet] <heinrich5991> check `set(CACHE` or something
21:08 <+bridge> [ddnet] <heinrich5991> `set(<variable> <value> CACHE STRING <docsting>)`
21:12 <+bridge> [ddnet] <Learath2> set CACHE indeed seems to be it
21:26 <+bridge> [ddnet] <Learath2> @heinrich5991 one more thing, just because you already dug into this: I need to set rpath on macOS builds, specifically to include @loader_path/../Frameworks
21:27 <+bridge> [ddnet] <Learath2> That should allow us to remove the usage of install_name_tool from our builds
21:27 <+bridge> [ddnet] <heinrich5991> that would be nice üôÇ
21:28 <+bridge> [ddnet] <Learath2> as soon as you tell me a good way of setting rpath while building on macOS üòõ
21:28 <+bridge> [ddnet] <Learath2> I mean I could just pass -Wl,-rpath but that's just ugly, and I have a feeling it'd interfere with the antibot
21:36 <+bridge> [ddnet] <heinrich5991> there's probably a target setting
21:37 <+bridge> [ddnet] <heinrich5991> `BUILD_RPATH` or so
21:38 <+bridge> [ddnet] <heinrich5991> `man cmake-properties` @Learath2
21:40 <+bridge> [ddnet] <Learath2> I know as much, but BUILD_RPATH is only available cmake 3.8 on, not only that but you are already setting it for ANTIBOT=ON.
21:41 <+bridge> [ddnet] <heinrich5991> I'm fine with requiring cmake 3.8 on non-linux
