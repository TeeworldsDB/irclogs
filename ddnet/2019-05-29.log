01:03 <+bridge> [ddnet] <Ryozuki> 
01:03 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/583067758422523924/q6qmmaiaux031.png
01:12 <+bridge> [ddnet] <RafaelFF> R.I.P. Linux ðŸ˜‚
05:35 <+bridge> [ddnet] <ÐºÐ¾Ñ‚ÑÑ> ðŸ¤”
13:50 <+bridge> [ddnet] <fokkonaut> Hey, does someone have an idea why my client *sometimes* crashes if i try to  connect my dummy on my server if there are more than 64 players?
13:55 <+bridge> [ddnet] <deen> @fokkonaut because of bugs
13:56 <+bridge> [ddnet] <fokkonaut> but is it clientside or serverside? because it only crashes sometimes
13:56 <+bridge> [ddnet] <deen> make a debug build and look at the core dump
13:56 <+bridge> [ddnet] <fokkonaut> how?
13:56 <+bridge> [ddnet] <deen> every crash in the client is a client-side bug
13:56 <+bridge> [ddnet] <deen> every crash in the server is a server-side bug
13:56 <+bridge> [ddnet] <deen> cmake -DCMAKE_BUILD_TYPE=Debug
13:56 <+bridge> [ddnet] <fokkonaut> how do i get the core dump? is it possible in vs
13:56 <+bridge> [ddnet] <deen> oh, Windows
13:56 <+bridge> [ddnet] <fokkonaut> ðŸ˜„
13:57 <+bridge> [ddnet] <archimede67> xd
13:57 <+bridge> [ddnet] <deen> Not sure, google how to debug a crash in VS
13:59 <+bridge> [ddnet] <fokkonaut> BTW what is this used for? SvMapUpdateRate
14:23 <+bridge> [ddnet] <fokkonaut> I can't seem to crash the client in debug mode xd
14:26 <+bridge> [ddnet] <fokkonaut> im running the vs compiled release version now and i also cant xD?
14:27 <+bridge> [ddnet] <fokkonaut> does anyone has another idea?
14:27 <+bridge> [ddnet] <fokkonaut> on how to debug this
14:27 <+bridge> [ddnet] <archimede67> maybe u fixed when u compiled xd
14:27 <+bridge> [ddnet] <fokkonaut> i havent changed client code
14:31 <+bridge> [ddnet] <fokkonaut> yea, i can crash the release version from ddnet.tw, but not the self compiled one
14:31 <+bridge> [ddnet] <archimede67> weird xd
14:32 <+bridge> [ddnet] <jao> try compiling the version from ddnet.tw not latest master
14:32 <+bridge> [ddnet] <fokkonaut> there is basically no difference and i just pulled, before i tried it with a version thats about 2 weeks old
14:32 <+bridge> [ddnet] <fokkonaut> also didnt crash
14:32 <+bridge> [ddnet] <Ryozuki> debug mode doesnt apply optimizations
14:33 <+bridge> [ddnet] <Ryozuki> ddnet binaries are crosscompiled mayb it has to do with it
14:33 <+bridge> [ddnet] <Ryozuki> delete windows
14:36 <+bridge> [ddnet] <archimede67> xd
14:36 <+bridge> [ddnet] <archimede67> u use windows
14:38 <+bridge> [ddnet] <fokkonaut> oh man i want to debug this :(
14:38 <+bridge> [ddnet] <fokkonaut> but i cant
14:38 <+bridge> [ddnet] <archimede67> :x
14:40 <+bridge> [ddnet] <fokkonaut> seems like its the cross compiling
14:41 <+bridge> [ddnet] <fokkonaut> hey @archimede67 do you have a second?
14:41 <+bridge> [ddnet] <archimede67> ye
14:41 <+bridge> [ddnet] <fokkonaut> can you join me?
14:42 <+bridge> [ddnet] <archimede67> where
14:42 <+bridge> [ddnet] <archimede67> oof
14:42 <+bridge> [ddnet] <fokkonaut> did your client crash?
14:42 <+bridge> [ddnet] <archimede67> man its instant
14:42 <+bridge> [ddnet] <archimede67> xd
14:42 <+bridge> [ddnet] <archimede67> ye
14:43 <+bridge> [ddnet] <fokkonaut> lol?!?!?!?!?!
14:43 <+bridge> [ddnet] <fokkonaut> but this seems ot be only for you
14:43 <+bridge> [ddnet] <archimede67> its weird like its not responding but i can see that its showing connection problems xd
14:43 <+bridge> [ddnet] <archimede67> crash
14:44 <+bridge> [ddnet] <fokkonaut> nobody ever had this before tbh :D
14:44 <+bridge> [ddnet] <archimede67> maybe its my pc
14:44 <+bridge> [ddnet] <archimede67> its too old
14:44 <+bridge> [ddnet] <fokkonaut> i mean, the code is kinda non-client-crashable xd
14:44 <+bridge> [ddnet] <fokkonaut> probably your pc, yea
14:44 <+bridge> [ddnet] <archimede67> xd
14:45 <+bridge> [ddnet] <fokkonaut> its this:
14:45 <+bridge> [ddnet] <fokkonaut> https://github.com/fokkonaut/BlockDDrace/blob/master/src/game/server/entities/character.cpp#L2926
14:45 <+bridge> [ddnet] <fokkonaut> 
14:45 <+bridge> [ddnet] <fokkonaut> and this:
14:45 <+bridge> [ddnet] <fokkonaut> https://github.com/fokkonaut/BlockDDrace/blob/master/src/game/server/entities/character.cpp#L2957
14:45 <+bridge> [ddnet] <archimede67> man i know
14:46 <+bridge> [ddnet] <archimede67> 
14:46 <+bridge> [ddnet] <archimede67> https://cdn.discordapp.com/attachments/293493549758939136/583274851695984671/unknown.png
14:46 <+bridge> [ddnet] <fokkonaut> oh, so you get a timeout?
14:46 <+bridge> [ddnet] <archimede67> yeah
14:46 <+bridge> [ddnet] <fokkonaut> oh
14:46 <+bridge> [ddnet] <archimede67> 
14:46 <+bridge> [ddnet] <archimede67> https://cdn.discordapp.com/attachments/293493549758939136/583274970990379044/unknown.png
14:46 <+bridge> [ddnet] <fokkonaut> i thought your client crashed
14:46 <+bridge> [ddnet] <archimede67> me too
14:46 <+bridge> [ddnet] <archimede67> its not responding
14:47 <+bridge> [ddnet] <archimede67> but it responded again
14:47 <+bridge> [ddnet] <archimede67> and this happend xd
14:51 <+bridge> [ddnet] <fokkonaut> lol @archimede67 for me first try xD
14:52 <+bridge> [ddnet] <fokkonaut> @archimede67 also this time
14:53 <+bridge> [ddnet] <fokkonaut> doenst it crash for you?
14:53 <+bridge> [ddnet] <archimede67> no xd
14:53 <+bridge> [ddnet] <archimede67> oof u timed out
14:53 <+bridge> [ddnet] <fokkonaut> can you give me your settings_ddnet.cfg in pm?
14:53 <+bridge> [ddnet] <archimede67> k
14:54 <+bridge> [ddnet] <fokkonaut> do you have x64 or x86?
14:54 <+bridge> [ddnet] <archimede67> x64
14:57 <+bridge> [ddnet] <fokkonaut> yea, well, no XD it is still crashing
14:59 <+bridge> [ddnet] <fokkonaut> i just tested it with my brothers pc, it also crashes there
14:59 <+bridge> [ddnet] <archimede67> lmao my pc is just weird af
15:00 <+bridge> [ddnet] <archimede67> when it needs to crash it doesn't, but when not it does xd
16:03 <+bridge> [ddnet] <Learath2> @deen we should get UndoDB for ddnet ðŸ˜›
16:17 <@deen> I'd be happy enough with a coredump for now
16:35 <+bridge> [ddnet] <Tysou> help me pls i have "error sound"
16:36 <@deen> Tysou: can you be more specific?
16:37 <+bridge> [ddnet] <Tysou> 
16:37 <+bridge> [ddnet] <Tysou> https://cdn.discordapp.com/attachments/293493549758939136/583302913150156810/unknown.png
16:37 <+bridge> [ddnet] <Tysou> but french
16:37 <+bridge> [ddnet] <Tysou> error audio
16:37 <+bridge> [ddnet] <Tysou> reload pc
16:39 <+bridge> [ddnet] <Tysou> rep
16:39 <+bridge> [ddnet] <Tysou> same
16:41 <@deen> ok, what error do you get on the black cmd window?
16:42 <+bridge> [ddnet] <Tysou> dont have cmd
16:42 <+bridge> [ddnet] <Tysou> ddnet
16:42 <+bridge> [ddnet] <Tysou> ??
16:42 <@deen> You're on Windows? There should be a black window in the background showing the log
16:43 <+bridge> [ddnet] <Tysou> yes windows
16:44 <+bridge> [ddnet] <Tysou> but i dont know how to do sry french ..
16:45 <@deen> then ingame f1, logfile "client.log", restart client
16:45 <@deen> and check the client.log file
16:45 <+bridge> [ddnet] <archimede67> @Tysou normalement quand tu ouvres ton jeu t'as une fenÃªtre de commande qui s'ouvre aussi
16:46 <+bridge> [ddnet] <Tysou> non ddnet j'ai pas
16:46 <+bridge> [ddnet] <Tysou> ðŸ˜­
16:46 <+bridge> [ddnet] <archimede67> Ã§a
16:46 <+bridge> [ddnet] <archimede67> 
16:46 <+bridge> [ddnet] <archimede67> https://cdn.discordapp.com/attachments/293493549758939136/583305081500467221/unknown.png
16:46 <+bridge> [ddnet] <Tysou> dont have
16:46 <+bridge> [ddnet] <archimede67> tu es sur?
16:46 <+bridge> [ddnet] <Tysou> oui j'ai que celle de droite
16:46 <+bridge> [ddnet] <archimede67> ok vas dans les paramÃ¨tres
16:46 <+bridge> [ddnet] <archimede67> dans le jeu
16:47 <+bridge> [ddnet] <Tysou> ok
16:47 <+bridge> [ddnet] <archimede67> dans "GÃ©nÃ©ral"
16:47 <+bridge> [ddnet] <Tysou> y
16:47 <+bridge> [ddnet] <archimede67> et coche cette case
16:47 <+bridge> [ddnet] <archimede67> 
16:47 <+bridge> [ddnet] <archimede67> https://cdn.discordapp.com/attachments/293493549758939136/583305359251210306/unknown.png
16:47 <+bridge> [ddnet] <archimede67> puis redÃ©marre ton jeu
16:47 <+bridge> [ddnet] <Tysou> ok
16:47 <+bridge> [ddnet] <archimede67> c'est lÃ  que s'affichent les logs que @deen te demande
16:48 <+bridge> [ddnet] <Tysou> ok
16:48 <+bridge> [ddnet] <Tysou> mr
16:48 <+bridge> [ddnet] <Tysou> c
16:48 <+bridge> [ddnet] <Tysou> then ingame f1, logfile "client.log", restart client
16:48 <+bridge> [ddnet] <Tysou> and check the client.log file
16:48 <+bridge> [ddnet] <archimede67> Ã§a pas besoin, regarde juste les messages dans la console quand tu as l'erreur
16:48 <+bridge> [ddnet] <Tysou> k
16:49 <+bridge> [ddnet] <Tysou> 
16:49 <+bridge> [ddnet] <Tysou> https://cdn.discordapp.com/attachments/293493549758939136/583305951113904129/unknown.png
16:50 <+bridge> [ddnet] <Tysou> [quakenet
16:51 <+bridge> [ddnet] <Tysou> @[quakenet] deen
16:51 <+bridge> [ddnet] <archimede67> no just @deen
16:51 <+bridge> [ddnet] <Tysou> @deen
16:51 <+bridge> [ddnet] <archimede67> xd
16:51 <+bridge> [ddnet] <Tysou> pardon xD
16:51 <+bridge> [ddnet] <archimede67> sry deen you'll have 6000 notifications :troll:
16:52 <+bridge> [ddnet] <Tysou> ;D
16:53 <+bridge> [ddnet] <Tysou> ...
16:56 <+bridge> [ddnet] <Learath2> Is it that short?
16:56 <+bridge> [ddnet] <Learath2> Nothing after the colon at the end?
16:56 <+bridge> [ddnet] <archimede67> @Tysou y'a pas marquÃ© plus sur cette ligne ?
16:56 <+bridge> [ddnet] <archimede67> https://cdn.discordapp.com/attachments/293493549758939136/583307810444673030/unknown.png
16:58 <+bridge> [ddnet] <Tysou> 
16:58 <+bridge> [ddnet] <Tysou> https://cdn.discordapp.com/attachments/293493549758939136/583308168008957952/unknown.png
16:58 <+bridge> [ddnet] <archimede67> @Learath2 xd nice debug
16:59 <+bridge> [ddnet] <Learath2> pas mon faute
16:59 <+bridge> [ddnet] <archimede67> ðŸ˜„
16:59 <+bridge> [ddnet] <archimede67> its "ma faute"
16:59 <+bridge> [ddnet] <archimede67> :p
16:59 <+bridge> [ddnet] <Learath2> knew that was feminine the second i pressed enter
16:59 <+bridge> [ddnet] <archimede67> xD
17:00 <+bridge> [ddnet] <Learath2> just didn't sound right
17:00 <+bridge> [ddnet] <Learath2> also it's sdl's fault really
17:00 <+bridge> [ddnet] <Learath2> we just call SDL_GetError()
17:01 <+bridge> [ddnet] <archimede67> lol
17:01 <+bridge> [ddnet] <archimede67> nice sdl debug
17:01 <+bridge> [ddnet] <Tysou> comprend pas xD
17:01 <+bridge> [ddnet] <archimede67> @Learath2 so what can he do?
17:01 <+bridge> [ddnet] <Tysou> yes
17:02 <+bridge> [ddnet] <Learath2> makes two of us that comprends pas ðŸ˜›
17:02 <+bridge> [ddnet] <Learath2> gimme a minute I'll take a look
17:02 <+bridge> [ddnet] <archimede67> ðŸ˜‚
17:04 <+bridge> [ddnet] <Learath2> what's even weirder is that the SDL source code doesn't have that colon, neither does our code
17:04 <+bridge> [ddnet] <Tysou> @archimede67
17:05 <+bridge> [ddnet] <Learath2> oh, it's winapi returning nothing for the error
17:05 <+bridge> [ddnet] <Learath2> hmm
17:06 <+bridge> [ddnet] <Learath2> @Tysou quelle version de windows?
17:06 <+bridge> [ddnet] <Tysou> last
17:06 <+bridge> [ddnet] <Tysou> 10
17:07 <+bridge> [ddnet] <archimede67> @Learath2 wait wat
17:07 <+bridge> [ddnet] <archimede67> how is that even possible
17:07 <+bridge> [ddnet] <Learath2> yeah makes no sense
17:08 <+bridge> [ddnet] <Learath2> @Tysou did you try redownloading the client?
17:09 <+bridge> [ddnet] <Tysou> yes
17:09 <+bridge> [ddnet] <Tysou> and delete config
17:09 <+bridge> [ddnet] <Tysou> same
17:11 <+bridge> [ddnet] <Tysou> @Learath2
17:12 <+bridge> [ddnet] <Tysou> my name _TPS_Dragon
17:13 <+bridge> [ddnet] <Learath2> Yeah I don't really see how that ever happens, It doesn't make sense that windows doesn't return a proper message for an error it produced
17:14 <+bridge> [ddnet] <Learath2> c'est un mystÃ¨re ðŸ˜›
17:14 <+bridge> [ddnet] <archimede67> ðŸ˜‚ its so funny to see you speak french xd
17:14 <+bridge> [ddnet] <Ryozuki> quelle da dada
17:14 <+bridge> [ddnet] <archimede67> tf does that mean xd
17:14 <+bridge> [ddnet] <Ryozuki> idk
17:14 <+bridge> [ddnet] <Ryozuki> it sounds funny
17:14 <+bridge> [ddnet] <archimede67> ðŸ˜‚
17:14 <+bridge> [ddnet] <Learath2> ryozuki is obv better then me at french ðŸ˜›
17:15 <+bridge> [ddnet] <archimede67> obv
17:15 <+bridge> [ddnet] <Tysou> and now ?
17:16 <+bridge> [ddnet] <Learath2> SDL calls `IAudioclient_Initialize`, which returns an error as a `HRESULT` which SDL passes to `FormatMessage` to get the error message, It makes no sense at all that the message is empty
17:17 <+bridge> [ddnet] <Tysou> hmmmmm
17:17 <+bridge> [ddnet] <Tysou> dont understand xD
17:17 <+bridge> [ddnet] <Tysou> @archimede67
17:18 <+bridge> [ddnet] <Learath2> short answer: Je ne sais pas aussi ðŸ˜›
17:18 <+bridge> [ddnet] <Learath2> or should that be a "non plus", meh, either way idk
17:19 <+bridge> [ddnet] <archimede67> non plus is better
17:19 <+bridge> [ddnet] <Tysou> i dont know
17:19 <+bridge> [ddnet] <Tysou> yeah
17:19 <+bridge> [ddnet] <Ryozuki> Bonjour je ne connais pas le franÃ§ais mais je sais comment utiliser un traducteur :)
17:19 <+bridge> [ddnet] <archimede67> maybe theres no error xd
17:19 <+bridge> [ddnet] <archimede67> @Ryozuki lol nobo
17:19 <+bridge> [ddnet] <Ryozuki> https://www.deepl.com/
17:20 <+bridge> [ddnet] <Learath2> DeepL works pretty well actually
17:20 <+bridge> [ddnet] <Ryozuki> y
17:20 <+bridge> [ddnet] <archimede67> n
17:20 <+bridge> [ddnet] <archimede67> i work better
17:20 <+bridge> [ddnet] <Learath2> ðŸ˜›
17:20 <+bridge> [ddnet] <archimede67> ðŸ˜„
17:20 <+bridge> [ddnet] <Ryozuki> but it doesnt has japanese
17:20 <+bridge> [ddnet] <Ryozuki> have
17:20 <+bridge> [ddnet] <Ryozuki> xd
17:21 <+bridge> [ddnet] <archimede67> oof
17:21 <+bridge> [ddnet] <Tysou> du coup ?
17:21 <+bridge> [ddnet] <Ryozuki> learn english
17:21 <+bridge> [ddnet] <Tysou> and now
17:21 <+bridge> [ddnet] <Learath2> @deen you seem to be the last one to touch the sound code, any idea why it'd fail like that?
17:21 <+bridge> [ddnet] <archimede67> i guess we'll have to wait deen
17:22 <+bridge> [ddnet] <Learath2> no matter how many times you ask @Tysou we just don't know, and it's really hard to know when it doesn't happen on our computers
17:22 <+bridge> [ddnet] <archimede67> yep
17:23 <+bridge> [ddnet] <Learath2> your best chance would be if deen somehow knows of this one  ðŸ˜›
17:23 <+bridge> [ddnet] <Ryozuki> whats the problem btw
17:23 <+bridge> [ddnet] <Learath2> @Ryozuki `SDL_OpenAudioDevice` fails, the error is `""`
17:24 <+bridge> [ddnet] <archimede67> sound is broken
17:24 <+bridge> [ddnet] <archimede67> on his pc
17:24 <+bridge> [ddnet] <Ryozuki> i had the same on arch but i installed pulseaudio to fix it ;)
17:24 <+bridge> [ddnet] <Ryozuki> xdd
17:24 <+bridge> [ddnet] <archimede67> ðŸ‘Œ
17:24 <+bridge> [ddnet] <Tysou> pulseaudio
17:24 <+bridge> [ddnet] <Ryozuki> im joking u wont fix it u windows peasant
17:24 <+bridge> [ddnet] <Learath2> Well technically the error is `"WASAPI can't initialize audio client: "`
17:25 <+bridge> [ddnet] <Ryozuki> idk about windows api so
17:25 <+bridge> [ddnet] <Learath2> But that part is returned by SDL, winapi seems to return ""
17:25 <+bridge> [ddnet] <Ryozuki> i once had to change it to use directsound on ddnet
17:25 <+bridge> [ddnet] <Ryozuki> but idk if it was changed again
17:26 <+bridge> [ddnet] <Tysou> we cant do everything ?
17:26 <+bridge> [ddnet] <Ryozuki> u can try SDL_AUDIODRIVER=somewindows api ./DDNet
17:26 <+bridge> [ddnet] <Ryozuki> or smth like that
17:27 <+bridge> [ddnet] <archimede67> @Tysou just wait now until we go back to u i guess
17:27 <+bridge> [ddnet] <Tysou> k
17:27 <+bridge> [ddnet] <Tysou> @Ryozuki  how to
17:28 <+bridge> [ddnet] <Ryozuki> ignore me
17:29 <+bridge> [ddnet] <archimede67> xd
17:30 <+bridge> [ddnet] <Tysou> okkk xD
17:30 <+bridge> [ddnet] <Tysou> but stressing if i dont play with sound
17:30 <+bridge> [ddnet] <Learath2> when did this happen anyways?
17:36 <+bridge> [ddnet] <archimede67> @Tysou
17:37 <+bridge> [ddnet] <Learath2> in other news, i'm starving and youtube keeps showing me food videos
17:37 <+bridge> [ddnet] <Tysou> for all
17:37 <+bridge> [ddnet] <archimede67> @Tysou c'est arrivÃ© quand ton problÃ¨me de son?
17:38 <+bridge> [ddnet] <Tysou> yesterday
17:41 <+bridge> [ddnet] <Tysou> dont understand bad ...
17:41 <+bridge> [ddnet] <n000b> Ah the discussion is here
17:41 <+bridge> [ddnet] <n000b> I had the same problem once i guess
17:42 <+bridge> [ddnet] <n000b> And it happend when i opened a corrupted demo by dragging it on ddnet.exe
17:44 <+bridge> [ddnet] <n000b> @Learath2
17:44 <+bridge> [ddnet] <archimede67> how is it possible that the problem persists
17:46 <+bridge> [ddnet] <n000b> I dunno which bind this caused, i should look it up when i am home
17:46 <+bridge> [ddnet] <n000b> But i  removed that bind and the problem was gone.
17:46 <+bridge> [ddnet] <archimede67> a bind?
17:46 <+bridge> [ddnet] <archimede67> for what
17:47 <+bridge> [ddnet] <n000b> Apparently to open a demo. I dunno
17:48 <+bridge> [ddnet] <archimede67> wot
17:48 <+bridge> [ddnet] <n000b> I am home in 15 min maybe i got time to check it out then
17:48 <+bridge> [ddnet] <archimede67> k but it sounds strange xd
18:17 <+bridge> [ddnet] <archimede67> i'm trying to understand how the actual `TStaticRingBuffer` works xd
18:40 <+bridge> [ddnet] <n000b> Problem was caused by ui_demo_selected
19:00 <+bridge> [ddnet] <archimede67> @Learath2 how should i use TStaticRingBuffer with the replay having a variable length?
19:02 <+bridge> [ddnet] <Learath2> @archimede67 I'm not even sure if my idea would work tbh, I just put it out there, you'll have to stitch it together yourself
19:04 <+bridge> [ddnet] <archimede67> ðŸ˜­ xd
19:05 <+bridge> [ddnet] <Learath2> you might need to mess around a little
19:05 <+bridge> [ddnet] <Learath2> e.g. it comes to mind that snapshots are by definition, not complete
19:06 <+bridge> [ddnet] <Learath2> but I guess demos aren't complete either
19:07 <+bridge> [ddnet] <archimede67> its hard stuff
19:07 <+bridge> [ddnet] <Learath2> I think demos record one complete snapshot every 5 seconds
19:07 <+bridge> [ddnet] <archimede67> that's why i used a demorecorder xd
19:07 <+bridge> [ddnet] <Learath2> yeah I know, but the easiest solution is rarely the best solution ðŸ˜›
19:07 <+bridge> [ddnet] <archimede67> but
19:08 <+bridge> [ddnet] <archimede67> now i have a ringbuffer with `CSnaphost` but idk if it acutally works xd
19:09 <+bridge> [ddnet] <Learath2> well write it out to a file and see if it works? ðŸ˜›
19:09 <+bridge> [ddnet] <archimede67> i need to write demo header and all that stuff before xd
19:09 <+bridge> [ddnet] <Learath2> Create a demo recorder
19:09 <+bridge> [ddnet] <Learath2> Start it
19:09 <+bridge> [ddnet] <Learath2> feed it the snapshots using RecordSnapshot
19:10 <+bridge> [ddnet] <archimede67> oh yeah
19:10 <+bridge> [ddnet] <archimede67> and i need it to not record the actual gameplay
19:10 <+bridge> [ddnet] <archimede67> ok i see
19:10 <+bridge> [ddnet] <Learath2> ðŸ˜„
19:10 <+bridge> [ddnet] <archimede67> but now i go eat xd
19:12 <+bridge> [ddnet] <Learath2> trying to craft a demo by hand is a futile effort ðŸ˜›
19:12 <+bridge> [ddnet] <Learath2> too much work
19:29 <+bridge> [ddnet] <Learath2> Rofi needs a better fuzzy search
19:29 <+bridge> [ddnet] <Learath2> https://cdn.discordapp.com/attachments/293493549758939136/583346270115069952/JPEG_20190529_192932.jpg
19:30 <+bridge> [ddnet] <Ryozuki> i never had problems
19:30 <+bridge> [ddnet] <Ryozuki> xd
19:32 <+bridge> [ddnet] <Learath2> well i'm sure firefox should match fire better then "file creator" ðŸ˜„
19:41 <+bridge> [ddnet] <heinrich5991> @Learath2 even my fuzzy searcher does better than that ðŸ˜›
19:49 <+bridge> [ddnet] <Ryozuki> @Learath2 werent u the one complaining about a unthemed rofi xd
20:00 <+bridge> [ddnet] <Learath2> @Ryozuki don't judge me, I'm just setting up ðŸ˜›
20:00 <+bridge> [ddnet] <Ryozuki> i also got a good theme now
20:05 <+bridge> [ddnet] <archimede67> Lol only the f matches in firefox when u type fire? xd
20:07 <+bridge> [ddnet] <Ryozuki> 
20:07 <+bridge> [ddnet] <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/583355840883326990/unknown.png
20:08 <+bridge> [ddnet] <Ryozuki> :poggers:
20:08 <+bridge> [ddnet] <Ryozuki> maim -d | xclip -selection clipboard -t image/png
20:08 <+bridge> [ddnet] <Ryozuki> so complicated to screenshot rofi
20:08 <+bridge> [ddnet] <Ryozuki> xd
20:37 <+bridge> [ddnet] <archimede67> xD
20:38 <+bridge> [ddnet] <archimede67> Still cannot stream?
20:55 <+bridge> [ddnet] <archimede67> oof
20:55 <+bridge> [ddnet] <archimede67> https://cdn.discordapp.com/attachments/293493549758939136/583367899972894730/unknown.png
20:55 <+bridge> [ddnet] <archimede67> i guess what i did doesn't really work xd
21:04 <+bridge> [ddnet] <Tysou> @archimede67  du coup on peut rien faire pour moi ?
21:04 <+bridge> [ddnet] <archimede67> pas pour l'instant xd
21:04 <+bridge> [ddnet] <Tysou> ok
21:04 <+bridge> [ddnet] <archimede67> @jao be nice
21:05 <+bridge> [ddnet] <Learath2> @Ryozuki I just gave up and took the photo with a phone ðŸ˜›
21:06 <+bridge> [ddnet] <Learath2> @archimede67 hf debugging that
21:06 <+bridge> [ddnet] <archimede67> xd
21:06 <+bridge> [ddnet] <archimede67> what i'm doing is fukin ugly xd
21:08 <+bridge> [ddnet] <archimede67> ah maybe its because i didn't stop the recorder xd
21:09 <+bridge> [ddnet] <archimede67> oh i heard hammer sound ðŸ˜®
21:11 <+bridge> [ddnet] <Learath2> lol, did you manage to record only a hammer sound?
21:12 <+bridge> [ddnet] <archimede67> idk xd
21:12 <+bridge> [ddnet] <archimede67> actually
21:12 <+bridge> [ddnet] <archimede67> i don't even know what size the ringbuffer should be
21:12 <+bridge> [ddnet] <Learath2> well I guess the amount of seconds you want to record times 50
21:12 <+bridge> [ddnet] <archimede67> why 50?
21:12 <+bridge> [ddnet] <archimede67> 50 fps?
21:13 <+bridge> [ddnet] <Learath2> there are 50 ticks in a second
21:13 <+bridge> [ddnet] <archimede67> oh
21:13 <+bridge> [ddnet] <archimede67> for now the size is 64*1024
21:13 <+bridge> [ddnet] <archimede67> and i get 0s demo from that
21:13 <+bridge> [ddnet] <Learath2> 0s doesn't really make sense
21:14 <+bridge> [ddnet] <archimede67> or at least 0.xx seconds
21:14 <+bridge> [ddnet] <archimede67> like 0.2 or something because only like 12 snapshots can fit in this buffer
21:14 <+bridge> [ddnet] <Learath2> show me how you are adding the snapshots to the buffer
21:14 <+bridge> [ddnet] <Learath2> 64*1024?
21:14 <+bridge> [ddnet] <archimede67> there
21:14 <+bridge> [ddnet] <archimede67> ```cpp
21:15 <+bridge> [ddnet] <archimede67> // replay: add snapshot to ringbuffer
21:15 <+bridge> [ddnet] <archimede67> if(g_Config.m_ClRaceReplays)
21:15 <+bridge> [ddnet] <archimede67>     {
21:15 <+bridge> [ddnet] <archimede67>     //dbg_msg("replay", "snapsize: %d", SnapSize);
21:15 <+bridge> [ddnet] <archimede67>     CSnapshot *pSnapshot = m_ReplayBuffer.Allocate(sizeof(CSnapshot) + SnapSize);
21:15 <+bridge> [ddnet] <archimede67>     mem_copy(pSnapshot, aExtraInfoRemoved, SnapSize);
21:15 <+bridge> [ddnet] <archimede67> }
21:15 <+bridge> [ddnet] <archimede67> ```
21:15 <+bridge> [ddnet] <archimede67> there
21:15 <+bridge> [ddnet] <archimede67> ```cpp
21:15 <+bridge> [ddnet] <archimede67> // replay: add snapshot to ringbuffer
21:15 <+bridge> [ddnet] <archimede67> if(g_Config.m_ClRaceReplays)
21:15 <+bridge> [ddnet] <archimede67> {
21:15 <+bridge> [ddnet] <archimede67>     //dbg_msg("replay", "snapsize: %d", SnapSize);
21:15 <+bridge> [ddnet] <archimede67>     CSnapshot *pSnapshot = m_ReplayBuffer.Allocate(sizeof(CSnapshot) + SnapSize);
21:15 <+bridge> [ddnet] <archimede67>     mem_copy(pSnapshot, aExtraInfoRemoved, SnapSize);
21:15 <+bridge> [ddnet] <archimede67> }
21:15 <+bridge> [ddnet] <archimede67> ```
21:15 <+bridge> [ddnet] <Learath2> I meant of seconds you want to record times 50 snapshots obv
21:15 <+bridge> [ddnet] <Learath2> not bytes ðŸ˜›
21:15 <+bridge> [ddnet] <archimede67> ok lemme tryagain xd
21:17 <+bridge> [ddnet] <archimede67> OH
21:17 <+bridge> [ddnet] <archimede67> i got a 6s demo now
21:17 <+bridge> [ddnet] <archimede67> but is it working
21:17 <+bridge> [ddnet] <Learath2> idk, you tell me ðŸ˜›
21:17 <+bridge> [ddnet] <archimede67> LMAO
21:17 <+bridge> [ddnet] <archimede67> Its fully bugged ðŸ˜‚
21:18 <+bridge> [ddnet] <n000b> Send
21:18 <+bridge> [ddnet] <archimede67> wtf the teeworlds music is playing from everywhere xD
21:18 <+bridge> [ddnet] <archimede67> k
21:18 <+bridge> [ddnet] <archimede67> but be ready
21:18 <+bridge> [ddnet] <archimede67> and its so speeded up xd
21:18 <+bridge> [ddnet] <Learath2> I'm guessing CSnapshot doesn't really take too well to being mem_copy'd ðŸ˜›
21:19 <+bridge> [ddnet] <archimede67> 
21:19 <+bridge> [ddnet] <archimede67> https://cdn.discordapp.com/attachments/293493549758939136/583373823857000470/Genereatron_2019-05-29_21-17-15_replay.demo
21:19 <+bridge> [ddnet] <archimede67> oh dang it xd
21:19 <+bridge> [ddnet] <archimede67> 
21:19 <+bridge> [ddnet] <archimede67> https://cdn.discordapp.com/attachments/293493549758939136/583373888243761163/unknown.png
21:20 <+bridge> [ddnet] <Learath2> lol it's not as broken as i expected
21:21 <+bridge> [ddnet] <archimede67> xd
21:21 <+bridge> [ddnet] <archimede67> its still broken
21:21 <+bridge> [ddnet] <archimede67> you want to see a better broken demo? xd
21:22 <+bridge> [ddnet] <archimede67> try this one ðŸ˜‚
21:22 <+bridge> [ddnet] <archimede67> https://cdn.discordapp.com/attachments/293493549758939136/583374559542116354/Halloween_Night_2019-05-29_21-21-38_replay.demo
21:23 <+bridge> [ddnet] <Learath2> LOL
21:23 <+bridge> [ddnet] <Learath2> brilliant
21:23 <+bridge> [ddnet] <archimede67> ðŸ˜‚
21:23 <+bridge> [ddnet] <archimede67> need to be fixed xd
21:25 <+bridge> [ddnet] <Learath2> @archimede67 first of all, the timing
21:25 <+bridge> [ddnet] <Learath2> are you passing in the correct ticks?
21:25 <+bridge> [ddnet] <archimede67> idk
21:25 <+bridge> [ddnet] <archimede67> like
21:25 <+bridge> [ddnet] <Learath2> to Record snapshot that is
21:25 <+bridge> [ddnet] <archimede67> i added a thing in the ringbuffer to get the number of actual allocations it has
21:26 <+bridge> [ddnet] <archimede67> so i can loop through it and get all the snapshots
21:26 <+bridge> [ddnet] <archimede67> there
21:27 <+bridge> [ddnet] <archimede67> ```cpp
21:27 <+bridge> [ddnet] <archimede67> CSnapshot *pEntry = m_ReplayBuffer.First();
21:27 <+bridge> [ddnet] <archimede67> 
21:27 <+bridge> [ddnet] <archimede67>         dbg_msg("replay", "number of snapshots in buffer: %d", m_ReplayBuffer.Allocations());
21:27 <+bridge> [ddnet] <archimede67> 
21:27 <+bridge> [ddnet] <archimede67>         ReplayRecorder.RecordSnapshot(0, pEntry, pEntry->GetDataSize());
21:27 <+bridge> [ddnet] <archimede67>         for(int i = 1; i < m_ReplayBuffer.Allocations(); i++)
21:27 <+bridge> [ddnet] <archimede67>         {
21:27 <+bridge> [ddnet] <archimede67>             pEntry = m_ReplayBuffer.Next(pEntry);
21:27 <+bridge> [ddnet] <archimede67>             ReplayRecorder.RecordSnapshot(i, pEntry, pEntry->GetDataSize());
21:27 <+bridge> [ddnet] <archimede67>         }
21:27 <+bridge> [ddnet] <archimede67> ```
21:28 <+bridge> [ddnet] <archimede67> each snapshot is recorded on a tick no?
21:28 <+bridge> [ddnet] <Learath2> that is definitely not how you use a ringbuffer ðŸ˜„
21:28 <+bridge> [ddnet] <archimede67> ah
21:28 <+bridge> [ddnet] <archimede67> rip
21:28 <+bridge> [ddnet] <archimede67> i tought
21:28 <+bridge> [ddnet] <Learath2> while(buffer->Next()) { void *first = buffer->First(); .... buffer->PopFirst(); }
21:28 <+bridge> [ddnet] <Learath2> is the idiom
21:29 <+bridge> [ddnet] <archimede67> but the buffer is used
21:29 <+bridge> [ddnet] <archimede67> i should make a copy?
21:29 <+bridge> [ddnet] <Learath2> while(buffer->First()) sorry
21:29 <+bridge> [ddnet] <archimede67> i thought
21:30 <+bridge> [ddnet] <Learath2> see that is a problem I haven't actually considered
21:30 <+bridge> [ddnet] <archimede67> xd
21:30 <+bridge> [ddnet] <archimede67> it'll be fucked up if i pop it as i add items into it xd
21:31 <+bridge> [ddnet] <archimede67> if i pop items*
21:31 <+bridge> [ddnet] <Learath2> you could lock it, when you produce the demo
21:32 <+bridge> [ddnet] <Learath2> but then it'll be missing snapshots
21:32 <+bridge> [ddnet] <Learath2> it might be*
21:32 <+bridge> [ddnet] <archimede67> hmm
21:33 <+bridge> [ddnet] <archimede67> but i need to have the correct ticks also
21:34 <+bridge> [ddnet] <Learath2> ticks you could just store along with the snapshot, that's not the hard part
21:35 <+bridge> [ddnet] <Learath2> I guess you do need a copy, but you can't really just copy a ringbuffer
21:35 <+bridge> [ddnet] <Learath2> not the kind we have in the codebase atleast
21:36 <+bridge> [ddnet] <archimede67> nice... xd
21:36 <+bridge> [ddnet] <Learath2> you could allocate an array of snapshots in your thread, then copy into that from the ringbuffer
21:37 <+bridge> [ddnet] <archimede67> ah ye
21:37 <+bridge> [ddnet] <Learath2> like while(pEntry != buffer->Last()) { copystuff; pEntry = buffer->Next(pEntry); }
21:38 <+bridge> [ddnet] <Learath2> `for(void *pEnt = buffer->First(); pEnt != buffer->Last(); pEnt = buffer->Next(pEnt))`
21:38 <+bridge> [ddnet] <Learath2> even looks cute as a for loop ðŸ˜›
21:38 <+bridge> [ddnet] <archimede67> ok thanks xd
21:39 <+bridge> [ddnet] <Learath2> I mean this is looking more and more horrible every second ðŸ˜›
21:39 <+bridge> [ddnet] <archimede67> yeah xd
21:39 <+bridge> [ddnet] <Learath2> @heinrich5991 maybe you can come up with a decent idea ðŸ™‚
21:48 <+bridge> [ddnet] <Learath2> @archimede67 `CSnapshotStorage` looks interesting
21:50 <+bridge> [ddnet] <archimede67> hmm yeah
21:50 <+bridge> [ddnet] <archimede67> but what's the Tagtime?
21:53 <+bridge> [ddnet] <Learath2> I have no idea, looks like it's the current time
21:55 <+bridge> [ddnet] <Learath2> could maybe tack on a `GetInterval` function to return all the snapshots between two given ticks
21:56 <+bridge> [ddnet] <Learath2> but it's a linked list, not a ringbuffer, so it might be a tad unwieldy to use as such
21:56 <+bridge> [ddnet] <Learath2> you'll need to drop old snapshots
22:07 <+bridge> [ddnet] <archimede67> oh man i need to record snapshot from dummy as well
22:12 <+bridge> [ddnet] <archimede67> i'm lost
23:11 <+bridge> [ddnet] <heinrich5991> this seems like it's getting lost
23:11 <+bridge> [ddnet] <heinrich5991> in the intial version, how much did it lag?
23:11 <+bridge> [ddnet] <heinrich5991> perhaps we can just merge the single-threaded variant
23:15 <+bridge> [ddnet] <archimede67> I did a version with a thread which was safe i guess, you can take a look at it if u want, the only problem i could fine is that when you were playing for a long time (>50 mins) then save a replay, there is some delay (it gets bigger the more you play) like 3-4 seconds before seeing the notification, but you dont notice any freeze as it is in a thread
23:20 <+bridge> [ddnet] <heinrich5991> how did you deliver the notification back?
23:20 <+bridge> [ddnet] <archimede67> i wait for the thread to be done in the client loop
23:20 <+bridge> [ddnet] <heinrich5991> ah
23:20 <+bridge> [ddnet] <heinrich5991> do you know why it takes longer if you are playing for a longer time?
23:20 <+bridge> [ddnet] <archimede67> ye
23:21 <+bridge> [ddnet] <archimede67> the file size is bigger, so when loading the actual demo it takes more or less time, depending on that size
23:21 <+bridge> [ddnet] <heinrich5991> ah
23:21 <+bridge> [ddnet] <archimede67> to create a replay i use the slice method of the demoeditor, which loads first the demo then record it from a starttick to and endtick
23:22 <+bridge> [ddnet] <heinrich5991> ah
23:22 <+bridge> [ddnet] <archimede67> to create a replay i use the slice method of the demoeditor, which loads first the demo then record it from a starttick to an endtick
23:22 <+bridge> [ddnet] <heinrich5991> I mean if that version is safe from races, we could probably merge it and look onward from there
23:30 <+bridge> [ddnet] <archimede67> yeah just need to make sure i didn't do shit xd
