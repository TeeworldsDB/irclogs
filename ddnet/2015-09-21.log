00:13 <@deen> GER2 unplayable, now Chile down
00:18 <@deen> ah shit, our ddos attack took down the chilean hoster entirely, they won't like that
10:36 <@deen> New GER2 server in Luxembourg running if anyone wants to try
10:40 < Learath2> i literally got banned for 5 because i missed a jump on a run map :D
10:40 <@deen> huh?
10:41 < Learath2> missed a jump landed on somewhere i wasnt supposed to be someone voted cheater everyone said yes :D
10:43 < Learath2> ger2 seems to work fine
10:43 < Learath2> my ping is only 10 worse
10:44 < laxa> 68 ms to ger 2
10:45 <@deen> laxa: huh? worse than to GER?
10:45 <@deen> from France?
10:45 < laxa> it's approximatiley the same
10:45 < laxa> currently usiung VPN
10:46 < laxa> so connection is from ddracepro.net to lux
10:46 < laxa> and I have 38 ms to ddracepro
10:46 < laxa> 12 HOPs
10:47 < laxa> using telia then voxility
10:47 < laxa> I got 60 ms using traceroute in total
10:48 < laxa> 10 more ms than GER 1 according to traceroute again
10:48 < laxa> 11.4 ms to be exact :p
10:50 < laxa> No idea if there is a tool to see the current route to a host
10:50 < laxa> with location on a map I mean
10:50 < laxa> And dunno where GER is located
10:50 < laxa> but seems like the route isn't optimal for me
10:52 < laxa> !trace 198.251.84.139
10:52 < Nimda> Can't trace 198.251.84.139.
10:52 < laxa> !location 198.251.84.139
10:52 < laxa> !help
10:53 < laxa> iplocation finds 198.251.84.139 in USA o/
10:59 < laxa> deen: 	g_server = (t_server *)mallocExitIfFail(sizeof(*g_server), QuitServer, NULL);
11:00 < laxa> or 	g_server = (t_server *)mallocExitIfFail(sizeof(*g_server), &QuitServer, NULL);
11:00 < laxa> Both are compiling and working, is any choice better ?
11:08 < Learath2> QuitServer is a function so both are correct the & is just implied in the first one
11:13 < laxa> Ok thanks Learath2
11:25 < o_be_two> helo :)
11:32 < fstd> HELO is obsolete, use EHLO
11:33 < Learath2> who thought up of that name anyways ??
11:38 < o_be_two> fstd: :D sup' :) ?
11:39 < fstd> hi
12:09 < Nimda> frustrainleave by r3tr0 just released on Race at 2015-09-21 12:00
12:09 < Nimda> pocramruinrun by Pocram just released on Race at 2015-09-21 12:00
13:28 <@deen> hi o_be_two
13:31 < fgfgf> Oh, wonderful. Ping is 40ms better to new ger2(from 88 to 48).
13:34 <@EastByte> ping seems good to me
13:34 <@EastByte> nice, geoip wants to convince me the server is located in the USA ^.^
13:41 < devnull> yup
13:41 < devnull> same here
13:41 < devnull> cheyenne (US)
13:43 <@deen> fgfgf: how's your ping to gametown-projects.de?
13:45 < fgfgf> deen: rtt min/avg/max/mdev = 27.688/27.772/27.846/0.182 ms
13:46 <@deen> so, even better, good
13:50 < Sadale> meanwhile in Asia: rtt min/avg/max/mdev = 278.629/282.362/291.428/3.082 ms
14:07 < o_be_two> my MC32 is stuck at reinstall so i'm waiting for support :)
14:08 <@EastByte> haha, didn't you say that a week ago?
14:09 < o_be_two> ahah maybe, just contacted them yesterday (im really busy :p)
14:10 < o_be_two> thats funny to get "customer answers" even if my account is a staff account lol
14:10 <@EastByte> heh
17:18 <@deen> should really read the ToS carefully with these sneaky hosters
17:18 <@deen> on their page they say "unlimited traffic" with a throttling in "extreme cases"
17:18 <@deen> in the ToS these "extreme cases" suddenly become 200 GB / month
17:21 < laxa> rofl xD
17:25 <@EastByte> haven't seen http://gametown-projects.de before
17:26 <@deen> i'm buying one with them now
17:26 <@deen> great ping, voxility ddos, frankfurt, direct peering telekom
17:26 < laxa> http://pastebin.com/EYqizjgC
17:26 < laxa> funny chatlog
17:26 < laxa> should read it
17:26 <@deen> EastByte: i found it by searching for voxility's ddos protection in frankfurt^^
17:29 <@deen> thanks to eeeee for showing me that there even are servers using voxility's frankfurt ddos protection
17:29 <@deen> even though the one he found was in luxembourg^^
17:30 <@deen> and had telia peering to Telekom
17:32 <@EastByte> deen: is it the hoster of current GER2?
17:32 <@deen> EastByte: yep, buyvm
17:32 <@deen> but i don't like that they route everything through frankfurt for their ddos protection
17:32 <@deen> so I'm cancelling it right now
17:33 <@EastByte> kk
17:33 <@EastByte> laxa: go do some whitejobs :p
17:35 <@EastByte> oh, buyvm offers ddos protected GRE tunneling
17:36 <@deen> EastByte: but then you go through frankfurt and luxembourg
17:36 <@deen> not ideal
17:38 <@EastByte> yea
17:39 < o_be_two> really funny laxa :)
18:28 < Henningstone> I've one question, is anybody using skype in here? Because my skype doesn't connect already for the whole day :0
18:28 <@deen> Henningstone: yeah, normal problem today
18:28 < Henningstone> Is anybody else expireing problems?
18:28 < Henningstone> ah
18:28 <@EastByte> skype works again for me
18:28 < Henningstone> ok thanks, so skype's fault >.>
18:28 < fstd> read more interwebs
18:29 < Nimda> Samsara III by Meliodafu just released on Moderate at 2015-09-21 18:25
18:29 < fstd> also, skype is garbage
18:29 < Henningstone> xD
18:29 < Henningstone> yeah, but well....
18:29 < Henningstone> the thing is that I wasn't at home the whole day, only at 11:30 and now
18:29 < Henningstone> so i wondered.
20:03 < tyurd> could any1 help me with linux
20:04 < devnull> !twp Henningstone
20:04 < Nimda> No Henningstone found online.
21:22 <@deen> anyone want to add support so that ddnet servers can run on multiple sql server backends?
21:22 <@deen> so when one goes down, it just switches to the other
21:23 <@deen> then we could change the layout of ddnet servers
21:23 <@deen> instead of having a mysql server running on each, we would have:
21:23 <@deen> - 2 DB servers that sync to each other, secret IPs so they don't get DDoSed easily
21:23 <@deen> - All the locations use these DB servers directly, so we can get servers with less RAM
21:24 <@deen> and when a server goes down there is no problem for the other servers
21:28 <@deen> any thoughs on that idea?
21:28 <@deen> it would significantly lower the work of administrating ddnet servers
21:28 <@deen> and we could even scale down to some prepared image and just distribute that to the locations
21:37 <@deen> ger.ddnet.tw: 113 ms, ger2.ddnet.tw: 20 ms, perfect
21:50 <@EastByte> having two db servers sounds much better I think
21:50 <@deen> yeah, just needs support for that in the DDNet server
21:51 <@deen> ah, and automating all this stuff means it becomes harder to change and add new features
21:56 <@EastByte> hm depends on what kind of features
21:56 < devnull> didnt we talked about external mysql servers EastByte
21:56 <@EastByte> a bit I think
21:58 <@deen> and the DB servers could be pretty cheap, need no ddos protection
21:58 <@EastByte> indeed
21:58 <@deen> just some pretty reliable 4 â‚¬ / month servers
21:58 <@deen> (from 2 different hosters of course)
22:00 <@EastByte> deen: what plan of gametown-projects did you order?
22:00 <@deen> EastByte: cheapest KVM
22:01 <@deen> I'm trying to convince him to give me a 2nd cpu core for free because their performance is pretty terrible :P
22:01 <@deen> I'm still waiting for a big ddos attack on the server, if it can't survive that it's useless
22:02 <@deen> buying 2 more cores would be cheap anyway, shouldn't matter much
22:02 <@EastByte> shouldn't take long I guess
22:02 <@deen> i think there was one, but i didn't any ddos panel so far
22:03 <@deen> at least there was more incoming traffic than outgoing, usually a sign of (partially blocked) ddos
22:03 <@EastByte> ah
22:04 <@deen> and the hoster made some other weird choices, like qcow2 for the disk...
22:04 <@deen> but didn't notice any problems with that, tried some things and watched for lag spikes
22:06 <@EastByte> the plan says 1 gbit/s shared, the vps still is throttled to 100mbit right?
22:07 <@deen> nope
22:07 <@EastByte> oh
22:07 <@deen> i think i copied the server data over with 500 mbit/s
22:07 <@EastByte> hm, easy to hit unlimited* then :p
22:07 <@deen> i talked to him about that, sounds like a nice guy (if not, can always cancel)
22:08 <@deen> he said he's never throttled a server
22:29 <@deen> eh, ddos
22:30 <@deen> protection not working clearly
22:31 <@EastByte> looks down from here
22:31 <@deen> yep
22:31 <@deen> well, shit
22:31 <@deen> so much for voxility ddos protection
22:32 <@EastByte> ip already null-routed?
22:32 <@deen> didn't get a mail
22:33 < dimi> it looks all GER2 servers just went down
22:33 <@deen> right, ddos attack
22:33 <@deen> protection is shit
22:33 < dimi> ok
22:33 <@deen> or at least the protection is shit for us
22:34 <@deen> ssh still seems to work, but they block all udp
22:34 <@EastByte> every protection is shit for teeworlds
22:34 <@deen> there is no network traffic reaching the server, so the protection must be overreacting pretty hard
22:35 <@EastByte> that's bad
22:35 <@deen> yep, probably optimized for http, like all ddos protections
22:35 < laxa> there is no real solution beside hiding all servers behind reverse proxy
22:35 < laxa> valve is doing something like that
22:36 <@deen> laxa: that's not a solution, that's just moving the problem to the reverse proxies
22:36 < laxa> all matchmaking servers are hidden
22:36 <@EastByte> meh, for protected http some should just use a CDN
22:36 <@deen> and sure, it's a good idea to separate ddos protection from hosting
22:36 <@deen> if you have the money
22:36 < laxa> Yes, I know that's the real issue
22:36 < laxa> just saying, you maybe spend too much time looking for something you won't find
22:37 <@deen> it's not about finding something perfect, it's about finding the least bad solution^^
22:37 < laxa> don't think you would find anything better than OVH/online.net/the thing you had from o_be_one
22:37 <@deen> o_be_two's server could be it
22:38 <@deen> higher ping for GER, but rest could be good
22:38 < laxa> how much costs hiding servers with cloudfare ?
22:38 <@deen> cloudflare is tcp/http only i think
22:38 <@EastByte> cloudflare is for content delivery
22:38 <@EastByte> not gaming
22:39 < laxa> I admire your tenacity deen
22:39 <@EastByte> also a reverse proxy doesn't make much sense, since teeworlds is low-end enough, to even run on the gateways/routers itself :P
22:39 < laxa> well, now you have scripts to deploy new servers, so, testing host doesn't make you loose too much time hopefully
22:39 <@deen> right, 2 dedicated cores of a modern cpu would be enough for DDNet GER
22:40 < laxa> EastByte: point is to hide the IP inside a cloud/datacenter
22:40 < guenstigwerben> Na dann noch eine gute Nacht @heinrich
22:40 <@EastByte> laxa: the hidden ip won't be reachable anymore on ddos (game traffic)
22:41 < laxa> I am just curious how big company like valve are handling ddos
22:41 <@deen> laxa: by paying a company to handle it :P
22:41 < laxa> I know for sure that Europe west server is it Luxembourg
22:41 < laxa> blizzard is using telia network in Europe
22:41 < laxa> Well
22:41 <@deen> laxa: that explains why everyone complains about their WoW ping from Deutsche Telekom :P
22:41 < devnull> http://img.nonreal.de/a251e1.png
22:42 < devnull> ddos?
22:42 < laxa> Maybe it would be smart/wise to ask popular games running their own server how they handle those problems don't you think ?
22:42 <@deen> devnull: yeah, GER2, RUS, Chile are getting ddosed
22:42 <@EastByte> devnull: the new server doesn't work out
22:43 <@deen> devnull: pretty much daily
22:45 <@deen> well, that's what I should have expected of Voxility's DDoS protection
22:45 <@deen> in the Luxembourg server they also only had TCP + Steam protocol specific anti-ddos stuff
22:46 <@EastByte> meh, I want a ddos protection that allows custom filter rules
22:47 <@EastByte> it's just stupid to detect and drop 'maliciuos' traffic 
22:47 <@deen> EastByte: start working at OVH?
22:47 <@EastByte> better drop everything except the game protocol
22:47 <@heinrich5991> how do you detect the "game protocol"?
22:48 <@EastByte> based on characteristics
22:48 <@deen> heinrich5991: synthetic rat brains trained on UDP packets as input
22:48 <@EastByte> yea!
22:49 <@deen> EastByte: easiest solution would be to write your game to emulate HTTPs traffic
22:50 <@deen> so it totally looks and behaves like HTTPs, but actually is UDP game packets
22:51 <@EastByte> yep, iirc we wanted to test it with multiple tcp streams
22:51 <@deen> multiple tcp streams is bad
22:51 <@deen> they'll get into each others way and complicate stuff
22:52 <@EastByte> how is that?
22:52 <@deen> would be nice if you could tell the OS that a TCP port should actually be used for raw packets
22:53 <@deen> they steal each others' bandwidth, tcp speeds up, stuff like that
22:53 <@deen> udp is really what you want for a game like ddnet
22:53 <@EastByte> I don't think multiple tcp streams would get in conflict on low traffic
22:54 <@deen> and when you have tcp resends?
22:54 <@EastByte> happens on packet loss, but that won't fill up your whole bandwidth
22:55 <@EastByte> also it might be possible to kill tcp sessions on both sides
22:55 <@EastByte> I bet there are some hacky solutions, nvm I hate tcp anyway
22:55 <@heinrich5991> that's interesting actually
22:56 <@heinrich5991> I think you could hack the server so it does never request resends from the client
22:57 <@heinrich5991> and you could hack the server that it doesn't actually resend anything
22:57 <@heinrich5991> but rather sends new messages
22:57 <@heinrich5991> mh.
22:57 <@heinrich5991> might give a problem with clients buffering packets that are a bit ahead
22:58 <@EastByte> tcp is so complicated o.o
22:59 <@heinrich5991> and so useful
22:59 <@heinrich5991> e.g. http and ssh don't need to deal with that low-level stuff
23:00 <@EastByte> well I wish there would be an alternative with optional reliability
23:01 <@EastByte> also mostly a frame based protocol is implemented on tcp
23:02 <@EastByte> which is kinda pointless since tcp works with frames in low-level
23:03 <@heinrich5991> well, it lets you combine frames
