00:11 < bridge> <deen> Yes, that's exactly what we did. pause, overwrite value, continue
02:32 < bridge> <anderson_crypto✪> "I'll teach first 10 persons how to earn $30k or more in 72 hours  from the crypto market. But you will pay me 10% commission when you receive your profit. if interested send me a direct message me by asking HOW for more details on how to get started+1 (559) 666‑3967https://t.me/+t5FYXx5fEB02M2Vk
02:32 < bridge> <anderson_crypto✪> "I'll teach first 10 persons how to earn $30k or more in 72 hours  from the crypto market. But you will pay me 10% commission when you receive your profit. if interested send me a direct message me by asking HOW for more details on how to get started+1 (559) 666‑3967https://t.me/+t5FYXx5fEB02M2Vk
11:00 < bridge> <Ryozuki> https://github.com/fish-shell/fish-shell/pull/9512
11:00 < bridge> <Ryozuki> gigachad ngl
11:06 < bridge> <Jupstar ✪> Lol is the project so small?^^
11:06 < bridge> <Ryozuki> it didnt port all at once
11:06 < bridge> <Ryozuki> > This should be thought of as a "port" instead of a "rewrite" because we would not start from scratch; instead we would translate C++ to Rust, incrementally, module by module, in the span of one release. We'll use an FFI so the Rust and C++ bits can talk to each other until C++ is gone, and tests and CI keep passing at every commit.
11:06 < bridge> <Ryozuki> > 
11:06 < bridge> <Ryozuki> > To prove it can work, in this PR I've ported FLOG, topic monitor, wgetopt, builtin_wait, and some others to Rust. The Rust bits live in a crate that lives inside the C++ and links with it. You can just build it the usual way:
11:07 < bridge> <Ryozuki> <https://github.com/ridiculousfish/fish-shell/blob/riir/doc_internal/fish-riir-plan.md>
11:07 < bridge> <Ryozuki> the plan xd
11:07 < bridge> <Jupstar ✪> I just don't understand wtf his plan is
11:08 < bridge> <Ryozuki> to port fish to rust
11:08 < bridge> <Jupstar ✪> He wants it in one release but goes over cpp bindings
11:08 < bridge> <Ryozuki> he didnt say he wants it in one release tho?
11:08 < bridge> <Jupstar ✪> Why not complete rewrite xd
11:08 < bridge> <Jupstar ✪> The pr says it
11:08 < bridge> <Ryozuki> where
11:09 < bridge> <Jupstar ✪> Ah he means major release
11:10 < bridge> <Jupstar ✪> This should be thought of as a "port" instead of a "rewrite" because we would not start from scratch; instead we would translate C++ to Rust, incrementally, module by module, in the span of one release. We'll use an FFI so the Rust and C++ bits can talk to each other until C++ is gone, and tests and CI keep passing at every commit.
11:10 < bridge> <Jupstar ✪> Was confused by the"span of one release" part
11:11 < bridge> <Ryozuki> @heinrich5991 did u consider https://github.com/corrosion-rs/corrosion when adding rust to ddnet?
11:12 < bridge> <Ryozuki> @Jupeyy_Keks
11:12 < bridge> <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/1069923095990767646/TJ8L11SS0-U04CYUXCM7U-f4930ec7ce51-512.png
11:12 < bridge> <Ryozuki> crab wins fish
11:12 < bridge> <Jupstar ✪> Or crab killed fish
11:12 < bridge> <Ryozuki> xd
11:13 < bridge> <Jupstar ✪> Why even a crab
11:13 < bridge> <Jupstar ✪> I like that anime girl more
11:13 < bridge> <Ryozuki> true
11:13 < bridge> <Ryozuki> @Jupeyy_Keks also the anime girl as details
11:13 < bridge> <Ryozuki> the ampersan as a pin
11:14 < bridge> <Ryozuki> its hilarious
11:14 < bridge> <Ryozuki> &
11:14 < bridge> <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/1069923644337291334/z30gb4g5vwea1.webp
11:14 < bridge> <Ryozuki> kek
11:14 < bridge> <Ryozuki> where is c++ chan
11:15 < bridge> <Ryozuki> https://tenor.com/view/anime-old-sophie-howl-scared-gif-12316451
11:15 < bridge> <Ryozuki> found her
11:22 < bridge> <Jupstar ✪> Is that the granny from Kiki's ... Then she is cool xd
11:23 < bridge> <Jupstar ✪> Is that the granny from Kiki's delivery service Then she is cool xd
11:39 < bridge> <DefaultO> No thats the moving castle
11:39 < bridge> <DefaultO> kikis delivery system is the girl riding a broom i think
11:39 < bridge> <DefaultO> And that kid doesnt get old
11:39 < bridge> <DefaultO> kikis delivery service is the girl riding a broom i think
11:41 < bridge> <DefaultO> No thats the howlings (?) moving castle
11:45 < bridge> <Jupstar ✪> But there is a granny in the show xd
11:45 < bridge> <Jupstar ✪> That wants to fly with the broom
11:45 < bridge> <Jupstar ✪> But yeah it's  different xd
11:46 < bridge> <DefaultO> Yea I know all Ghibli movies
12:22 < bridge> <f> @Jupeyy_Keks who should i ask for the fix?
12:28 < bridge> <Jupstar ✪> Puppet#0463
12:29 < bridge> <Jupstar ✪> I dunno if he already did it, but at talked about it in pm
12:29 < bridge> <Jupstar ✪> I dunno if he already did it, but we talked about it in pm
12:32 < bridge> <f> xD
12:32 < bridge> <f> i see
12:32 < bridge> <f> he sent me here
12:32 < bridge> <f> hahahaha
12:32 < bridge> <f> i guess i'll have to code the tool then
12:36 < bridge> <Jupstar ✪> Oh. You can still ask patiga. He is good with his tool and just clamping env points to 1 sounds ez
12:36 < bridge> <Jupstar ✪> If you ask kindly he might do it^^
12:36 < bridge> <f> clamp is ez i could also manage to do it manually
12:36 < bridge> <f> but quads should be fixed too
12:37 < bridge> <f> its not enough to reduce the value on the env
12:37 < bridge> <f> quads are too much..... a script is needed
12:37 < bridge> <f> quads are too many..... a script is needed
12:37 < bridge> <Jupstar ✪> Oh it's not enough? I assume it clamps the quad color itself then?
12:37 < bridge> <f> the final result wont be the same
12:38 < bridge> <f> we tried...
12:38 < bridge> <f> its because of the multiplication
12:38 < bridge> <f> if the final result is less than 255
12:38 < bridge> <f> its not you can reduce only the env value
12:38 < bridge> <f> the equation is not balanced anymore
12:39 < bridge> <Jupstar ✪> Ah yeah I see
12:39 < bridge> <f> so the tool should foreach every quad
12:39 < bridge> <f> and see the max value it reaches with the current env points
12:39 < bridge> <f> and change both ...
12:39 < bridge> <f> i really hoped someone else did this already xd
12:41 < bridge> <Jupstar ✪> I only remember I talked about it with patiga a few years ago already. But it wasn't really ever a problem, since ddnet maps don't rely on it.
12:41 < bridge> <Jupstar ✪> Mh yeah kinda annoying, but rn I also cannot help You BCS not at a computer
12:50 < bridge> <f> im kinda surprised you havent experienced this problem on ddnet maps... is so easy to set a color env value > 1... you see something in the editor thinking that's the effect, than in game it's completely different
12:51 < bridge> <f> we also just realized this now cause users starting to report this only now, as they got the renderer switched without really being aware of this
12:51 < bridge> <Jupstar ✪> But it's only important while also having an alpha< 1
12:51 < bridge> <f> yes... the probability this problem arises is proportional to your number of quads and envs
12:52 < bridge> <f> and we use those massively
12:52 < bridge> <Jupstar ✪> I remember it was reported a few years ago. But thought the maps where fixed back then
12:52 < bridge> <f> i guess thats why
12:52 < bridge> <f> i guess it was easier for you to manually fix ye
12:58 < bridge> <Jupstar ✪> @Patiga interested in writing a small script. I want to know if ddnet maps rely on it.. what is twgpu doing in this scenario?
12:58 < bridge> <f> cool, let me know if i can help
13:01 < bridge> <Patiga> twgpu so far just allows > 1 envelope values and uses them as such, didn't see a issue with it back then
13:01 < bridge> <Patiga> the result is pretty well defined and the color is clamped automatically at the end of rendering
13:02 < bridge> <Patiga> but I can see how it is sort of unexpected that you can make stuff brighter I suppose, is that the illogical part you are talking about?
13:02 < bridge> <Jupstar ✪> But does it clamp it manually?
13:02 < bridge> <Patiga> I don't think so
13:02 < bridge> <Jupstar ✪> The GPU driver might simply use the alpha value and multiply it with the rgb value and only clamps that result
13:03 < bridge> <Jupstar ✪> So if rgb is 2 and alpha 0.5 result is rgb = 1
13:03 < bridge> <Patiga> huh, I didn't know about that
13:03 < bridge> <Jupstar ✪> Old renderer would clamp the rgb
13:03 < bridge> <Patiga> would you be against manual clamping?
13:04 < bridge> <Patiga> at the end of the fragment shader
13:04 < bridge> <Jupstar ✪> I generally prefer to leave it to the GPU and so all kinds of clamping in the editor already
13:04 < bridge> <Jupstar ✪> I'll rationalize it again
13:05 < bridge> <Jupstar ✪> But if it's not ub from Vulkan spec. We should probs allow it
13:06 < bridge> <Patiga> I mean negative values are bonkers and are allowed too
13:06 < bridge> <Jupstar ✪> True
13:06 < bridge> <Patiga> up until recently I only saw negative/above 1 values as: influences the interpolation differently compared to 0/1
13:07 < bridge> <Patiga> but I think values above 1 can be used in a sensible way and I think software such as blender also handles values this way
13:07 < bridge> <Jupstar ✪> They often use such information for brightness
13:07 < bridge> <Jupstar ✪> E.g. hdr
13:08 < bridge> <Jupstar ✪> But that works affect the whole scene
13:08 < bridge> <Jupstar ✪> They also probably don't use rgb xd
13:10 < bridge> <Patiga> in the shader editor (the one with the nodes), rgba values can also be set above 1, just checked
13:10 < bridge> <Patiga> you don't even have to use math nodes
13:11 < bridge> <Patiga> if you use the slider it will default into the range 0-1, but if you insert 2, the range of the slider is 0-2
13:13 < bridge> <Patiga> I don't understand hsv yet. there you can't raise `hue` and `saturation` above 1, but `value` and `alpha` can have any positive values
13:14 < bridge> <Patiga> honestly I'd be fine with both behaviors, allowing values above 1 would be fine by me
13:14 < bridge> <Patiga> how do you see it?
13:16 < bridge> <Jupstar ✪> I looked into the spec and some khronous opengl wiki. They clearly give the calculation of the alpha blending and say it is clamped after the fragment output. So I guess it's good to allow it generally
13:16 < bridge> <Jupstar ✪> It makes the maps more robust against such changes anyway
13:16 < bridge> <Jupstar ✪> So even if we change it back in future the maps will just work
13:17 < bridge> <Patiga> what changes do you mean?
13:17 < bridge> <Jupstar ✪> The change that the old renderer clamped the value in the cpu
13:17 < bridge> <Patiga> ah
13:18 < bridge> <Jupstar ✪> Instead of letting the GPU do it. Only problem remains it. If this means the old renderer has to upload floating points now
13:18 < bridge> <Jupstar ✪> Instead of normalized color valley
13:18 < bridge> <Jupstar ✪> Values
13:19 < bridge> <Jupstar ✪> I changed that one day to match opengl 3.3 behavior. But i think vanilla uses fp
13:19 < bridge> <Patiga> eh, yeah that is unfortunate, wasn't aware of which renderer introduces which behavior
13:19 < bridge> <Patiga> and vanilla also doesn't clamp?
13:20 < bridge> <Patiga> couldn't you still upload the original values, only let the gpu convert them to floats and divide by 1024?
13:20 < bridge> <Jupstar ✪> Without shaders it's hard xd
13:21 < bridge> <Patiga> ow haven't touched opengl yet 😅
13:21 < bridge> <Patiga> btw that is also an issue, many mappers think that 1000 = 1, and not 1024
13:22 < bridge> <Patiga> I even found that in some mapper tutorial somewhere :/
13:22 < bridge> <Jupstar ✪> Yeah xd
13:22 < bridge> <Jupstar ✪> If we want to talk about map format. I can give u many issues xdd
13:22 < bridge> <Patiga> heh ^^
13:22 < bridge> <Patiga> I'd call that one an editor issue tho
13:23 < bridge> <Patiga> the users shouldn't have to work with fixed point numbers
13:23 < bridge> <Jupstar ✪> Ah I see xd
13:32 < bridge> <f> @Jupeyy_Keks @Paralix if this might help you: noticed that the map is buggy also with opengl 3.3.0, but not with the other versions of opengl
13:34 < bridge> <f> @Jupeyy_Keks @Patiga  if this might help you: noticed that the map is buggy also with opengl 3.3.0, but not with the other versions of opengl
15:40 < bridge> <heinrich5991> I used it to understand how to embed rust into cmake. however, it didn't really do much and wasn't worth the extra dependency
15:40 < bridge> <Ryozuki> i see
16:50 < bridge> <Mr.Gh0s7> I am trying to add flag to dfng (which is based on ddnet). I have problems when trying to compile. ```
16:50 < bridge> <Mr.Gh0s7> dfng-16.5flag/src/game/server/gamecontext.cpp: In member function ‘virtual void CGameContext::OnInit()’:
16:50 < bridge> <Mr.Gh0s7> dfng-16.5flag/src/game/server/gamecontext.cpp:3339:37: error: expected type-specifier before ‘CGameControllerCTF’
16:50 < bridge> <Mr.Gh0s7>  3339 |                 m_pController = new CGameControllerCTF(this);
16:50 < bridge> <Mr.Gh0s7>       |                                     ^~~~~~~~~~~~~~~~~~
16:50 < bridge> <Mr.Gh0s7> ```
16:51 < bridge> <Mr.Gh0s7> I used the 0.6 source for the flag entity and the ctf mod with some changes.
16:53 < bridge> <heinrich5991> do you define `CGameControllerCTF` somewhere?
16:54 < bridge> <Mr.Gh0s7> ```c++
16:54 < bridge> <Mr.Gh0s7> class CGameControllerCTF : public IGameController
16:54 < bridge> <Mr.Gh0s7> {
16:54 < bridge> <Mr.Gh0s7> public:
16:54 < bridge> <Mr.Gh0s7>     class CFlag *m_apFlags[2];
16:54 < bridge> <Mr.Gh0s7> 
16:54 < bridge> <Mr.Gh0s7>     CGameControllerCTF(class CGameContext 
16:54 < bridge> <Mr.Gh0s7> ```
16:55 < bridge> <Mr.Gh0s7> ```c++
16:55 < bridge> <Mr.Gh0s7> class CGameControllerCTF : public IGameController
16:55 < bridge> <Mr.Gh0s7> {
16:55 < bridge> <Mr.Gh0s7> public:
16:55 < bridge> <Mr.Gh0s7>     CGameControllerCTF(class CGameContext *pGameServer); 
16:55 < bridge> <Mr.Gh0s7> ```
16:56 < bridge> <Mr.Gh0s7> on ctf.h under game/server/gamemodes
18:09 < bridge> <Ryozuki> i love c++ cmake
18:10 < bridge> <Ryozuki> 1 hour to add a dep
18:10 < bridge> <Ryozuki> finally i get to code
18:14 < bridge> <deen> Did you `#include ".../ctf.h"` in gamecontext.cpp?
18:14 < bridge> <Mr.Gh0s7> yeah that was it thanks although I get segfault now xD. I'll put everything under DDRace.cpp.
18:15 < bridge> <deen> run with debugger to figure out the crash
18:27 < bridge> <Mr.Gh0s7> it segfaults at this line `78: ((CGameControllerDDRace *)(pGameServer->m_pController))->m_pInitResult = InitResult;` on score.cpp under game/server
18:27 < bridge> <Mr.Gh0s7> So i'll just add the flag-ing to the ddrace controller ;p
18:35 < bridge> <cauldron> Again my curiosity: since ddnet has controller support: would it be possible (just technically) to release ddnet for xbox/ps4?
18:35 < bridge> <cauldron> Again my curiosity: since ddnet has controller support: would it be possible (just technically) to release ddnet for xbox/ps5?
18:38 < bridge> <deen> I guess, as long as the consoles can reach regular servers
18:39 < bridge> <cauldron> Haha, cool, that would be so funny.
18:40 < bridge> <Jupstar ✪> xbox is windows anyway
18:40 < bridge> <Jupstar ✪> thats also why u can play xbox games on win10+
18:40 < bridge> <cauldron> Is it all intel 64 bit?
18:40 < bridge> <Jupstar ✪> amd64
18:41 < bridge> <Jupstar ✪> but yeah
18:41 < bridge> <Mahdiyar> What Is Error ?
18:41 < bridge> <Mahdiyar> https://cdn.discordapp.com/attachments/293493549758939136/1070036039772688514/Screenshot_2023-01-31_211048.png
18:42 < bridge> <Jupstar ✪> i dunno what exactly its used for maybe for the checksum or for the git commit displayed at the version string
18:42 < bridge> <Jupstar ✪> 
18:42 < bridge> <Jupstar ✪> but i guess smth like that
18:42 < bridge> <Jupstar ✪> but no idea how to fix xd
18:43 < bridge> <Mahdiyar> omg
18:43 < bridge> <Jupstar ✪> did you not use git clone
18:43 < bridge> <Jupstar ✪> but just downloaded the source?
18:44 < bridge> <Mahdiyar> ohhh yes
18:44 < bridge> <Mahdiyar> yes
18:44 < bridge> <Jupstar ✪> @heinrich5991 can we detect it ^
18:44 < bridge> <Robyt3> The build should still work with the source download though, if not then that's an issue of the build system
19:45 < bridge> <Ryozuki> i love
19:45 < bridge> <Ryozuki> https://cdn.discordapp.com/attachments/293493549758939136/1070052230117470299/image.png
19:45 < bridge> <Ryozuki> c++ error messages
19:45 < bridge> <Ryozuki> i wanted to do some ddnet coding but im reminded why i stay with rust
19:46 < bridge> <Ryozuki> it prints this t o tell me there is a duplicate symbol xd
19:51 < bridge> <Chairn> that's no c++ error messages
19:51 < bridge> <Chairn> that's build system telling which command failed
19:51 < bridge> <Ryozuki> same shit
19:52 < bridge> <Ryozuki> the build is part of the language
19:52 < bridge> <Ryozuki> tooling is  essential
19:52 < bridge> <Chairn> it's not
19:52 < bridge> <Ryozuki> for me it is
19:52 < bridge> <Chairn> here you use Ninja i believe
19:52 < bridge> <Chairn> ninja is at least 30 years more recent than c++
19:53 < bridge> <Chairn> it's like blaming the patient when the error is due to the doctor
19:54 < bridge> <Jupstar ✪> xd
19:55 < bridge> <Ryozuki> tooling is essential
19:55 < bridge> <Jupstar ✪> rust tooling is better, but in this case u probs only need to read the last sentence anyway
19:55 < bridge> <Ryozuki> so far 75% of my time has been spent adding a library xd
19:55 < bridge> <Jupstar ✪> rest is maybe nice to have actually
19:55 < bridge> <Jupstar ✪> in case u arent sure why the error happens
20:03 < bridge> <Ryozuki> `0x00007ffff582dbf0 in vtable for __cxxabiv1::__si_class_type_info () from /usr/lib/gcc/x86_64-pc-linux-gnu/12/libstdc++.so.6`
20:03 < bridge> <Ryozuki> i get a segfault here now xd
20:08 < bridge> <Ryozuki> <https://github.com/ddnet/ddnet/compare/master...edg-l:ddnet:encrypted_messages>
20:08 < bridge> <Ryozuki> zzz
20:09 < bridge> <Jupstar ✪> xd
20:10 < bridge> <Ryozuki> oh
20:10 < bridge> <Ryozuki> maybe cuz we dont use namespaces
20:10 < bridge> <Ryozuki> the class names collide
20:10 < bridge> <Ryozuki> i expected too much
20:16 < bridge> <Ryozuki> fixed xd
21:06 < bridge> <Scrumplex> I have switched to NixOS recently and the Steam release stopped working for me 🤔 
21:06 < bridge> <Scrumplex> 
21:06 < bridge> <Scrumplex> ```
21:06 < bridge> <Scrumplex> 2023-01-31 21:04:51 I http: fetching https://info.ddnet.org/info?name=Scrumplex
21:06 < bridge> <Scrumplex> 2023-01-31 21:04:51 I http: https://master2.ddnet.org/ddnet/15/servers.json failed. libcurl error (60): SSL certificate problem, verify that the CA cert is OK. Details:
21:06 < bridge> <Scrumplex> error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
21:06 < bridge> <Scrumplex> 2023-01-31 21:04:51 I http: https://info.ddnet.org/info?name=Scrumplex failed. libcurl error (60): SSL certificate problem, verify that the CA cert is OK. Details:
21:06 < bridge> <Scrumplex> error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
21:06 < bridge> <Scrumplex> 2023-01-31 21:04:51 I http: fetching https://info.ddnet.org/info?name=Scrumplex
21:06 < bridge> <Scrumplex> 2023-01-31 21:04:51 I http: https://master1.ddnet.org/ddnet/15/servers.json failed. libcurl error (60): SSL certificate problem, verify that the CA cert is OK. Details:
21:06 < bridge> <Scrumplex> error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
21:06 < bridge> <Scrumplex> ...
21:06 < bridge> <Scrumplex> ```
21:10 < bridge> <Robyt3> Can you open `https://master2.ddnet.org/ddnet/15/servers.json` in a browser successfully?
21:10 < bridge> <Scrumplex> yes
21:10 < bridge> <Scrumplex> curl also works fine
21:11 < bridge> <Scrumplex> I expect there are some quirks with Steam on NixOS here
21:18 < bridge> <Scrumplex> hmm
21:19 < bridge> <Scrumplex> Looks like it works fine when i use the Steam Linux Runtime as a compat tool
21:24 < bridge> <Chairn> see #3909
21:24 < bridge> <DDNet> https://github.com/ddnet/ddnet/issues/3909
22:33 < bridge> <newlesstee> Hello, i can ask questions about coding here?
22:34 < bridge> <MilkeeyCat> dont ask to ask, just ask?
22:37 < bridge> <newlesstee> How to "substring"?
22:50 < bridge> <Robyt3> Do you mean in general or in tw/ddnet code?
22:55 < bridge> <heinrich5991> depends heavily on the language if it's not tw/ddnet
23:01 < bridge> <newlesstee> ddnet code
