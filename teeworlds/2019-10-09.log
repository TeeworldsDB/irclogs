10:50 < day> Dune: 'ello dÃ¼nÃª
11:17 < Dune> hello dÃ¤Ã«y
15:00 < Jay> Hello guys. I have a little problem. I cannot compile the newest (released) source of Teeworlds 0.7.3.1. My compiler gives me following error:
15:01 < Jay> [109/127] [4] c src/engine/external/wavpack/wputils.c src/engine/client/backend_sdl.cpp:18:21: error: function 'void glTexImage3D(GLenum, GLint, GLint, GLsizei, GLsizei, GLsizei, GLint, GLenum, GLenum, const GLvoid*)' definition is marked dllimport  GLAPI void APIENTRY glTexImage3D(GLenum target, GLint level, GLint internalFormat, GLsizei width, GLsizei heigh
15:01 < Jay> t, GLsizei depth, GLint border, GLenum format, GLenum type, const GLvoid *pixels)
15:26 < Dune> Hey Jay
15:27 < Dune> That is odd
15:27 < Dune> What is your system?
15:27 < Dune> What version of SDL do you have o n it?
15:32 < Jay> win 10, newest update
15:32 < Jay> SDL 2 (i guess)
15:32 < Jay> 64 bit
15:34 < Jay> I use the official sources and compile with bam5. No changes at all
15:34 < Dune> Did you install yourself or did bam do that for you?
15:35 < Dune> SDL2 I mean
15:35 < Jay> bam downloaded it
15:35 < Jay> (it said that)
15:35 < Dune> It says that when it attempts to iirc 
15:35 < Dune> Can you run bam config
15:35 < Dune> And see what it says on the sdl line
15:36 < Jay> AUTO  sdl                  using supplied win32 libraries
15:36 < bridge> [teeworlds] <Dune> Hmm hold on
15:39 < Dune> Jay: can you check other/sdl/? Is there something there?
15:40 < Jay> ye
15:40 < Jay> bunch of *.txt files, and 2 directories (include and windows)
15:40 < Jay> and 1 sdl.lua
15:41 < Dune> Hmmm
15:41 < Jay> but thos files get created after launching bam5 client once
15:41 < Jay> before that they are not in there
15:42 < Jay> (relaunching bam5 client does not change the error)
15:43 < Jay> i do can use my VisualStudio 2017 project generated by CMake but its full of potential errors ( because every single code base is splitted in different projects ....)
15:44 < Jay> so this is not really comfortable to code with :/
15:46 < Dune> yes that is normal, it is the files that are downloaded by bam from https://github.com/teeworlds/teeworlds-libs
15:46 < Dune> you mean compiling with VS17 works?
15:46 < Jay> ye this works
15:47 < Jay> but VS17 still outputs 271 error and this count increases with more files opened
15:47 < Jay> its annoying :C
15:47 < Dune> yeah I bet
15:47 < Dune> I'm scratching my head
15:49 < Jay> hmm. I do can compile the game when i remove that `GLAPI` from `GLAPI void APIENTRY glTexImage3D(...)`
15:49 < Jay> but every graphic is actually an error graphic then
15:50 < Dune> you mean by editing backend_sdl.cpp:18?
15:50 < Jay> yes
15:50  * Dune scratches
15:51 < Dune> can you check https://github.com/teeworlds/teeworlds-libs/blob/master/sdl/include/SDL_version.h ?
15:51 < Dune> should be in other/sdl/include
15:51 < Dune> especially line 62, #define SDL_PATCHLEVEL      8
15:53 < Jay> its 8 on my side
15:53 < Jay> this is the full output of the bam5 error
15:53 < Jay> https://pastebin.com/tzwrQbrx
15:53 < Jay> dunno if it helps a bit more
15:55 < Dune> so you have the right SDL2 version. looks like a bug somehow, but I'm not knowledgeable enough
15:55 < Dune> you might want to open an issue there: https://github.com/teeworlds/teeworlds/issues
15:55 < Dune> it is strange that it is bam specific though, and not a problem with cmake
15:56 < Jay> i got that problem somewhere too in 0.6.4. DDNet never had this issue at all
15:57 < Jay> iirc
15:58 < Dune> really? never heard of this issue
15:58 < Jay> yea a programme named Henningstone helped me out pretty fast
15:58 < Jay> but i lost contact to him and seems like he is not developing anymore
15:58 < Jay> programmer*
16:02 < Dune> huh, he is usually in this channel, seems not anymore
16:03 < rand> isn't it related to Assa message ?
16:04 < Dune> what message?
16:05 < rand> bridge | [teeworlds] <Assa> Teeworlds uses legacy OpenGL
16:05 < rand> bridge | [teeworlds] <Assa> I will do a pull request, because a cmake flag is missing
16:05 < rand> bridge | [teeworlds] <Assa> you can't compile with a newer opengl
16:06 < Dune> huh, downside of the double build system, requires double the fixes :/
16:08 < Dune> indeed https://www.khronos.org/opengl/wiki/Common_Mistakes#Legacy%20Generation
16:08 < Dune> glTexImage2D is deprecated
16:11 < Jay> uhm? my error is happening with glTexImage3D
16:11 < Jay> not 2D
16:12 < Dune> ph
16:12 < bridge> [teeworlds] <ChillerDragon> What do you guys think about not counting a wrong rcon password twice?
16:12 < bridge> [teeworlds] <ChillerDragon> Imagine some has a rcon_auth bind and unluckily presses it multiple times he gets a ban. But if we ignore duplicated wrong passwords that could be saver ðŸ˜„
16:12 < Dune> my bad Jay
16:13 < Dune> @ChillerDragon: rcon auth was used as a way to crash-flood servers in the past iirc, sounds like you *might* open an attack vector?
16:18 < bridge> [teeworlds] <ChillerDragon> yes for sure sounds like an attack vector
16:18 < bridge> [teeworlds] <ChillerDragon> but maybe it can be implemented save idk just an idea probably not worth the effort
16:42 < day> These flood detection bans are so annoying. some servers ban you for a minute just for trying to connect twice in quick succession~
16:43 < Dune> yes, that is the default
16:44 < Dune> https://github.com/teeworlds/teeworlds/issues/1631
16:50 < day> the thing is you can prime it by hitting enter just two times
16:50 < day> the next connection attempt will then end you
16:55 < bridge> [teeworlds] <ChillerDragon> imo the server can stay as trigger happy but the vanilla client should simply sanitize user input and even if the user spamms enter/esc or what ever limiting the connection attempts
16:58 < day> problematic is the "joining a full server" scenario.
16:58 < day> i usually deploy the "keep enter pressed" ddos approach :P
16:59 < Jay> xD
18:22 < bridge> [freenode] <ChillerDragon> hello world
18:24 < Jay> @Dune i got it to work now
18:25 < Jay> I just deleted the `GLAPI` from `GLAPI void APIENTRY glTexImage3D` and renamed the `datasrc` folder to `data` now its working
18:49 < bridge> [teeworlds] <Assa> for the cmake deprication: just set the CXXFLAG -DOpenGL_GL_PREFERENCE=LEGACY
18:53 < Dune> Glad to hear! Not sure why you would rename the datasrc folder though, it is copied to data as part of the build process 
18:54 < Dune> @Assa if this cxx flag is added to cmake it should be added to bam too
18:55 < bridge> [teeworlds] <Assa> in my buildfiles i just added it to the environment, I may need some help to modifiy the cmake/bam files
19:00 < bridge> [teeworlds] <Assa> settings.cc.flags_cxx:Add("-DOpenGL_GL_PREFERECE=LEGACY")
19:00 < bridge> [teeworlds] <Assa> for bam, but for cmake no idea
19:03 < bridge> [teeworlds] <Assa> cmake_policy(SET CMP0072 OLD)
19:08 < bridge> [teeworlds] <Assa> @Dune this is a cmake flag, you don't need to set it in bam - bam has no problem when old and new OpenGL stuff is installed
19:47 < bridge> [teeworlds] <Dune> @Assa yet #2263 is a bam issue
19:52 < Jay> @Dune no Data folder is outputted after the build process
19:52 < Jay> only the exe and an `objs` folder
20:00 < rand> cmake ?
20:01 < bridge> [teeworlds] <Assa> i am talking about another issue
20:02  * rand answering Jay
20:02 < Jay> bam
20:02 < rand> try : bam conf=release content
20:03 < rand> Assa: isn't it weird that the issue occurs with cmake but not with bam ?
20:04 < rand> we might need some guru :3
20:06 < bridge> [teeworlds] <Assa> guide to break cmake:
20:06 < bridge> [teeworlds] <Assa> $ sudo apt-get install libglu1-mesa-dev freeglut3-dev mesa-common-dev
20:06 < bridge> [teeworlds] <Assa> done
20:32 < Dune> seeing what happened to Jay, I'd wager it occurs to bam too...
20:33 < Jay> well rand answer helped me
20:33 < Dune> Jay, no data folder in build/[arch/arch] ?
20:33 < Dune> even though build completes?
20:33 < Jay> it putted the dll's and data in the release folder
20:33 < Jay> well in the debug folder there is no data and dll's at all (after a successful build)
20:34 < Dune> that's strange, it should be
20:34 < Jay> just the exe itself and an folder called "objs"
20:34 < Dune> unless you compile for server or client only
20:34 < Jay> i do bam5 client
20:34 < Jay> is that wrong?
20:34 < Dune> ah, so you compile for client only, maybe that doesn't do the contents
20:34 < Dune> lemme check
20:35 < Jay> i used to build teeworlds like bam5 client_debug and it worked back in the 0.6.4 days
20:35 < rand> it doesn't
20:35 < bridge> [teeworlds] <Assa> bam5 content should
20:36 < Dune> I never specify targets so I don't know :|
20:36 < Dune> great I broke my build then :D
20:37 < bridge> [teeworlds] <Assa> bam conf=debug <target>
20:40 < Dune> how do I keep breaking my builds
20:40 < Dune> windows is a mystery
20:41 < bridge> [teeworlds] <Assa> windows doesn't even have a command line tool to zip stuff
20:41 < bridge> [teeworlds] <Assa> i used the "jar" command from java to do it
20:41 < Dune> can't link to SDL2 anymore :|
20:41 < Dune> and the CI stuff uses cmake only
20:42 < bridge> [teeworlds] <Assa> did you do my "guide to break cmake"?
20:42 < Dune> no, I just tried building teeworlds after two weeks of not doing so
20:42 < Dune> (on windows)
20:42 < Dune> seems my build configs naturally deteriorate over time
20:43 < bridge> [teeworlds] <Assa> maybe the new windows update broke it?
20:43 < Dune> I don't have internet, so it can't be an update
20:44 < bridge> [teeworlds] <Assa> the only thing harder to compile is mac
20:45 < Dune> ah, bam auto setup back to mingw, explains
20:46 < bridge> [teeworlds] <Assa> should mingw be added to the CI, too?
20:47 < Dune> Put away sharp objects in the room if you attempt that
20:47 < bridge> [teeworlds] <Assa> *puts away huge knife*
20:48 < bridge> [teeworlds] <Dune> Add bam first, there were problems that went undetected for a long time on windows
20:49 < bridge> [teeworlds] <Assa> can teeworlds register for github actions so we can get rid of appveyor, travis, and circleci? I promise I will setup a workflow for each OS you want
20:50 < bridge> [teeworlds] <Dune> See https://github.com/teeworlds/teeworlds/pull/2194
20:53 < bridge> [teeworlds] <Assa> why do you sent my my own PR? That has nothing to do with what i said
20:55 < bridge> [teeworlds] <Dune> Hmm, doesn't it make the PR obsolete then?
20:55 < bridge> [teeworlds] <Assa> yes ... and no
20:56 < bridge> [teeworlds] <Assa> it outdates it: Github actions is (as the name suggests) A github CI/CD service and provides a way easier deployment
20:56 < bridge> [teeworlds] <Assa> I tested it in my catch64 repo
21:25 < bridge> [teeworlds] <jxsl13> it's great :0
21:26 < bridge> [teeworlds] <Assa> it really is
21:27 < bridge> [teeworlds] <jxsl13> but it doesn't fix my windows build :'(
21:33 < rand> and suddenly, crash
21:34 < Dune> what crashed, rand ?
21:42 < rand> a zcatch server
21:43 < rand>  guess
21:45 < rand> other guess, leave&kill
22:04 < bridge> [teeworlds] <jxsl13> which one?
22:46 < bridge> [teeworlds] <Assa> ah, same as the issue
22:46 < bridge> [teeworlds] <Assa> jsxsl you pulled the latest master recently, didn't you?
23:22 < rand> I guessed wrong apparently, server still only
23:22 < rand> online
23:22 < rand> but, it did hang at some point
23:23 < rand> and disappear from server list
23:54 < bridge> [teeworlds] <jxsl13> merged master
