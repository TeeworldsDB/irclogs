03:48 < bridge_> [freenode] <Digit> why is it happening?   what's the motivation behind the attack?
03:49 < bridge_> [freenode] <Digit> v annoyin
13:06 < bridge_> [teeworlds] <Dune> Translations for Teeworlds 0.7.1 are open : https://www.teeworlds.com/forum/viewtopic.php?id=12573
13:35 < YuGiOhJCJ> hello, I receive a lot of "banned '<IP_ADDRESS>' for 1 minute (Stressing network)" messages when I start a teeworlds server, am I attacked?
13:35 < YuGiOhJCJ> I use teeworlds-0.6.2 as server
13:36 < YuGiOhJCJ> maybe it is fixed in the last release
13:36 < YuGiOhJCJ> who knows...
13:38 < bridge_> [teeworlds] <Dune> hello YuGiOhJCJ
13:38 < YuGiOhJCJ> I killed the server
13:38 < bridge_> [teeworlds] <Dune> 0.6.5 fixes some exploits
13:39 < bridge_> [teeworlds] <Dune> (likewise 0.6.3 and 0.6.4)
13:39 < YuGiOhJCJ> oh nice
13:39 < bridge_> [teeworlds] <Dune> especially the very troublesome exploit of connecting clients filling all servers
13:40 < YuGiOhJCJ> well, it's time for an upgrade of my server
13:40 < bridge_> [teeworlds] <Dune> You should probably upgrade (or apply patches if you're running a modified server)
13:42 < bridge_> [teeworlds] <Dune> YuGiOhJCJ: having any trouble with that?
13:42 < YuGiOhJCJ> no problem, it should be fine
13:42 < YuGiOhJCJ> thanks
13:43 < YuGiOhJCJ> I will upgrade then I will se of the problem is gone
13:43 < YuGiOhJCJ> *see
13:43 < YuGiOhJCJ> *if
13:44 < bridge_> [teeworlds] <Dune> cool, thanks :)
14:55 < YuGiOhJCJ> wow the teeworlds-0.7.0 server is not doing the same thing than teeworlds-0.6.2 at startup, it tries to check for some files and create some directories so I get the following errors: "[storage]: couldn't open storage.cfg", "[storage]: unable to create save directory", "[storage]: initialisation failed" and "[kernel]: ERROR: couldn't register interface storage. null pointer given"
14:56 < YuGiOhJCJ> that's how I run the server: sudo -u teeworlds teeworlds_srv -f /etc/teeworlds/serverconfig.cfg
14:58 < YuGiOhJCJ> the "storage.cfg" file is available in the source archive, but not in the build I did from the source
14:58 < YuGiOhJCJ> I could include it, but where, I don't know
15:00 < YuGiOhJCJ> I built teeworlds more or less following these steps: https://aur.archlinux.org/cgit/aur.git/tree/PKGBUILD?h=teeworlds-git
15:01 < YuGiOhJCJ> and I see nothing about storage.cfg so I am wondering if it's required
15:12 < YuGiOhJCJ> can I specify the location of the storage.cfg file when I run the server?
15:12 < YuGiOhJCJ> (by using some flags)
15:13 < bridge_> [teeworlds] <Dune> yes, -f
15:14 < bridge_> [teeworlds] <Dune> YuGiOhJCJ: don't run the server as sudo, please
15:14 < YuGiOhJCJ> I run the server as teeworlds
15:15 < YuGiOhJCJ> (teeworlds is the user)
15:15 < bridge_> [teeworlds] <Dune> "that's how I run the server: sudo -u teeworlds teeworlds_srv -f /etc/teeworlds/serverconfig.cfg"
15:15 < bridge_> [teeworlds] <Dune> ah
15:15 < bridge_> [teeworlds] <Dune> nvm, sorry
15:15 < YuGiOhJCJ> -f is already used in my command
15:15 < bridge_> [teeworlds] <Dune> yeah, I see that
15:16 < bridge_> [teeworlds] <Dune> I didn't know you'd upgrade to 0.7, the 0.6 security issues fixes are 0.6.5
15:16 < bridge_> [teeworlds] <Dune> but that works too, of course
15:17 < bridge_> [teeworlds] <Dune> I think storage.cfg should be in the same folder as teeworlds_srv
15:17 < bridge_> [teeworlds] <Dune> not sure, though
15:18 < bridge_> [teeworlds] <Dune> eh, yeah, that's where I have it YuGiOhJCJ
15:20 < YuGiOhJCJ> teeworlds_srv is a binary so it is placed in /usr/bin whereas storage.cfg is a configuration file so I would prefer to place it somewhere else like in /etc/teeworlds or something like that
15:21 < YuGiOhJCJ> but it is maybe hardcoded
15:21 < YuGiOhJCJ> no way to specify the location
15:24 < YuGiOhJCJ> OK I found that it is looking in the current directory for 'storage.cfg'
15:25 < YuGiOhJCJ> no matters if it is in the same directory than teeworlds_srv
15:25 < YuGiOhJCJ> now I need to customize this file
15:25 < YuGiOhJCJ> so it will look to writable directories for the teeworlds user
15:26 < bridge_> [teeworlds] <Dune> huh
15:27 < bridge_> [teeworlds] <Dune> never tried installing teeworlds_srv in /usr/bin, I usually keep several, each in their own folder
15:27 < bridge_> [teeworlds] <Dune> of course, the way you do it makes sense
15:28 < YuGiOhJCJ> yes, it's because I like to make a package for my distro, not working in the home directory, it's like package maintainers are working
15:29 < bridge_> [teeworlds] <Dune> I see
15:33 < YuGiOhJCJ> oh "maps" are missing
15:33 < YuGiOhJCJ> they are in a separate package
15:33 < YuGiOhJCJ> on GitHub
15:34 < bridge_> [teeworlds] <Dune> yeah, you need to load the submodules via git
15:34 < bridge_> [teeworlds] <Dune> git submodule update --recursive --remote
15:42 < YuGiOhJCJ> well, I will place them in /usr/share/teeworlds/data/maps/ which is an empty directory currently
15:46 < YuGiOhJCJ> or better before the build process, inside the teeworlds source tree at the "datasrc/maps/" location
15:46 < YuGiOhJCJ> I prefer an offline install so without looking for external resources
15:52 < bridge_> [teeworlds] <Dune> the git submodule thing puts them in datasrc/maps if I'm not wrong
16:04 < YuGiOhJCJ> yes it makes sense
16:05 < YuGiOhJCJ> I will investigate that later I need to shutdown see you thanks for the help
16:08 < bridge_> [teeworlds] <Dune> Thanks for the work :)
17:25 < rand> teeworlds_srv can work without storage.cfg
18:42 < bridge_> [teeworlds] <Dune> My thoughts too rand, but apparentlyit says it can't create a save directory
21:01 < rand> I succeeded to run teeworlds_srv as nobody
21:01 < rand> teeworlds user should be fine :]
21:49 < YuGiOhJCJ> that's weird when I run "sudo -u teeworlds teeworlds_srv -f /tmp/toto/serverconfig.cfg" I got "[console]: failed to open '/tmp/toto/serverconfig.cfg'"
21:50 < YuGiOhJCJ> permissions are: -rwxrwxrwx 1 teeworlds users 377 Nov  8 21:34 /tmp/toto/serverconfig.cfg
21:51 < rand> what about /tmp and /tmp/toto ?
21:53 < YuGiOhJCJ> drwxrwxrwx 6 teeworlds users 4096 Nov  8 21:34 /tmp/toto
21:53 < YuGiOhJCJ> drwxrwxrwt 13 root root 4096 Nov  8 21:26 /tmp
21:54 < YuGiOhJCJ> it's teeworlds-0.7.0
21:55 < YuGiOhJCJ> built from source code
21:58 < YuGiOhJCJ> lol ok with "strace" I see what happens
22:00 < YuGiOhJCJ> the path "/tmp/toto/serverconfig.cfg" is concatenated to the userdir, datadir, currentdir and appdir
22:00 < YuGiOhJCJ> I need to move my file
22:00 < YuGiOhJCJ> to one of these directories
22:01 < YuGiOhJCJ> then just give the filename
22:01 < YuGiOhJCJ> to the command line
22:01 < YuGiOhJCJ> not the full path
22:01 < YuGiOhJCJ> absolute
22:02 < YuGiOhJCJ> that's it: [console]: executing 'serverconfig.cfg'
22:02 < YuGiOhJCJ> :D
22:12 < Dune> :D
